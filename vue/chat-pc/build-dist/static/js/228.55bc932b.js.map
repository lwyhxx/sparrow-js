{"version":3,"file":"static/js/228.55bc932b.js","mappings":"yJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAC,EAAEF,EAAII,GAAIJ,EAAIK,OAAO,SAASC,GAAM,OAAOJ,EAAG,MAAM,CAACK,IAAID,EAAKE,GAAGC,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMJ,EAAKK,OAAO,IAAM,MAAMT,EAAG,MAAM,CAACO,YAAY,WAAWC,MAAM,CAAC,IAAMJ,EAAKM,QAAQ,IAAM,QAAQV,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACF,EAAIa,GAAGb,EAAIc,GAAGR,EAAKS,aAA6B,IAAfT,EAAKU,MAAad,EAAG,MAAM,CAACO,YAAY,WAAW,CAACP,EAAG,SAAS,CAACF,EAAIa,GAAG,QAAQX,EAAG,SAAS,CAACO,YAAY,QAAQ,CAACT,EAAIa,GAAG,UAA0B,IAAfP,EAAKU,MAAad,EAAG,MAAM,CAACO,YAAY,eAAe,CAACT,EAAIa,GAAG,SAASX,EAAG,MAAM,CAACO,YAAY,eAAe,CAACT,EAAIa,GAAG,UAAU,IAAG,EAC3rB,EACII,EAAkB,G,UCuBtB,GACAC,OACA,OACAb,MAAA,GAEA,EACA,gBACA,KAAAc,SACA,EACAC,QAAA,CACAC,cACA,KAAAC,QAAAC,IAAA,EACA,EACA,gBACA,IAAAC,EAAAC,EAAAA,EAAAA,gBACAD,EAAAE,MACAC,IACA,KAAAtB,MAAAsB,EAAAT,KAAAU,KAAAtB,IACA,CACAE,GAAAF,EAAAE,GACAqB,OAAAvB,EAAAwB,GAAAD,OACAE,OAAAzB,EAAAyB,OACAC,SAAA1B,EAAAwB,GAAAE,SACArB,OAAAL,EAAAwB,GAAAnB,OACAsB,QAAA3B,EAAAwB,GAAAG,QACArB,QAAAN,EAAAwB,GAAAlB,QACAsB,YAAA5B,EAAAwB,GAAAI,eAEA,IAEAC,IACAC,QAAAC,IAAAF,EAAA,GAGA,EACA,aAAAG,GACA,IAAAC,EAAA,WACAd,EAAAA,EAAAA,YAAAa,EAAA9B,GAAA,GAAAkB,MACAC,IACA,KAAAa,SAAA,QACAD,EAAApB,UACAiB,QAAAC,IAAAV,EAAA,IAEAQ,IACAC,QAAAC,IAAAF,GACA,KAAAK,SAAA,UAGA,EACA,WAAAF,GACA,IAAAC,EAAA,WACAd,EAAAA,EAAAA,YAAAa,EAAA9B,GAAA,GAAAkB,MACAC,IACA,KAAAa,SAAA,QACAD,EAAApB,UACAiB,QAAAC,IAAAV,EAAA,IAEAQ,IACAC,QAAAC,IAAAF,GACA,KAAAK,SAAA,UAGA,ICvFyP,I,UCQrPC,GAAY,OACd,EACA1C,EACAkB,GACA,EACA,KACA,WACA,MAIF,EAAewB,EAAiB,O","sources":["webpack://chat-pc/./src/views/NewFriend.vue","webpack://chat-pc/src/views/NewFriend.vue","webpack://chat-pc/./src/views/NewFriend.vue?f0f3","webpack://chat-pc/./src/views/NewFriend.vue?0b82"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},_vm._l((_vm.users),function(item){return _c('div',{key:item.id,staticClass:\"user-item\"},[_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":item.avatar,\"alt\":\"\"}}),_c('img',{staticClass:\"img-flag\",attrs:{\"src\":item.flagUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"user-name\"},[_c('span',[_vm._v(_vm._s(item.name))])])]),(item.state === 0)?_c('div',{staticClass:\"operate\"},[_c('button',[_vm._v(\"拒绝\")]),_c('button',{staticClass:\"chat\"},[_vm._v(\"通过\")])]):(item.state === 1)?_c('div',{staticClass:\"operate-res\"},[_vm._v(\"已通过\")]):_c('div',{staticClass:\"operate-res\"},[_vm._v(\"已拒绝\")])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <div v-for=\"item of users\" :key=\"item.id\" class=\"user-item\">\n      <div class=\"user-info\">\n        <div class=\"avatar\">\n          <img :src=\"item.avatar\" alt=\"\" />\n          <img :src=\"item.flagUrl\" alt=\"\" class=\"img-flag\" />\n        </div>\n        <div class=\"user-name\">\n          <span>{{ item.name }}</span>\n        </div>\n      </div>\n      <div v-if=\"item.state === 0\" class=\"operate\">\n        <button>拒绝</button>\n        <button class=\"chat\">通过</button>\n      </div>\n      <div v-else-if=\"item.state === 1\" class=\"operate-res\">已通过</div>\n      <div v-else class=\"operate-res\">已拒绝</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ChatApi } from \"../../../api/Chat\";\n\nexport default {\n  data() {\n    return {\n      users: [],\n    };\n  },\n  async mounted() {\n    this.refresh();\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.go(-1);\n    },\n    async refresh() {\n      var promise = ChatApi.newFriendList();\n      promise.then(\n        (res) => {\n          this.users = res.data.map((item) => {\n            return {\n              id: item.id,\n              userId: item.vo.userId,\n              status: item.status,\n              userName: item.vo.userName,\n              avatar: item.vo.avatar,\n              addTime: item.vo.addTime,\n              flagUrl: item.vo.flagUrl,\n              nationality: item.vo.nationality,\n            };\n          });\n        },\n        (err) => {\n          console.log(err);\n        }\n      );\n    },\n    async reject(user) {\n      var that = this;\n      await ChatApi.auditFriend(user.id, 2).then(\n        (res) => {\n          this.$message(\"操作成功\");\n          that.refresh();\n          console.log(res);\n        },\n        (err) => {\n          console.log(err);\n          this.$message(\"操作失败\");\n        }\n      );\n    },\n    async pass(user) {\n      var that = this;\n      await ChatApi.auditFriend(user.id, 1).then(\n        (res) => {\n          this.$message(\"操作成功\");\n          that.refresh();\n          console.log(res);\n        },\n        (err) => {\n          console.log(err);\n          this.$message(\"操作失败\");\n        }\n      );\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.user-item {\n  width: 100%;\n  height: 100px;\n  padding: 5px 0;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .user-info {\n    width: 200px;\n    display: flex;\n    align-items: center;\n\n    .avatar {\n      width: 60px;\n      height: 60px;\n      position: relative;\n\n      img {\n        border-radius: 5px;\n        width: 100%;\n        height: 100%;\n      }\n\n      .img-flag {\n        position: absolute;\n        bottom: -3px;\n        left: -3px;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        border: 1px solid #fff;\n      }\n    }\n\n    .user-name {\n      margin-left: 10px;\n      display: flex;\n      flex-direction: column;\n      justify-content: start;\n\n      span {\n        &:last-child {\n          color: @text-gray-color;\n          font-size: 14px;\n          padding-top: 5px;\n        }\n      }\n    }\n  }\n\n  .operate {\n    width: 70%;\n    text-align: end;\n\n    button {\n      min-width: 80px;\n      width: 15%;\n      padding: 10px 0;\n      background-color: @theme-color;\n      border: 2px solid @text-color;\n      color: @text-color;\n      cursor: pointer;\n      font-size: 14px;\n    }\n\n    .chat {\n      margin-left: 5px;\n      background-color: @text-color;\n      color: #fff;\n    }\n  }\n\n  .operate-res {\n    color: @text-gray-color;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewFriend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewFriend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewFriend.vue?vue&type=template&id=2142b57f&scoped=true&\"\nimport script from \"./NewFriend.vue?vue&type=script&lang=js&\"\nexport * from \"./NewFriend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewFriend.vue?vue&type=style&index=0&id=2142b57f&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2142b57f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_l","users","item","key","id","staticClass","attrs","avatar","flagUrl","_v","_s","name","state","staticRenderFns","data","refresh","methods","onClickLeft","$router","go","promise","ChatApi","then","res","map","userId","vo","status","userName","addTime","nationality","err","console","log","user","that","$message","component"],"sourceRoot":""}