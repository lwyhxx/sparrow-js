{"version":3,"file":"static/js/app.345393c8.js","mappings":"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","sources":["webpack://chat-pc/./src/App.vue","webpack://chat-pc/./src/App.vue?0e40","webpack://chat-pc/../../source/scripts/ImProtocol.js","webpack://chat-pc/../../source/scripts/sparrow_es.js","webpack://chat-pc/../api/Chat.js","webpack://chat-pc/../api/Initialization.js","webpack://chat-pc/./src/main.js","webpack://chat-pc/./src/router/index.js","webpack://chat-pc/./src/store/index.js","webpack://chat-pc/webpack/bootstrap","webpack://chat-pc/webpack/runtime/amd options","webpack://chat-pc/webpack/runtime/async module","webpack://chat-pc/webpack/runtime/chunk loaded","webpack://chat-pc/webpack/runtime/compat get default export","webpack://chat-pc/webpack/runtime/define property getters","webpack://chat-pc/webpack/runtime/ensure chunk","webpack://chat-pc/webpack/runtime/get javascript chunk filename","webpack://chat-pc/webpack/runtime/get mini-css chunk filename","webpack://chat-pc/webpack/runtime/global","webpack://chat-pc/webpack/runtime/hasOwnProperty shorthand","webpack://chat-pc/webpack/runtime/load script","webpack://chat-pc/webpack/runtime/make namespace object","webpack://chat-pc/webpack/runtime/node module decorator","webpack://chat-pc/webpack/runtime/publicPath","webpack://chat-pc/webpack/runtime/css loading","webpack://chat-pc/webpack/runtime/jsonp chunk loading","webpack://chat-pc/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=26838938&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&id=26838938&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","//im 封装的底层通信协议 保证对前台的协议是一致的\nvar ImProtocol = function (\n  //聊天类型 0:1对1单聊 1:一对多群聊\n  chatType,\n  //消息类型 0:文本消息 1:图片消息\n  msgType,\n  //当前用户id [当前用户ID可以不传]\n  sender,\n  //接收方ID\n  receiver,\n  // 会话key,如果是1对一会话，可以不传\n  sessionKey,\n  //消息内容\n  msg,\n  //客户端发送时间\n  clientSendTime\n) {\n  this.chatType = chatType;\n  this.msgType = msgType;\n  this.sender = sender;\n  this.receiver = receiver;\n  this.sessionKey = sessionKey;\n  this.msg = msg;\n  this.clientSendTime = clientSendTime;\n};\n\n//文件消息标识\nImProtocol.TEXT_MESSAGE = 0;\n//图片消息标识\nImProtocol.IMAGE_MESSAGE = 1;\n//1对1单聊\nImProtocol.CHAT_TYPE_1_2_1 = 0;\n//一对多群聊\nImProtocol.CHAT_TYPE_1_2_N = 1;\n//撤消消息\nImProtocol.CHAT_TYPE_CANCEL = 2;\n\nImProtocol.CHAT_TYPE_LENGTH = 1;\nImProtocol.MSG_TYPE_LENGTH = 1;\n\nImProtocol.prototype.toBytes = function () {\n  var currentUserId = parseInt(this.sender, 10);\n  var currentUserIdBytes = currentUserId.toBytes();\n  var currentUserIdLength = currentUserIdBytes.length;\n\n  var sessionKeyBytes = null;\n  var sessionKeyBytesLength = null;\n  var sessionKeyLengthBytes = null;\n  var sessionKeyLengthLength = 4; //int 4bytes\n\n  var receiverBytes = null;\n  var receiverLength = 4; //int 4bytes\n  if (this.chatType === ImProtocol.CHAT_TYPE_1_2_N) {\n    sessionKeyBytes = this.sessionKey.toArrayBuffer();\n    //session key 字节的长度\n    sessionKeyBytesLength = sessionKeyBytes.length;\n    //session key length's bytes\n    sessionKeyLengthBytes = sessionKeyBytesLength.toBytes();\n    //session key length's bytes length\n    sessionKeyLengthLength = 4; //int 4bytes\n  } else {\n    receiverBytes = this.receiver.toBytes();\n  }\n\n  var contentBytes =\n    this.msgType === ImProtocol.TEXT_MESSAGE\n      ? this.msg.toArrayBuffer()\n      : this.msg;\n  var msgLength =\n    this.msgType === ImProtocol.TEXT_MESSAGE\n      ? contentBytes.length\n      : this.msg.byteLength;\n\n  var msgLengthBytes = msgLength.toBytes();\n  var msgLengthLength = 4; //int 4bytes\n  var sendTimeBytes = (this.clientSendTime + \"\").toArrayBuffer();\n  var sendTimeLength = sendTimeBytes.length;\n\n  var totalLength = 0;\n  if (this.chatType === ImProtocol.CHAT_TYPE_1_2_N) {\n    totalLength =\n      ImProtocol.CHAT_TYPE_LENGTH +\n      ImProtocol.MSG_TYPE_LENGTH +\n      currentUserIdLength + //4\n      sessionKeyLengthLength + //4\n      sessionKeyBytesLength +\n      msgLengthLength + //4\n      msgLength +\n      sendTimeLength;\n  } else {\n    totalLength =\n      ImProtocol.CHAT_TYPE_LENGTH +\n      ImProtocol.MSG_TYPE_LENGTH +\n      currentUserIdLength + //4\n      receiverLength + //4\n      msgLengthLength + //4\n      msgLength +\n      sendTimeLength;\n  }\n  let result = new Uint8Array(totalLength);\n  var offset = 0;\n  result.set([this.chatType, this.msgType], offset);\n  offset += ImProtocol.CHAT_TYPE_LENGTH + ImProtocol.MSG_TYPE_LENGTH;\n  result.set(currentUserIdBytes, offset);\n  offset += currentUserIdLength;\n  if (this.chatType === ImProtocol.CHAT_TYPE_1_2_N) {\n    result.set(sessionKeyLengthBytes, offset);\n    offset += sessionKeyLengthLength;\n    result.set(sessionKeyBytes, offset);\n    offset += sessionKeyBytesLength;\n  } else {\n    result.set(receiverBytes, offset);\n    offset += receiverLength;\n  }\n  result.set(msgLengthBytes, offset);\n  offset += msgLengthLength;\n  result.set(contentBytes, offset);\n  offset += msgLength;\n  result.set(sendTimeBytes, offset);\n  return result;\n};\nImProtocol.cancel = function (dataView, buf, callback) {\n  var offset = 0;\n  console.log(\"撤销协议\");\n  offset += 1;\n  const sessionKeyLength = dataView.getInt32(offset);\n  offset += 4; //session key length=4\n  const sessionKeyBuffer = buf.slice(offset, sessionKeyLength + offset);\n  offset += sessionKeyLength;\n  const sessionKey = new Uint8Array(sessionKeyBuffer).toString();\n  const clientSendTimeLength = dataView.getInt32(offset);\n  offset += 4; //session key length=4\n  const clientSendTimeBuffer = buf.slice(offset, clientSendTimeLength + offset);\n  const clientSendTime = +new Uint8Array(clientSendTimeBuffer).toString();\n  console.log(sessionKeyLength, sessionKey, clientSendTime);\n  callback({\n    chatType: this.chatType,\n    clientSendTime: clientSendTime,\n    sessionKey: sessionKey,\n  });\n};\n//收到推送的消息\nImProtocol.parse = async function (blob, callback) {\n  //当客户端收到服务端发来的消息时，触发onmessage事件，\n  // 参数e.data包含server传递过来的数据\n  const buf = await blob.arrayBuffer();\n\n  var offset = 0;\n  var dataView = new DataView(buf);\n  var chatType = dataView.getUint8(offset);\n  // 服务器撤消事件推送\n  if (chatType === 2) {\n    ImProtocol.cancel(dataView, buf, callback);\n    return;\n  }\n  var receiver = null;\n  var sessionKey = null;\n  var text = null;\n  var msgBuffer = null;\n  var sender = null;\n  var clientSendTime = null;\n\n  //正常接收消息推送\n  offset += ImProtocol.CHAT_TYPE_LENGTH; //chat type length=1\n  var msgType = dataView.getUint8(offset);\n  offset += ImProtocol.MSG_TYPE_LENGTH; //msg type length=1\n  //消息来源 对方用户id\n  //因为是接收消息，所以fromUserId就是对方用户id\n  sender = dataView.getInt32(offset);\n  offset += 4; //from user id length=4\n  if (chatType === ImProtocol.CHAT_TYPE_1_2_1) {\n    //因为是接收消息，所以currentUserId是接收人ID，即当前用户ID\n    receiver = dataView.getInt32(offset);\n    sessionKey = ImProtocol.generate121SessionKey(sender, receiver);\n    offset += 4;\n  }\n  if (chatType === ImProtocol.CHAT_TYPE_1_2_N) {\n    //群聊获取session key\n    var sessionKeyLength = dataView.getInt32(offset);\n    offset += 4; //session key length=4\n    const sessionKeyBuffer = buf.slice(offset, sessionKeyLength + offset);\n    offset += sessionKeyLength;\n    //构建session key\n    sessionKey = new Uint8Array(sessionKeyBuffer).toString();\n  }\n\n  //实际的消息长度\n  var msgLength = dataView.getInt32(offset);\n  offset += 4; //msg length =4\n\n  //文本消息解析\n  if (msgType === ImProtocol.TEXT_MESSAGE) {\n    const msgBuffer = buf.slice(offset, offset + msgLength);\n    const chars = new Uint8Array(msgBuffer);\n    text = chars.toString();\n    //console.log(this.msg);\n  } else {\n    //图片消息解析\n    //const img = document.getElementById('img');\n    msgBuffer = buf.slice(offset, offset + msgLength);\n  }\n  offset += msgLength;\n  //客户端发送时间【对方传过来】\n  clientSendTime = new Uint8Array(buf.slice(offset, buf.byteLength)).toString();\n\n  callback({\n    chatType: chatType,\n    msgType: msgType,\n    sender: sender,\n    receiver: receiver,\n    msg: msgType === ImProtocol.TEXT_MESSAGE ? text : msgBuffer,\n    clientSendTime: parseInt(clientSendTime, 10),\n    sessionKey: sessionKey,\n  });\n};\nImProtocol.getOppositeUser = function (sessionKey, currentUserId) {\n  if (Sparrow.isNullOrEmpty(sessionKey)) {\n    return -1;\n  }\n\n  var sessionArray = sessionKey.split(\"_\");\n  if (sessionArray.length < 2) {\n    return -1;\n  }\n  var userId1 = parseInt(sessionArray[0], 10);\n  var userId2 = parseInt(sessionArray[1], 10);\n  if (userId1 === currentUserId) {\n    return userId2;\n  }\n  return userId1;\n};\nImProtocol.generate121SessionKey = function (userId, userId2) {\n  if (userId < userId2) {\n    return userId + \"_\" + userId2;\n  }\n  return userId2 + \"_\" + userId;\n};\n\nexport { ImProtocol };\n","String.prototype.trim = function () {\n  return this.replace(/(^\\s*)|(\\s*$)/g, \"\");\n};\nString.prototype.ltrim = function () {\n  return this.replace(/(^\\s*)/g, \"\");\n};\nString.prototype.rtrim = function () {\n  return this.replace(/(\\s*$)/g, \"\");\n};\n// 如果为\"\"或者是''则返回为null 所以在调用之前要做了null判断\nString.prototype.json = function () {\n  if (this === \"\" || this === \"''\" || this.length === 0) {\n    return null;\n  }\n  if (this.indexOf(\"error|\") !== -1) {\n    console.log(this);\n  }\n  try {\n    var json = this;\n    json = json.decodeSplitKey();\n    return eval(\n      \"(\" + json.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\") + \")\"\n    );\n  } catch (err) {\n    return console.log(err);\n  }\n};\nString.prototype.firstCharToAscii = function () {\n  return this.charCodeAt(0);\n};\nString.prototype.leftAlignWithChar = function (c, length) {\n  length = length ? length : 3;\n  c = c ? c : \"0\";\n  if (this.length >= length) {\n    return;\n  }\n  var charArray = [];\n  var charCount = length - this.length;\n  for (var i = 0; i < charCount; i++) {\n    charArray.push(c);\n  }\n  return charArray.join(\"\") + this;\n};\nString.prototype.getCountByChar = function (c) {\n  return this.split(c).length - 1;\n};\nString.prototype.getByteLength = function () {\n  return this.replace(/[^\\x00-\\xff]/g, \"**\").length;\n};\nString.prototype.subString = function (len, hasDot) {\n  var newLength = 0;\n  var newStr = \"\";\n  var chineseRegex = /[^\\x00-\\xff]/g;\n  var singleChar = \"\";\n  var strLength = this.replace(chineseRegex, \"**\").length;\n  var i;\n  for (i = 0; i < strLength; i += 1) {\n    singleChar = this.charAt(i).toString();\n    if (singleChar.match(chineseRegex)) {\n      newLength += 2;\n    } else {\n      newLength += 1;\n    }\n    if (newLength > len) {\n      break;\n    }\n    newStr += singleChar;\n  }\n  if (hasDot && strLength > len) {\n    newStr += \"..\";\n  }\n  return newStr;\n};\n/*\n * String.prototype.encodeSplitKey = function() { var str = this; str =\n * str.replace(/#/g, \"#limit\"); str = str.replace(/:/g, \"#colon#\"); str =\n * str.replace(/,/g, \"#dot#\"); str = str.replace(/\"/g, \"#ref#\"); return str; };\n */\nString.prototype.decodeSplitKey = function () {\n  var str = this;\n  str = str.replace(/#colon#/g, \":\");\n  str = str.replace(/#dot#/g, \",\");\n  str = str.replace(/#ref#/g, '\\\\\"');\n  str = str.replace(/#limit/g, \"#\");\n  return str;\n};\nString.prototype.decodeHtml = function () {\n  var html = this;\n  html = html.replace(/&amp;/g, \"&\");\n  html = html.replace(/&lt;/g, \"<\");\n  html = html.replace(/&gt;/g, \">\");\n  html = html.replace(/&quot;/g, '\"');\n  html = html.replace(/&nbsp;/g, \" \");\n  return html;\n};\n// 字符格式化方法\nString.prototype.format = function () {\n  var newStr = this;\n  if (arguments.length >= 1 && typeof arguments[0] === \"object\") {\n    var re = /#{(.*?)}/gi;\n    var r = null;\n    while ((r = re.exec(this))) {\n      var placeHolder = r[0];\n      var property = r[1];\n      var value = arguments[0].value(property);\n      if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n          value = arguments[i].value(property);\n          if (value) {\n            break;\n          }\n        }\n      }\n      newStr = newStr.replace(\n        placeHolder,\n        $.isNullOrEmpty(value) ? \"-\" : value\n      );\n    }\n    return newStr;\n  }\n  var reg = null;\n  for (var i = 0; i < arguments.length; i++) {\n    reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n    newStr = newStr.replace(\n      reg,\n      $.isNullOrEmpty(arguments[i]) ? \"-\" : arguments[i]\n    );\n  }\n  return newStr;\n};\n// 过滤闭合的html标签\nString.prototype.filterHTML = function () {\n  var newString = this;\n  while (newString.search(/<([a-z0-9]*?).*?>([\\s\\S]*?)<\\/\\1>/gi) > -1) {\n    newString = newString.replace(/<([a-z0-9]*?).*?>([\\s\\S]*?)<\\/\\1>/gi, \"$2\");\n  }\n  if (newString.search(/<input.*>/)) {\n    newString = newString.replace(/<input.*>/gi, \"\");\n  }\n\n  if (newString.search(/<(script).*?>.*?<\\/\\1>/)) {\n    newString = newString.replace(/<(script).*?>.*?<\\/\\1>/gi, \"\");\n  }\n  if (newString.search(/<script.*>/)) {\n    newString = newString.replace(/<script.*>/gi, \"\");\n  }\n  return newString;\n};\nString.prototype.firstCharUpperCase = function () {\n  return this.substr(0, 1).toUpperCase() + this.substr(1);\n};\nString.prototype.join = function (str) {\n  if (!$.isNullOrEmpty(str)) {\n    return this + str;\n  }\n  return this + \"\";\n};\nString.prototype.toArrayBuffer = function () {\n  var bytes = [];\n  var len, c;\n  len = this.length;\n  for (var i = 0; i < len; i++) {\n    c = this.charCodeAt(i);\n    if (c >= 0x010000 && c <= 0x10ffff) {\n      bytes.push(((c >> 18) & 0x07) | 0xf0);\n      bytes.push(((c >> 12) & 0x3f) | 0x80);\n      bytes.push(((c >> 6) & 0x3f) | 0x80);\n      bytes.push((c & 0x3f) | 0x80);\n    } else if (c >= 0x000800 && c <= 0x00ffff) {\n      bytes.push(((c >> 12) & 0x0f) | 0xe0);\n      bytes.push(((c >> 6) & 0x3f) | 0x80);\n      bytes.push((c & 0x3f) | 0x80);\n    } else if (c >= 0x000080 && c <= 0x0007ff) {\n      bytes.push(((c >> 6) & 0x1f) | 0xc0);\n      bytes.push((c & 0x3f) | 0x80);\n    } else {\n      bytes.push(c & 0xff);\n    }\n  }\n  var array = new Int8Array(bytes.length);\n  for (var i in bytes) {\n    array[i] = bytes[i];\n  }\n  return array;\n};\n\nArray.prototype.clear = function () {\n  for (var i = 0; i < this.length; i += 1) {\n    this.pop();\n  }\n};\nArray.prototype.indexOf = function (val) {\n  for (var i = 0; i < this.length; i++) {\n    if (this[i] === val) {\n      return i;\n    }\n  }\n  return -1;\n};\nArray.prototype.remove = function (val) {\n  var index = this.indexOf(val);\n  if (index > -1) {\n    this.splice(index, 1);\n  }\n};\nArray.prototype.toUint8Array = function () {\n  var bytes = this;\n  var array = new Uint8Array(bytes.length);\n  for (var i = 0; i < array.length; i++) {\n    array[i] = bytes[i];\n  }\n  return array;\n};\n// If Push and pop is not implemented by the browser\nif (!Array.prototype.push) {\n  Array.prototype.push = function array_push() {\n    for (var i = 0; i < arguments.length; i++) this[this.length] = arguments[i];\n    return this.length;\n  };\n}\nif (!Array.prototype.pop) {\n  Array.prototype.pop = function array_pop() {\n    lastElement = this[this.length - 1];\n    this.length = Math.max(this.length - 1, 0);\n    return lastElement;\n  };\n}\nUint8Array.prototype.toString = function () {\n  /**\n   * https://www.javascripture.com/DataView\n   * DataViews allow heterogeneous access to data stored in an ArrayBuffer. Values can be read and stored at any byte offset without alignment constraints.\n   * @type {DataView}\n   */\n  var dataView = new DataView(this.buffer);\n  var ints = new Uint8Array(this.buffer.byteLength);\n  for (var i = 0; i < ints.length; i++) {\n    ints[i] = dataView.getUint8(i);\n  }\n  var str = \"\",\n    _arr = ints;\n  for (var i = 0; i < _arr.length; i++) {\n    var one = _arr[i].toString(2),\n      v = one.match(/^1+?(?=0)/);\n    if (v && one.length === 8) {\n      var bytesLength = v[0].length;\n      var store = _arr[i].toString(2).slice(7 - bytesLength);\n      for (var st = 1; st < bytesLength; st++) {\n        store += _arr[st + i].toString(2).slice(2);\n      }\n      str += String.fromCharCode(parseInt(store, 2));\n      i += bytesLength - 1;\n    } else {\n      str += String.fromCharCode(_arr[i]);\n    }\n  }\n  return str;\n};\n//小端模式\n//number 要转换的整形数值\n//length 要转成什么byte数组，规定数组的长度\n//如uint16，则length=2表示两个字节，转成的byte数组长度是length=2\n//如uint32，则length=2表示两个字节，转成的byte数组长度是length=4\nNumber.prototype.toBytes = function () {\n  length = 4;\n  //只支持32位以下数字，32位以上会有精度问题\n  var number = this;\n  var bytes = [];\n  var i = length;\n  do {\n    //console.log(number.toString(2));\n    bytes[--i] = number & 255;\n    number = number >> 8;\n  } while (i);\n  return bytes;\n};\n// new Date().format(\"yyyy-MM-dd hh:mm:ss\");\nDate.prototype.format = function (fmt) {\n  var o = {\n    \"M+\": this.getMonth() + 1, //月份\n    \"d+\": this.getDate(), //日\n    \"h+\": this.getHours(), //小时\n    \"m+\": this.getMinutes(), //分\n    \"s+\": this.getSeconds(), //秒\n    \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n    S: this.getMilliseconds(), //毫秒\n  };\n  if (/(y+)/.test(fmt))\n    fmt = fmt.replace(\n      RegExp.$1,\n      (this.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n    );\n  for (var k in o)\n    if (new RegExp(\"(\" + k + \")\").test(fmt))\n      fmt = fmt.replace(\n        RegExp.$1,\n        RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n      );\n  return fmt;\n};\n\n/**\n * @return\n *\n * # id  id\n * & name address equal name\n * ^ tag tag name\n * ! son dot below\n * $ for ---for 4\n * * checked_value * equal multi\n * + new create\n * ...\n */\nvar Sparrow = function (selector, parent, doc, cache, sparrowContainerKey) {\n    if (window === this||!(this instanceof Sparrow)) {\n        //Array.prototype.slice 将arguments 转化成数组\n        var args = Array.prototype.slice.call(arguments, 0);\n        if (!selector) {\n            return null;\n        }\n        //execute method and return result for constant\n        /**\n         * root_domain: $(function () {\n            return window.location.host.substr(window.location.host.indexOf('.'));\n        })\n         */\n        if (typeof (selector) === \"function\") {\n            //call不为数组\n            //apply 的参数为数组\n            //Array.prototype.slice 将arguments 转化成数组\n            return selector.apply(selector, args.slice(1));\n        }\n\n        if (args[0] === \"jsonp\") {\n            var script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.language = \"javascript\";\n            script.src = args[1];\n            script.id = args[2];\n            var oldScript = document.getElementById(script.id);\n            if (oldScript != null) {\n                document.head.removeChild(oldScript);\n            }\n            document.head.appendChild(script);\n            return null;\n        }\n\n        sparrowContainerKey = selector;\n        if (typeof (selector) === \"object\") {\n            sparrowContainerKey = \"#\" + selector.id;\n        }\n\n        parent = null;\n        doc = document;\n        cache = true;\n        //selector, parent, doc, cache, sparrowContainerKey\n        if (args.length >= 2) {\n            //selector,cache\n            if (typeof args[1] == \"boolean\") {\n                cache = args[1];\n            } else {\n                //selector,parent\n                parent = args[1];\n            }\n            if (args.length >= 3) {\n                //selector,parent,cache\n                if (typeof args[2] == \"boolean\") {\n                    cache = args[2];\n                } else {\n                    //select,parent doc\n                    doc = args[2];\n                }\n            }\n            //selector,parent,doc,cache\n            if (args.length === 4) {\n                cache = args[3];\n            }\n        }\n\n        if (parent != null && typeof (parent) === \"object\") {\n            if (!parent.id) {\n                parent.id = \"sparrow_\" + $.random();\n            }\n            sparrowContainerKey += \"_\" + parent.id;\n        }\n        if ($.global(sparrowContainerKey)) {\n            return $.global(sparrowContainerKey);\n        }\n        var beginSelector = [\"#\", \"!\", \"$\", \"&\", \"*\", \"+\", \"^\"];\n        //$(\"btnButtonId\") .... equal document.getElementById(\"btnButtonId\");\n        if (typeof (selector) !== \"object\" && beginSelector.indexOf(selector.substring(0, 1)) == -1) {\n            //btnButtonId\n            return doc.getElementById(selector);\n        }\n        return new Sparrow(selector, parent, doc, cache, sparrowContainerKey);\n    }\n    var elements = [];\n    this.selector = selector;\n    this.doc = doc;\n    if (typeof (selector) === \"object\") {\n        elements[0] = selector;\n        if (!selector.id) {\n            selector.id = \"sparrow_\" + $.random();\n        }\n        this.selector = \"#\" + selector.id;\n        sparrowContainerKey = this.selector;\n    } else if (typeof selector === 'string') {\n        //[\"#\", \"!\", \"$\", \"&\", \"*\", \"+\", \"^\"]\n        var switch_char = selector.substring(0, 1);\n        selector = selector.substring(1);\n        var selectorArray = selector.split(\".\");\n        var i = 0;\n        switch (switch_char) {\n            case \"#\"://id\n                elements[0] = doc.getElementById(selector);\n                break;\n            case \"^\": //tag\n                elements = doc.getElementsByTagName(selector);\n                break;\n            case \"&\": //name\n                elements = doc.getElementsByName(selector);\n                break;\n            case \"+\":\n                //+html-label.id.parentId.type\n                elements[0] = doc.createElement(selectorArray[0]);\n                if (selectorArray.length >= 2) {\n                    elements[0].id = selectorArray[1];\n                } else {\n                    elements[0].id = \"sparrow_\" + $.random();\n                }\n                this.selector = \"#\" + selectorArray[1];\n                sparrowContainerKey = this.selector;\n                if (selectorArray.length >= 3) {\n                    if (selectorArray[2] === \"doc\") {\n                        this.doc.body.appendChild(elements[0]);\n                    } else {\n                        this.doc.getElementById(selectorArray[2]).appendChild(\n                            elements[0]);\n                    }\n                }\n                if (selectorArray.length >= 4) {\n                    elements[0].type = selectorArray[3];\n                }\n                break;\n            case \"!\":\n                //!html-label.parentId\"\n                var childs = [];\n                if (!parent) {\n                    parent = $(selectorArray[1]);\n                }\n                var children = parent.getElementsByTagName(selectorArray[0]);\n                if (selectorArray[0] === \"li\") {\n                    parent = children[0].parentNode;\n                }\n                this.s = parent;\n                if (!parent.id) {\n                    parent.id = \"sparrow_\" + $.random();\n                }\n                for (i = 0; i < children.length; i++) {\n                    if (children[i].parentNode === parent) {\n                        childs[childs.length] = children[i];\n                    }\n                }\n                elements = childs;\n                break;\n            case \"$\": //for 4\n                var labelList = doc.getElementsByTagName(\"label\");\n                for (i = 0; i < labelList.length; i++) {\n                    if (labelList[i].attributes[\"for\"].value === selector) {\n                        elements[0] = labelList[i];\n                        break;\n                    }\n                }\n                break;\n            case \"*\":\n                var selectedTag = [];\n                var tagArray = doc.getElementsByName(selectorArray[0]);\n                var attribute = null;\n                if (selectorArray.length > 1) {\n                    attribute = selectorArray[1];\n                }\n                // 获取当前已经选中的标签\n                for (i = 0; i < tagArray.length; i++) {\n                    if (tagArray[i].checked) {\n                        if (attribute) {\n                            selectedTag[selectedTag.length] = (tagArray[i].attributes[attribute].value);\n                        } else {\n                            selectedTag[selectedTag.length] = (tagArray[i].value);\n                        }\n                    }\n                }\n                elements = selectedTag;\n                break;\n        }\n    }\n    if (selector) {\n        this.length = 0;\n        if (elements.length > 0) {\n            if (!this.s) {\n                this.s = elements[0];\n            }\n            if (this.s && this.s.id && cache) {\n                $.global(sparrowContainerKey, this);\n            }\n        }\n        [].push.apply(this, elements);\n    }\n    this.interval = [];\n    return this;\n};\nwindow.$ = window.Sparrow = Sparrow;\n\nSparrow.browser = {\n    url: {\n        manage: \"default.jsp\",\n        logout_url: \"/user/logout.json\"\n    },\n    cookie: {\n        permission: \"permission\",\n        call_back_url: \"call_back_url\",\n        website_name: \"website_name\",\n        themes: \"sparrow.themes\",\n        // 配置cookie的域并非cookie的key\n        root_domain: $(function () {\n            return window.location.host.substr(window.location.host.indexOf('.') + 1);\n        }),\n        domain: window.location.host\n    },\n    ie: $(function () {\n        return navigator.userAgent.search(/MSIE/img) !== -1;\n    }),\n    opera: $(function () {\n        return navigator.userAgent.search(/Opera/img) !== -1;\n    }),\n    firefox: $(function () {\n        return navigator.userAgent.search(/Firefox/img) !== -1;\n    }),\n    google: $(function () {\n        return navigator.userAgent.search(/Chrome/img) !== -1;\n    }),\n    version: $(function () {\n        if (navigator.userAgent.search(/MSIE/img) !== -1) {\n            navigator.userAgent.match(/MSIE\\b\\s*([0-9\\.0-9]+);/img);\n            return RegExp.$1;\n        } else if (navigator.userAgent.search(/Opera/img) !== -1) {\n            navigator.userAgent.match(/Version\\/([0-9\\.]+)/img);\n            return RegExp.$1;\n        } else if (navigator.userAgent.search(/Firefox/img) !== -1) {\n            navigator.userAgent.match(/Firefox\\/([0-9\\.]+)/img);\n            return RegExp.$1;\n        } else if (navigator.userAgent.search(/Chrome/img) !== -1) {\n            navigator.userAgent.search(/Chrome\\/([0-9\\.]+)/img);\n            return RegExp.$1;\n        }\n    }),\n    addFavorite: function (url, title) {\n        if (document.all) {\n            window.external.AddFavorite(url, title);\n        } else if (window.sidebar) {\n            window.sidebar.addPanel(title, url, \"\");\n        } else {\n            alert(\"对不起，您的浏览器不支持此操作!\\n请您使用菜单栏或Ctrl+D收藏本站。\");\n        }\n    },\n    setHome: function (anchorLabel, url) {\n        try {\n            anchorLabel.style.behavior = 'url(#default#homepage)';\n            anchorLabel.setHomePage(url);\n        } catch (e) {\n            if (window.netscape) {\n                try {\n                    netscape.security.PrivilegeManager\n                        .enablePrivilege(\"UniversalXPConnect\");\n                    var prefs = Components.classes['@mozilla.org/preferences-service;1']\n                        .getService(Components.interfaces.nsIPrefBranch);\n                    prefs.setCharPref('browser.startup.homepage', url);\n                } catch (e) {\n                    alert('抱歉！您的浏览器不支持直接设为首页。请在浏览器地址栏输入“about:config”并回车然后将[signed.applets.codebase_principal_support]设置为“true”，点击“加入收藏”后忽略安全提示，即可设置成功。');\n                }\n            }\n        }\n    },\n    copy: function (text, msg) {\n        if (!msg) {\n            msg = \"成功复制！可以通过ctrl+v进行粘贴操作！\";\n        }\n        try {\n            if (window.clipboardData) {\n                window.clipboardData.setData(\"Text\", text);\n                alert(msg);\n                return\n            }\n            try {\n                netscape.security.PrivilegeManager\n                    .enablePrivilege(\"UniversalXPConnect\");\n            } catch (e) {\n                alert(\"您的浏览器设置为不允许复制！\\n如果需要此操作，请在浏览器地址栏输入'about:config'并回车\\n然后将'signed.applets.codebase_principal_support'设置为'true',再重试复制操作!\");\n                return false;\n            }\n            var clip = Components.classes['@mozilla.org/widget/clipboard;1']\n                .createInstance(Components.interfaces.nsIClipboard);\n            if (!clip)\n                return;\n            var trans = Components.classes['@mozilla.org/widget/transferable;1']\n                .createInstance(Components.interfaces.nsITransferable);\n            if (!trans) {\n                return;\n            }\n            trans.addDataFlavor('text/unicode');\n            var supportsString = Components.classes[\"@mozilla.org/supports-string;1\"]\n                .createInstance(Components.interfaces.nsISupportsString);\n            supportsString.data = text;\n            trans.setTransferData(\"text/unicode\", supportsString, text\n                .getByteLength());\n            var clipid = Components.interfaces.nsIClipboard;\n            if (!clip)\n                return false;\n            clip.setData(trans, null, clipid.kGlobalClipboard);\n            alert(msg);\n        } catch (e) {\n            alert(\"对不起！您的浏览器不支持该功能\");\n        }\n    },\n\n    setCookie: function (cookieName, cookieValue, expireseconds, domain, path,\n                         secure) {\n        var expires = null;\n        if (expireseconds !== 0 && expireseconds) {\n            expires = new Date();\n            expires.setTime(expires.getTime() + expireseconds * 1000);\n        }\n        document.cookie = (encodeURIComponent(cookieName) + '='\n            + encodeURIComponent(cookieValue)\n            + (expires ? '; expires=' + expires.toGMTString() : '')\n            + '; path=' + (path ? path : '/') + '; domain='\n            + (domain ? domain : this.cookie.root_domain) + (secure ? '; secure' : ''));\n    },\n    getCookie: function (cookieName) {\n        var cookieValue = null;\n        var posName = document.cookie.indexOf(escape(cookieName) + '=');\n        if (posName !== -1) {\n            var posValue = posName + (escape(cookieName) + '=').length;\n            var endPos = document.cookie.indexOf(';', posValue);\n            if (endPos !== -1)\n                cookieValue = decodeURIComponent(document.cookie.substring(\n                    posValue, endPos));\n            else\n                cookieValue = decodeURIComponent(document.cookie\n                    .substring(posValue));\n        }\n        if (cookieValue == null || typeof (cookieValue) === \"undefined\"\n            || cookieValue === \"undefined\") {\n            return null;\n        }\n        return cookieValue;\n    },\n    // 根据按下控件的对象获取要执行的按钮事件\n    // auguments=window.dialogArguments子页获取参数\n    showModalDialog: function (width, height, url, callback, args) {\n        var result;\n        url = $.randomUrl(url);\n        if ($.browser.ie) {\n            result = window.showModalDialog(url, args, \"dialogHeight:{0}px; dialogWidth:{1}px; status:no; help:no; scroll:auto\".format(height, width));\n        } else {\n            result = window.open(url, args, \"height={0}, width={1},toolbar= no, menubar=no, scrollbars=auto, resizable=no, location=no, status=no,top=100,left=300\".format(height, width));\n        }\n        if (result) {\n            callback(result);\n        }\n    },\n    /*{url:'',height:1px;width:1px,target:'_blank'}*/\n    window: function (config) {\n        var url = $.randomUrl(config.url);\n        if (!config.win) {\n            config.win = window;\n        }\n        var target = config.target ? config.target : \"_blank\";\n        var parameters = null;\n        if ($.isNullOrEmpty(config.width)) {\n            parameters = \"height={0}px,width={1}px,toolbar= no, menubar=no, scrollbars=auto, resizable=no, location=no, status=no,top=100,left=300\".format(config.height, config.width);\n        }\n        config.win.open(url, target, parameters);\n    },\n    close: function () {\n        window.opener = null;\n        window.open('about:blank', '_self');\n        window.close();\n    },\n    getUrlWithoutParameter: function (url) {\n        var currentLocation = url ? url : window.location.href;\n        var locationIndex = currentLocation.indexOf('?');\n        if (locationIndex < 0) {\n            locationIndex = currentLocation.indexOf(\"#\");\n        }\n        if (locationIndex > -1) {\n            currentLocation = currentLocation.substring(0, locationIndex);\n        }\n        return currentLocation;\n    },\n    getUserId: function () {\n        var permission = $.browser.getCookie(this.cookie.permission);\n        if (permission == null) {\n            return 0;\n        }\n        return permission.split('&')[0].substring(\"id=\".length);\n    },\n    getUserName: function () {\n        var permission = $.browser.getCookie(this.cookie.permission);\n        if (permission == null) {\n            return null;\n        }\n        return permission.split('&')[1].substring(\"name=\".length);\n    },\n    isLogin: function () {\n        var userId = $.browser.getUserId();\n        return !(userId == null || userId === 0 || userId === \"0\" || userId === \"null\"\n            || userId === \"\");\n    },\n    logout: function (domain, logoutUrl, defaultUrl) {\n        if ($.isNullOrEmpty(logoutUrl)) {\n            logoutUrl = this.url.logout_url;\n        }\n        if ($.isNullOrEmpty(defaultUrl)) {\n            defaultUrl = this.url.manage;\n        }\n        $.ajax.json($.url.root + logoutUrl, function (result) {\n            var permissionKey = result.value;\n            if ($.isNullOrEmpty(permissionKey)) {\n                permissionKey = $.browser.cookie.permission;\n            }\n            // 注销成功后回调\n            $.browser.setCookie(permissionKey, \"0\", -1, domain);\n            if (($.url.root + \"/\") === window.parent.location.href || window.parent.location.href.indexOf(defaultUrl) !== -1) {\n                window.parent.location.href = $.url.root;\n            } else {\n                window.location.href = window.location.href;\n            }\n        }, true);\n    },\n    /***************************************************************************\n     * 取窗口可视范围的高度\n     **************************************************************************/\n    getClientHeight: function () {\n        return (document.body.clientHeight && document.documentElement.clientHeight) ? Math\n                .min(document.body.clientHeight,\n                    document.documentElement.clientHeight)\n            : Math.max(document.body.clientHeight,\n                document.documentElement.clientHeight);\n    },\n    /***************************************************************************\n     * 取文档内容实际高度\n     **************************************************************************/\n    getScrollHeight: function () {\n        return Math.max(document.body.scrollHeight,\n            document.documentElement.scrollHeight);\n    },\n    linkClick: function (condition, message) {\n        if (typeof(condition) === \"boolean\") {\n            if (!condition) {\n                $.alert(message, \"sad\");\n                return false;\n            }\n            return true;\n        }\n        //非field.value==1 则为this对象\n        if (condition.href === \"javascript:void(0);\") {\n            $.alert(message, \"sad\");\n            return false;\n        }\n        return true;\n    }\n};\n\nSparrow.container = {};\nSparrow.global = function (key, obj) {\n    if (typeof(obj) === \"undefined\") {\n        return this.container[key];\n    }\n    this.container[key] = obj;\n};\nSparrow.remove=function (key) {\n  delete this.container[key];\n};\nSparrow.url = {\n    root: $(function () {\n        // var pathName = window.location.pathname === \"/\" ? \"\"\n        //     : (\"/\" + window.location.pathname.split('/')[1]);\n        // return window.location.protocol + \"//\" + window.location.host\n        //     + (\"\");\n    }),\n    _resource: function (path) {\n        var scripts = document.scripts;\n        var sparrowPath = [\"/scripts/sparrow.js\", \"/scripts/sparrow-min.js\", \"/scripts-dev/sparrow.js\"];\n        if (path) {\n            sparrowPath = [path];\n        }\n        if (scripts == null || scripts.length === 0) {\n            return null;\n        }\n        var r = null;\n        for (var i=0;i<scripts.length;i++) {\n            var brk = false;\n            sparrowPath.forEach(function () {\n                for(var j=0;j<sparrowPath.length;j++) {\n                    var p= sparrowPath[j];\n                    var startIndex = scripts[i].src.indexOf(p);\n                    if (startIndex > -1) {\n                        r = scripts[i].src.substring(0, startIndex);\n                        brk = true;\n                    }\n                }\n            });\n            if (brk) {\n                break;\n            }\n        }\n        return r;\n    },\n    name: $.browser.cookie.domain.split('.')[0]\n};\nSparrow.url.resource = $.url._resource();\nSparrow.url.passport = $(function () {\n    return \"http://passport.\" + $.browser.cookie.root_domain;\n});\nSparrow.website = {\n    name: $.browser.getCookie($.browser.cookie.website_name),\n    themes: $(function () {\n        var themes = $.browser.getCookie($.browser.cookie.themes);\n        if (themes == null) {\n            themes = \"themes_default\";\n        }\n        return themes;\n    })\n};\nSparrow.css = {\n    menu: {\n        frame: \"background:#ffffff;position:absolute;z-index:1000;border:#ccc 1px solid;width:{0}px;height:auto;left:{1}px;top:{2}px;display:none\",\n        ul: \"width:{0}px;height:auto;overflow:hidden;list-style:none;margin:0px;padding:0px;text-align:left\",\n        li: \"width:{0}px;overflow:hidden;line-height:20px;margin:0px;border-bottom:#ccc 1px dotted;cursor:pointer;\"\n    }\n};\nSparrow.SIDE = \"SIDE\";\nSparrow.HORIZONTAL = \"HORIZONTAL\";\nSparrow.VERTICAL = \"VERTICAL\";\nSparrow.DEFAULT_AVATOR_URL = $.url.resource + \"/images/user.png\";\nSparrow.DEFAULT_RESOURCE_ICO_URL = $.url.resource + \"/images/menu.png\";\n\n// Sparrow.indexedDB = {\n//     config: {\n//         name: 'Sparrow',\n//         version: \"1.0\",\n//         tableNames: [{\"name\":\"t1\",\"key\":\"id\"}]\n//     }\n// };\nSparrow.indexedDB = function (config) {\n    //当前浏览器是否支持indexedDB\n    this.support = window.indexedDB;\n    //数据库实例\n    this.instance = null;\n    //数据库名称\n    this.name = config.name;\n    //数据库相关配置\n    this.config = config;\n\n    this.userId=localStorage.getItem(\"userId\");\n    //是否初始化成功\n    this.initSuccess = false;\n\n    //自定义数据库初始化方法\n    this.$initDB=null\n};\nSparrow.indexedDB.prototype = {\n    init: async function () {\n        if (!this.support) {\n            return this.support;\n        }\n        this.request = window.indexedDB.open(this.name+this.userId, this.config.version);\n        return await new Promise((resolve, reject) => {\n            this.request.onsuccess = async (event) => {\n                //数据库实例\n                this.instance = event.target.result;\n                console.log('数据库连接成功');\n                var result = await this.flush();\n                console.log('数据库flush结果', result);\n                if (result) {\n                    this.initSuccess = true;\n                    console.log('数据库flush成功');\n                    if (this.$dbInit) {\n                       await this.$dbInit();\n                    }\n                    resolve(this.instance);\n                } else {\n                    reject('数据库连接失败');\n                }\n            };\n            this.request.onupgradeneeded = async (event) => {\n                console.log('首次创建数据库');\n                this.instance = event.target.result;\n                this._initTables();\n                if (this.$dbInit) {\n                    await this.$dbInit();\n                }\n                this.initSuccess = true;\n                resolve(this.instance);\n            };\n            this.request.onerror = (e) => {\n                console.log('数据库发生错误', e);\n                reject('连接indexedDB出错');\n            };\n        });\n    },\n    _createTable: function (tableName, key) {\n        this.instance.createObjectStore(tableName, {keyPath: key});\n    },\n    _initTables: function () {\n        this.config.tableNames.forEach((tableName) => {\n            this._createTable(tableName.name, tableName.key);\n        });\n    },\n    _getTableInstance: function (tableName) {\n        return this.instance\n            .transaction(tableName, 'readwrite')\n            .objectStore(tableName);\n    },\n    put: async function (tableName, item) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .put(item);\n            request.onsuccess = (event) => {\n                console.log(\"put success: TABLE-NAME\" + tableName + \" item \" + item);\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    get: async function (tableName, key) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            console.log(\"GET tableName \" + tableName + \", get key:\" + key);\n            const request = this._getTableInstance(tableName)\n                .get(key);\n            request.onsuccess = (event) => {\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    delete: async function (tableName, key) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .delete(key);\n            request.onsuccess = () => {\n                console.log(\"delete success: TABLE-NAME\" + tableName + \" ,key \" + key)\n                resolve(\"tableName \" + tableName + \" ,key \" + key);\n            };\n            request.fail = (event) => {\n                reject(event);\n            };\n        });\n    },\n    clear: async function (tableName) {\n        if (!this.support) {\n            return this.support;\n        }\n        //await 必须在async函数中使用\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .clear();\n            request.onsuccess = (event) => {\n                console.log(\"clear success: TABLE-NAME\", tableName)\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    flush: async function () {\n        if (!this.support) {\n            return this.support;\n        }\n        //await 多个 需要Promise 封装\n\n        for (var i = 0; i < this.config.tableNames.length; i++) {\n            var tableName = this.config.tableNames[i].name;\n            //这里只有一个await 不起作用\n            await this.clear(tableName).then(() => {\n                console.log(\"clear success: TABLE-NAME\", tableName);\n            }).catch(e => {\n                console.log(e);\n            });\n        }\n        console.log(\"flush all table success\");\n        return true;\n    },\n    getAll: async function (tableName) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .getAll();\n            request.onsuccess = (event) => {\n                console.log(\"getAll success: TABLE-NAME\", tableName);\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    getAllKeys: async function (tableName) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .getAllKeys();\n            request.onsuccess = (event) => {\n                console.log(\"getAllKeys success: TABLE-NAME:\", tableName + \" ,keys:\", event.target.result);\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    count: async function (tableName) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .count();\n            request.onsuccess = (event) => {\n                console.log(\"count success: TABLE-NAME\", tableName);\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    openCursor: async function (tableName) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .openCursor();\n            request.onsuccess = (event) => {\n                console.log(\"openCursor success: TABLE-NAME.\", tableName);\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    },\n    openKeyCursor: async function (tableName) {\n        if (!this.support) {\n            return this.support;\n        }\n        if (!this.initSuccess) {\n            await this.init();\n        }\n        return await new Promise((resolve, reject) => {\n            const request = this._getTableInstance(tableName)\n                .openKeyCursor();\n            request.onsuccess = (event) => {\n                console.log(\"openKeyCursor success:TABLE-NAME\", tableName);\n                resolve(event.target.result);\n            };\n            request.fail = (event) => {\n                reject(event.target.result);\n            };\n        });\n    }\n};\n\nSparrow.ajax = {\n  tokenConfig: {},\n  _objPool: [],\n  referWindow: window,\n  url: null,\n  srcElement: null,\n  SUCCESS: \"0\",\n  _bindReadyStateChange: function (objXMLHttp, callback) {\n    objXMLHttp.onreadystatechange = function () {\n      if (objXMLHttp.readyState !== 4) {\n        return;\n      }\n      if (objXMLHttp.status === 200) {\n        if (objXMLHttp.responseText.indexOf('\"login\":false') !== -1) {\n          console.log(\"login false\");\n          var config = objXMLHttp.responseText.json();\n          document.domain = $.browser.cookie.root_domain;\n          if (config.inFrame) {\n            window.parent.location.href = config.url;\n          } else {\n            $.window(config);\n          }\n          return;\n        }\n        if (objXMLHttp.responseText.indexOf(\"Access Denied\") !== -1) {\n          if (!lang.message.accessDenied)\n            lang.message.accessDenied = \"Access Denied\";\n          $.alert(lang.message.accessDenied, \"sad\");\n          return;\n        }\n        if (callback) {\n          callback(objXMLHttp.responseText);\n          return;\n        }\n      }\n      if (objXMLHttp.status === 404) {\n        console.log(\"资源未找到\");\n        return;\n      }\n      if (objXMLHttp.status === 500) {\n        console.log(\"服务器错误\"); //\n        return;\n      }\n      if (objXMLHttp.status === 12031) {\n        console.log(\"服务器未启动\"); //\n        return;\n      }\n      console.log(objXMLHttp.status + \":未知错误\");\n    };\n  },\n  _getInstance: function () {\n    for (var i = 0; i < this._objPool.length; i += 1) {\n      if (\n        this._objPool[i].readyState === 0 ||\n        this._objPool[i].readyState === 4\n      ) {\n        return this._objPool[i];\n      }\n    }\n    this._objPool[this._objPool.length] = this._createObj();\n    return this._objPool[this._objPool.length - 1];\n  },\n  _createObj: function () {\n    var http_request = null;\n    if (window.XMLHttpRequest) {\n      http_request = new XMLHttpRequest();\n      if (http_request.overrideMimeType) {\n        http_request.overrideMimeType(\"text/xml\");\n      }\n      return http_request;\n    }\n    if (window.ActiveXObject) {\n      try {\n        http_request = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (e) {\n        try {\n          http_request = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } catch (e) {}\n      }\n    } else {\n      console.log(\"浏览器不支持AJAX,请设置浏览器安全级别或更新浏览器\");\n    }\n    return http_request;\n  },\n  _callback: function (responseText) {\n    var result = responseText.json();\n    if (result == null) {\n      $.message(\"json parse error \" + responseText);\n      return;\n    }\n    if (result.code !== this.ajax.SUCCESS) {\n      $.message(result.message);\n    }\n  },\n  gourl: function (url) {\n    this.ajax.referWindow.location.href = url;\n  },\n  _findToken: function (url) {\n    var token = null;\n    for (var baseUrl in this.tokenConfig) {\n      if (url.indexOf(baseUrl) === 0) {\n        token = this.tokenConfig[baseUrl];\n        break;\n      }\n    }\n    return token;\n  },\n  req: function (getOrPost, url, callback, postStr, srcElement) {\n    if (url.indexOf(\"http://\") === -1) {\n      url = $.url.root + url;\n    }\n\n    var objXMLHttp = this._getInstance();\n    if (objXMLHttp != null) {\n      this._bindReadyStateChange(objXMLHttp, callback);\n    }\n    if (srcElement) {\n      this.srcElement = srcElement;\n    }\n    //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/with\n    //with (objXMLHttp) {\n    try {\n      objXMLHttp.open(getOrPost, url, true);\n      objXMLHttp.setRequestHeader(\"ajax\", \"true\");\n      objXMLHttp.setRequestHeader(\"pragma\", \"no-cache\");\n      objXMLHttp.setRequestHeader(\"cache-control\", \"no-cache\");\n      var token = this._findToken(url);\n      if (token) {\n        for (var key in token) {\n          objXMLHttp.setRequestHeader(key, token[key]());\n        }\n      }\n      if (getOrPost === \"GET\") {\n        objXMLHttp.send(null);\n        return;\n      }\n      //warn: Parameters: Character decoding failed\n      if (typeof postStr === \"object\") {\n        objXMLHttp.setRequestHeader(\"Content-Type\", \"application/json\");\n        objXMLHttp.send(JSON.stringify(postStr));\n        return;\n      }\n      if (!postStr) {\n        objXMLHttp.send();\n        return;\n      }\n      postStr = postStr.replace(/%/g, \"%25\");\n      objXMLHttp.setRequestHeader(\n        \"Content-Type\",\n        \"application/x-www-form-urlencoded;charset=utf-8\"\n      );\n      objXMLHttp.send(postStr);\n    } catch (e) {\n      console.log(e);\n    }\n  }, //内部业务使用\n  json: function (url, data, callback, srcElement, token) {\n    if (typeof data === \"function\") {\n      callback = data;\n      data = null;\n    }\n\n    $.ajax.req(\n      \"POST\",\n      url,\n      function (responseText) {\n        var result = responseText.json();\n        if (result == null) {\n          $.message(\"json parse error \" + responseText);\n          return;\n        }\n        if (result.code === $.ajax.SUCCESS) {\n          if (callback) {\n            callback(result);\n          } else {\n            $.message(result.message, $.ajax.srcElement);\n          }\n        } else {\n          $.message(result.message, $.ajax.srcElement);\n        }\n      },\n      data,\n      srcElement,\n      token\n    );\n  },\n  get: function (url, callback) {\n    callback = callback ? callback : $.ajax._callback;\n    $.ajax.req(\"GET\", url, callback, null, null);\n  },\n  post: function (url, data, callback) {\n    callback = callback ? callback : $.ajax._callback;\n    $.ajax.req(\"POST\", url, callback, data, null);\n  },\n};\n\nSparrow.http = {\n    post: function (url, data,token) {\n        return new Promise((resolve, reject) => {\n            Sparrow.ajax.post(url, data, function (responseText) {\n                var result = responseText.json();\n                if (result == null) {\n                    reject(responseText);\n                    return;\n                }\n                resolve(result);\n            },token)\n        })\n    },\n    get: function (url,token) {\n        return new Promise((resolve, reject) => {\n            Sparrow.ajax.get(url, function (responseText) {\n                var result = responseText.json();\n                if (result == null) {\n                    reject(responseText);\n                    return;\n                }\n                resolve(result);\n            })\n        },token)\n    }\n};\n\n/*------------------------------------validate 表单验证------------------------------------------------*/\n/*\n * key ==ctrlId\n *\n * errorCtrlId\n *\n * prompt\n *\n * nullError\n *\n * emailError\n *\n * lengthError\n *\n * dateError\n *\n        prompt: '请输入您的原始密码',\n        minLength: 6,\n        maxLength: 16,\n        lengthError: '密码至少6位',\n        setError: '原始密码输入错误',\n        isExist: false,\n        parentLevel:0\n */\nSparrow.v = {\n    background_color: '#fff',\n    empty_string: '',\n    //字段的索引\n    index: null,\n    right_message: '<img alt=\"\" src=\"' + $.url.resource + '/images/' + $.website.themes\n        + '/succeed.gif\"/>',\n    reset: function () {\n        $.v.index = null;\n    },\n    getErrorLabel: function (validate) {\n        return validate.errorCtrlId ? $(validate.errorCtrlId.join($.v.index)) : null;\n    },\n    //click blur 替换成initPlaceholder\n    initPlaceholder: function (json) {\n        for (var o in json) {\n            var property = json[o];\n            var ctrl = $(o);\n            if (ctrl != null && ctrl.type === \"text\") {\n                ctrl.placeholder = property.prompt;\n            }\n        }\n    },\n    // 设置当前控件的父控件背景\n    _setBackground: function (validate, color,srcElement) {\n        if(!srcElement){\n            return;\n        }\n        if ($.v.background_color === false) {\n            return;\n        }\n        if (!color) color = $.v.background_color;\n        var parentLevel = validate.parentLevel;\n        if (typeof (parentLevel) == \"undefined\") {\n            parentLevel = 1;\n        }\n        if (parentLevel > 0) {\n            var background = srcElement;\n            if (background == null) return;\n            try {\n                while (background.tagName.toUpperCase() !== \"TR\" && background.className !== \"line\" && background.className !== \"validate\") {\n                    background = background.parentNode;\n                }\n                background.style.background = color;\n            } catch (err) {\n            }\n            var errorCtrl = this.getErrorLabel(validate);\n            if (errorCtrl != null) errorCtrl.className = \"front\";\n        }\n    },\n    showMessage: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var errorCtrl = this.getErrorLabel(validate);\n        if (errorCtrl) {\n            errorCtrl.className = \"prompt\";\n            errorCtrl.innerHTML = validate.prompt;\n        }\n        this._setBackground(validate);\n    },\n    ok: function (validate,srcElement) {\n        var errorLabel = this.getErrorLabel(validate);\n        if (errorLabel) {\n            errorLabel.innerHTML = this.right_message;\n            errorLabel.className = \"prompt\";\n        }\n        this._setBackground(validate, \"#ffffff\",srcElement);\n        if (srcElement) {\n            srcElement.style.backgroundColor = \"#ffffff\";\n            if (srcElement.value === \"\" && validate.defaultValue)\n                srcElement.value = validate.defaultValue;\n        }\n        return true;\n    },\n    fail: function (validate, errorInfo) {\n        if (!errorInfo) {\n            errorInfo = validate.setError\n        }\n        var errorCtrl = this.getErrorLabel(validate);\n        if (errorCtrl) {\n            errorCtrl.innerHTML = \"!\" + errorInfo;\n            errorCtrl.className = \"error\";\n        }\n        return \"!\" + errorInfo;\n    },\n    _validate: function (validate,srcElement) {\n        this._setBackground(validate, \"#ffffff\",srcElement);\n        var srcElementValue = srcElement.value.trim();\n        var errorCtrl = this.getErrorLabel(validate);\n        var length = (srcElement.tagName.toUpperCase() === \"SELECT\" && srcElement.multiple === true) ? srcElement.options.length\n            : srcElementValue.getByteLength();\n        //允许空\n        if (length === 0 && validate.allowNull) {\n            return this.ok(validate);\n        }\n        //空但有默认值\n        if (length === 0 && validate.defaultValue !== undefined) {\n            srcElement.value = validate.defaultValue;\n            return this.ok(validate);\n        }\n        //不允许为空\n        if (length === 0 && !validate.allowNull) {\n            return this.fail(validate, validate.nullError);\n        }\n        // 长度不合法\n        if ((validate.maxLength\n            && length > validate.maxLength) || (validate.minLength\n            && length < validate.minLength)) {\n            return this.fail(validate, validate.lengthError);\n        }\n\n        //ajax 错误未修改\n        if (errorCtrl && errorCtrl.className === \"error\" && errorCtrl.innerHTML === (\"!\" + validate.setError)) {\n            return this.fail(validate);\n        }\n        return true;\n    },\n    isUserNameRule: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (srcElement.value.search(/^[a-zA-Z0-9_]{6,20}$/) === -1) {\n            return this.fail(validate, validate.nameRuleError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    isEmail: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (srcElement.value.search(/\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/) === -1) {\n            return this.fail(validate, validate.emailError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    isTel: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (srcElement.value\n            .search(/^(0[0-9]{2,3}\\-)?([2-9][0-9]{6,7})+(\\-[0-9]{1,4})?$/) === -1) {\n            return this.fail(validate, validate.telError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    isMobile: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        validate.minLength = 11;\n        validate.maxLength = 11;\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (srcElement.value.search(/^1[\\d]{10}$/) === -1) {\n            return this.fail(validate, validate.mobileError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    isIdCard: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (srcElement.value\n            .search(/^([1-9]([0-9]{16}|[0-9]{13})([0-9]|x|X))$/) === -1) {\n            return this.fail(validate, validate.idCardError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    isNull: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        return this.ok(validate,srcElement);\n    },\n    isChineseCharacters: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (!validate.allowNull&&srcElement.value.search(/^[\\u4e00-\\u9fa5]+/) === -1) {\n            return this.fail(validate, validate.chineseCharactersError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    isEqual: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (srcElement.value !== $(validate.otherCtrlId.join($.v.index)).value.trim()) {\n            return this.fail(validate, validate.noEqualError);\n        }\n        return this.ok(validate,srcElement);\n    },\n    allowInputOption: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        if (!validate.defaultValue) {\n            validate.defaultValue = validate.options[0];\n        }\n        for (var i = 0; i < validate.options.length; i ++) {\n            if (srcElement.value == validate.options[i]) {\n                break;\n            }\n        }\n        if (i == validate.options.length) {\n            srcElement.value = validate.defaultValue;\n        }\n        this.ok(validate,srcElement);\n    },\n    isDigital: function (validate,srcElement) {\n        validate=validate[srcElement.id];\n        var srcElementValue =srcElement.value;\n        var result = this._validate(validate,srcElement);\n        if (result !== true) {\n            return result;\n        }\n        if (isNaN(srcElementValue)) {\n            return this.fail(validate, validate.digitalError);\n        }\n        var floatValue = parseFloat(srcElementValue);\n        //最小值 定义\n        var defMin = (validate.minValue || validate.minValue === 0);\n        //最大值 定义\n        var defMax = (validate.maxValue || validate.maxValue === 0);\n        if ((defMin && floatValue < validate.minValue) || (defMax && floatValue > validate.maxValue)) {\n            return this.fail(validate, validate.digitalError);\n        }\n        this.ok(validate,srcElement);\n    },\n    isImgSize: function (srcElement, defaultValue) {\n        var size = srcElement.value.split('*');\n        if (size.length === 2) {\n            if (size[0].search(/^[0-9]+.?[0-9]$/) === -1\n                || size[1].search(/^[0-9]+.?[0-9]$/) === -1) {\n                srcElement.value = defaultValue;\n            }\n        } else {\n            srcElement.value = defaultValue;\n        }\n    },\n    isFileLength: function (srcElement, defaultValue) {\n        if (srcElement.value.toUpperCase().indexOf(\"M\") !== -1) {\n            if (srcElement.value.toUpperCase().split('M')[0]\n                .search(/^[0-9]+.?[0-9]$/) !== -1) {\n                srcElement.value = srcElement.value.toUpperCase().split('M')[0] + \"MB\";\n            } else {\n                srcElement.value = defaultValue;\n            }\n            return;\n        }\n        if (srcElement.value.toUpperCase().indexOf(\"K\") !== -1) {\n            if (srcElement.value.toUpperCase().split('K')[0]\n                .search(/^[0-9]+.?[0-9]$/) !== -1) {\n                srcElement.value = srcElement.value.toUpperCase().split('K')[0] + \"KB\";\n            }\n            else{\n                srcElement.value = defaultValue;\n            }\n            return;\n        }\n        srcElement.value = defaultValue;\n    },\n    updateTxtCount: function (srcElement, showCtrl, maxLength, e) {\n        var ctrl = $(showCtrl);\n        e = e || window.event;\n        if (e.keyCode < 37 || e.keyCode > 40) {\n            var length = srcElement.value.getByteLength();\n            var allowInputLength = maxLength - length;\n            if (allowInputLength <= 0) {\n                ctrl.innerHTML = 0;\n                srcElement.value = srcElement.value.subString(maxLength, false);\n            } else {\n                ctrl.innerHTML = allowInputLength;\n            }\n        }\n    },\n    /* 获取验证信息*/\n    /*action=false则不提交*/\n    /*action=update.do 指定提交*/\n    /*action=function(){}*\n     /*action=$(#object)*/\n    /*action默认为提交*/\n    getValidateResult: function (json, action) {\n        var wrongInfo = [];\n        for (var o in json) {\n            var property = json[o];\n            if (!property) {\n                continue;\n            }\n            if(typeof(property)!==\"object\"){\n                continue;\n            }\n            var error = null;\n            var ctrl = $(o);\n            if (!ctrl) {\n                continue;\n            }\n            //已输入过 则一定会会error message\n            var errorCtrl = this.getErrorLabel(property);\n            //可能无error ctrl\n            if (errorCtrl) {\n                if (errorCtrl.className === \"error\") {\n                    error = errorCtrl.innerHTML;\n                }\n            }\n            //未输入过 则判断null\n            if ($.isNullOrEmpty(error)) {\n                error = $.v.isNull(json,ctrl);\n            }\n            //无onblur  此情况无ajax请求\n            if ($.v.validate) {\n                error = $.v.validate();\n            }\n            if (error !== true && !$.isNullOrEmpty(error)) {\n                wrongInfo.push(error);\n            }\n        }\n        if (wrongInfo.length > 0) {\n            $.message(wrongInfo.join(\"<br/>\"));\n            return false;\n        }\n        if (action !== false) {\n            if (typeof(action) === \"string\" || typeof(action) === \"undefined\") {\n                $.submit(action);\n            }\n            else if (typeof(action) === \"function\") {\n                action(this);\n            }\n            else if (typeof(action) === \"object\" && action.s.type === \"hidden\") {\n                var actionUrl = action.attr(\"new\");\n                if (!$.isNullOrEmpty(action.value())) {\n                    actionUrl = action.attr(\"update\");\n                }\n                $.submit(actionUrl);\n            }\n        }\n        return true;\n    },\n    init:function (config){\n        for (var o in config) {\n           var ctrl=$(\"#\"+o);\n           var validation=config[o];\n           var event= validation.event;\n           ctrl.bind(\"onfocus\",function (){\n                $.v.showMessage(config,this);\n           });\n           switch (event){\n               case \"UserNameRuleValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isUserNameRule(config,this)\n                   });\n                   break;\n               case \"AllowOptionsValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isNull(config,this);\n                   });\n                   break;\n               case \"DigitalValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isDigital(config,this);\n                   });\n                   break;\n               case \"EmailValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isEmail(config,this);\n                   });\n                   break;\n               case \"NullValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isNull(config,this);\n                   });\n                   break;\n               case \"EqualValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isEqual(config,this);\n                   });\n                   break;\n               case \"IdCardValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isIdCard(config,this);\n                   });\n                   break;\n               case \"MobileValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isMobile(config,this);\n                   });\n                   break;\n               case \"TelValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isTel(config,this);\n                   });\n                   break;\n               case \"ChineseCharactersValidator\":\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.isChineseCharacters(config,this);\n                   });\n                   break;\n               case \"AllowInputCharLengthValidator\":\n                   var innerInfo=validation\n                   $(\"#\"+innerInfo.maxCharLengthControlId).html(innerInfo.maxAllowCharLength);\n                   ctrl.bind(\"onblur\",function (){\n                       $.v.allowInputOption(config,this);\n                   });\n\n                   ctrl.bind(\"onkeyup\",function (){\n                       $.v.updateTxtCount(this,innerInfo.allowCharLengthShowControlId,500);\n                   });\n           }\n        }\n    }\n};\nSparrow.page = {\n\ttoTargetPage: function (pageCount, pageFormat, srcElement) {\n\t\tvar consumerPageIndex = parseInt($('consumerPageIndex').value);\n\t\tvar currentPageIndex = parseInt($('spanCurrentPageIndex').innerHTML\n\t\t\t.trim());\n\t\tif (consumerPageIndex <= 0 || consumerPageIndex > pageCount) {\n\t\t\t$.message('超出页码范围', srcElement);\n\t\t\treturn;\n\t\t}\n\t\tif (consumerPageIndex === currentPageIndex) {\n\t\t\t$.message('当前页即是目标页', srcElement);\n\t\t\treturn;\n\t\t}\n\t\twindow.location.href = pageFormat.replace(\"$pageIndex\", consumerPageIndex);\n\t},\n\tconsumerAction: null,\n\tsubmit: function (pageIndex, formIndex) {\n\t\t$(\"currentPageIndex\").value = pageIndex;\n\t\twindow.location.href = \"#top\";\n\t\tif (this.consumerAction != null) {\n\t\t\tthis.consumerAction(pageIndex);\n\t\t\treturn;\n\t\t}\n\t\t$.submit(null, formIndex);\n\t},\n\tnext: function () {\n\t\tvar elementArray = $(\"divPage\").getElementsByTagName(\"a\");\n\t\tvar nextLink = null;\n\t\tfor (var i = 0; i < elementArray.length; i++) {\n\t\t\tif (elementArray[i].innerHTML === \"下一页\") {\n\t\t\t\tnextLink = elementArray[i].href;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ($.isNullOrEmpty(nextLink)) {\n\t\t\talert(\"亲，您已经翻到最后了哟\");\n\t\t\treturn\n\t\t}\n\t\twindow.location.href = nextLink;\n\t}\n};\nSparrow.random = function () {\n    return (Math.random() + \"\").substring(2);\n};\nSparrow.randomUrl = function (url) {\n    if (url.indexOf(\"t=\") !== -1) {\n        url = url.substr(0, url.indexOf(\"t=\") - 1);\n    }\n    if (url.indexOf(\"?\") !== -1) {\n        url += \"&t=\" + Math.random();\n    } else {\n        url += \"?t=\" + Math.random();\n    }\n    return url;\n};\nSparrow.request = function (name) {\n    var reg = new RegExp(\"(^|\\\\?|&)\" + name + \"=([^&]*)(\\\\s|&|$)\", \"i\");\n    if (reg.test(location.href)) {\n        return unescape(RegExp.$2.replace(/\\+/g, \" \"));\n    }\n    return \"\";\n};\nSparrow.isNullOrEmpty = function (sourceString) {\n    return (sourceString == null || typeof (sourceString) === \"undefined\"\n        || (typeof (sourceString) === \"string\" && (sourceString.trim() === \"\" || sourceString.trim() === \"null\")))\n};\nSparrow.toString = function (sourceString, defaultValue) {\n    if (!defaultValue) {\n        defaultValue = \"\";\n    }\n    if ($.isNullOrEmpty(sourceString)) {\n        return defaultValue;\n    }\n    return sourceString;\n};\nSparrow.countDown = function (end, current, element) {\n    var t = end - current;\n    var count = {};\n    var d = Math.floor(t / 1000 / 60 / 60 / 24);\n    var h = Math.floor(t / 1000 / 60 / 60 % 24);\n    var m = Math.floor(t / 1000 / 60 % 60);\n    var s = Math.floor(t / 1000 % 60);\n    element.value =\n        (d > 0 ? (d + \"天\") : '') +\n        (h > 0 ? (h + \"时\") : '') +\n        (m > 0 ? (m + \"分\") : '') +\n        (s < 0 ? 0 : s) + \"秒\";\n    var call = arguments.callee;\n    if (d > 0 || h > 0 || m > 0 || s > 0) {\n        setTimeout(function () {\n            call(end, current + 1000, element)\n        }, 1000);\n    }\n};\n// 获取**时间格式\nSparrow.getBeforeTime = function (updateTime) {\n    updateTime = (new Date(updateTime)).valueOf();\n    var currentTime = new Date().valueOf();\n    var beforeDateConfig = [{\n        name: \"秒\",\n        split: 60\n    }, {\n        name: \"分钟\",\n        split: 60\n    }, {\n        name: \"小时\",\n        split: 24\n    }, {\n        name: \"天\",\n        split: 30\n    }, {\n        name: \"月\",\n        split: 12\n    }, {\n        name: \"年\",\n        split: 100\n    }];\n    return $(function (timeSplit, depth) {\n        if (timeSplit / beforeDateConfig[depth].split < 1) {\n            // 本地时间与服务器时间不一致导致出现负数\n            return (parseInt(timeSplit) < 0 ? 1 : parseInt(timeSplit))\n                + beforeDateConfig[depth].name;\n        } else {\n            return arguments.callee(timeSplit / beforeDateConfig[depth].split,\n                ++depth);\n        }\n    }, (currentTime - updateTime) / 1000, 0);\n};\nSparrow.submit = function (action, formIndex) {\n    formIndex = formIndex ? formIndex : 0;\n    if (action) {\n        document.forms[formIndex].action = action;\n    }\n\n    document.forms[formIndex].submit();\n};\nSparrow.jsonKeys = function (json) {\n    var jsonKeyArray = [];\n    if (!json) {\n        return jsonKeyArray;\n    }\n    //{}.prototype会多一个this该方法本身\n    //区分数组和json\n    if (typeof (json.length) === \"undefined\") {\n        for (var key in json) {\n            jsonKeyArray.push(key);\n        }\n        return jsonKeyArray;\n    }\n    return json;\n};\nSparrow.clearForm = function (validateJson) {\n    var inputArray = $.jsonKeys(validateJson);\n    for (var i = 0; i < inputArray.length; i++) {\n        var input = $(inputArray[i]);\n        if (input == null) {\n            console.log(inputArray[i] + \" not exist!\")\n            continue;\n        }\n        var defaultValue = \"\";\n        if (validateJson[inputArray[i]]) defaultValue = validateJson[inputArray[i]].defaultValue;\n        input.value = $.toString(\"\", defaultValue);\n    }\n};\nSparrow.getFormData = function (inputIdArray) {\n    //{}.prototype会多一个this该方法本身\n    var data = [];\n    var inputArray = $.jsonKeys(inputIdArray);\n    for (var i = 0; i < inputArray.length; i++) {\n        var input = $(inputArray[i]);\n        if (input == null) {\n            console.log(inputArray[i] + \" not exist!\")\n            continue;\n        }\n        if (!$.isNullOrEmpty(input.name)) {\n            var value = input.value;\n            //todo 加判断其他控件\n            data.push(input.name + \"=\" + value);\n        }\n    }\n    return data.join(\"&\");\n};\nSparrow.waitRedirect = function (timerId, period) {\n    var queryString = $(\"#hdnQueryString\").value();\n    var timer = $(\"#\" + timerId);\n    if (timer == null || timer.s == null) return;\n    if (!period) period = 1000;\n    var interval = window.setInterval(function () {\n        var time = parseInt(timer.html(), 10);\n        if (time-- === 0) {\n            window.location.target = \"_self\";\n            window.location.href = queryString;\n            window.clearInterval(interval);\n        } else {\n            timer.html(time);\n        }\n    }, period);\n};\nSparrow.format = function (txt, compress) {\n    /* 格式化JSON源码(对象转换为JSON文本) */\n    var indentChar = '    ';\n\n    if (typeof txt === 'string' && /^\\s*$/.test(txt)) {\n        alert('数据为空,无法格式化! ');\n        return;\n    }\n    var data = null;\n    if (typeof txt === 'object') {\n        data = txt;\n    } else {\n        try {\n            data = eval('(' + txt + ')');\n        } catch (e) {\n            alert('数据源语法错误,格式化失败! 错误信息: ' + e.description, 'err');\n            return;\n        }\n    }\n    var draw = [], last = false, This = this, line = compress ? '' : '\\n', nodeCount = 0, maxDepth = 0;\n\n    var notify = function (name, value, isLast, indent/*缩进*/, formObj) {\n        nodeCount++;\n        /*节点计数*/\n        for (var i = 0, tab = ''; i < indent; i++) tab += indentChar;\n        /* 缩进HTML */\n        tab = compress ? '' : tab;\n        /*压缩模式忽略缩进*/\n        maxDepth = ++indent;\n        /*缩进递增并记录*/\n        if (value && value.constructor === Array) {/*处理数组*/\n            draw.push(tab + (formObj ? ('\"' + name + '\":') : '') + '[' + line);\n            /*缩进'[' 然后换行*/\n            for (var i = 0; i < value.length; i++)\n                notify(i, value[i], i === value.length - 1, indent, false);\n            draw.push(tab + ']' + (isLast ? line : (',' + line)));\n            /*缩进']'换行,若非尾元素则添加逗号*/\n        } else if (value && typeof value === 'object') {/*处理对象*/\n            draw.push(tab + (formObj ? ('\"' + name + '\":') : '') + '{' + line);\n            /*缩进'{' 然后换行*/\n            var len = 0, i = 0;\n            for (var key in value) len++;\n            for (var key in value) notify(key, value[key], ++i === len, indent, true);\n            draw.push(tab + '}' + (isLast ? line : (',' + line)));\n            /*缩进'}'换行,若非尾元素则添加逗号*/\n        } else {\n            if (typeof value === 'string') value = '\"' + value + '\"';\n            draw.push(tab + (formObj ? ('\"' + name + '\":') : '') + value + (isLast ? '' : ',') + line);\n        }\n    };\n    var isLast = true, indent = 0;\n    notify('', data, isLast, indent, false);\n    return draw.join('');\n};\n//取得指定对象的指定方法,并传递Window.Event事件参数. 必须以obj和method形式传递\nSparrow.bind = function (obj, m, args) {\n    return function (e) {\n        if (m.indexOf(\"|\") > -1) {\n            var MethodArray = m.split(\"|\");\n            for (var x = 0; x < MethodArray.length; x++) {\n                args ? obj[MethodArray[x]](args, e) : obj[MethodArray[x]](e);\n            }\n        } else {\n            args ? obj[m](args, e) : obj[m](e);\n        }\n    }\n};\n\n\n// 插件扩展1)each\nSparrow.prototype.each = function (method) {\n    for (var i = 0, l = this.length; i < l; i++) {\n        //在method中this即为 this[i]\n        method.call(this[i], i, this);\n    }\n};\nSparrow.prototype.attr = function (property, value) {\n    if (!this.s) {\n        return\n    }\n    if (!$.isNullOrEmpty(value)) {\n        this.s.setAttribute(property, value);\n        return;\n    }\n\n    var v = this.s.attributes[property];\n    if (v) {\n        return v.value;\n    }\n    return this.s.getAttribute(property);\n};\n\nSparrow.prototype.html = function (value) {\n    if (!this.s) {\n        return;\n    }\n    if (!$.isNullOrEmpty(value)) {\n        this.s.innerHTML = value;\n        return;\n    }\n    return this.s.innerHTML;\n};\n\nSparrow.prototype.format = function (html, args) {\n    if (!this.s) {\n        return;\n    }\n    if ($(html) != null) {\n        html = $(\"#\" + html).html();\n    }\n    this.s.innerHTML = html.format(args);\n};\n\nSparrow.prototype.value = function (value) {\n    if (!this.s) {\n        return;\n    }\n    if (value === undefined || value === null) {\n        return this.s.value;\n    }\n    this.s.value = value;\n};\n\n\nSparrow.prototype.check = function (value) {\n    for (var i = 0; i < this.length; i++) {\n        if (this[i].value === value) {\n            this[i].checked = \"checked\";\n            break;\n        }\n    }\n};\nSparrow.prototype.opacity = function (n) {\n    if (n >= 0) {\n        // ie<10\n        this.s.style.filter = 'alpha(opacity=' + n + ')';\n        // ie=10 firefox ...\n        this.s.style.opacity = n / 100;\n        this.s.setAttribute(\"opacity\", n);\n        return;\n    }\n    var opacity = this.s.attributes[\"opacity\"];\n    if (!opacity) {\n        return 100;\n    } else {\n        return opacity.value;\n    }\n};\n\n// 要附加事件的控件\n// 事件全名onclick\n// 事件委托方法\nSparrow.prototype.bind = function (eventName, eventHandle) {\n    if (!this.s) return;\n    if (this.s.attachEvent) {\n        this.s.attachEvent(eventName, eventHandle);\n        return;\n    }\n    this.s.addEventListener(eventName.substring(2), eventHandle, false);\n};\nSparrow.prototype.getAbsoluteTop = function () {\n    var ctrl = this.s;\n    var srcObj = typeof (ctrl) === \"string\" ? $(ctrl) : ctrl;\n    var returnValue = srcObj.offsetTop;\n    while ((srcObj = srcObj.offsetParent) != null) {\n        returnValue += srcObj.offsetTop;\n    }\n    return returnValue;\n};\nSparrow.prototype.getAbsoluteLeft = function () {\n    var ctrl = this.s;\n    var srcObj = typeof (ctrl) === \"string\" ? $(ctrl) : ctrl;\n    var returnValue = srcObj.offsetLeft;\n    while ((srcObj = srcObj.offsetParent) != null) {\n        returnValue += srcObj.offsetLeft;\n    }\n    return returnValue;\n};\nSparrow.prototype.source = function () {\n    return this.s;\n};\n\nSparrow.prototype.class = function (className) {\n    if (className) {\n        this.s.className = className;\n        return;\n    }\n    return this.s.className;\n};\n\nSparrow.prototype.css = function (attribute, value, add) {\n    if (Math.abs(value) < 1) {\n        value = value < 0 ? -1 : 1;\n    }\n\n    if (attribute === \"opacity\") {\n        value = Math.ceil(value);\n        if (add) {\n            value = parseInt(this.opacity(), 10) + value;\n        }\n        this.opacity(value);\n    } else {\n        var command = null;\n        if (add) {\n            command = 'var o=parseInt($(\"' + this.s.id + '\").style.'\n                + attribute + ',10);';\n            command += '$(\"' + this.s.id + '\").style.' + attribute\n                + '=(o+' + value + ')+\"px\";';\n        } else {\n            command = '$(\"' + this.s.id + '\").style.' + attribute + '=\"' + value + '\"';\n        }\n        eval(command);\n    }\n    return this;\n};\nSparrow.prototype.change_check_box_class = function (checked, index, key, split) {\n    var className = this.s.className;\n    if (!split) {\n        split = \"_\";\n    }\n    var classNameArray = className.split(split);\n    if (!key) {\n        key = \"check\";\n    }\n    if (!index) {\n        index = classNameArray.length;\n    }\n    if (checked) {\n        if (className.indexOf(key) < 0) {\n            classNameArray.splice(index, 0, key);\n            this.s.className = classNameArray.join(split);\n        }\n    } else {\n        if (className.indexOf(key) >= 0) {\n            classNameArray.splice(index, 1);\n            this.s.className = classNameArray.join(split);\n        }\n    }\n    classNameArray.splice(index, classNameArray.length - index + 1);\n    return classNameArray.join(class_split);\n};\n\n\nSparrow.prototype.contains = function (htmlElement) {\n    while (htmlElement != null && typeof (htmlElement.tagName) !== \"undefined\") {\n        if (htmlElement === this.s)\n            return true;\n        htmlElement = htmlElement.parentNode;\n    }\n    return false;\n};\n\n\nSparrow.prototype.remove = function () {\n    if (this != null && this.s != null) {\n        this.doc.body.removeChild(this.s);\n        this.s = null;\n    }\n};\nSparrow.prototype.fix = function (top, left) {\n    if (!this.s) {\n        return;\n    }\n    var weight = this.s.offsetWidth;\n    if (!left) {\n        left = this.getAbsoluteLeft();\n    }\n    if ($.browser.ie && $.browser.version === \"6.0\") {\n        this.doc.documentElement.style.backgroundImage = \"url(about:blank)\";\n        this.doc.documentElement.style.backgroundAttachment = \"fixed\";\n        this.doc.body.style.backgroundImage = \"url(about:blank)\";\n        this.doc.body.style.backgroundAttachment = \"fixed\";\n        this.s.style.position = \"absolute\";\n    } else {\n        this.s.style.position = \"fixed\";\n    }\n    this.s.style.top = top + \"px\";\n    this.s.style.left = left + \"px\";\n    this.s.style.width = weight + \"px\";\n};\nSparrow.prototype.center = function () {\n    if (!this.s) {\n        return;\n    }\n    var left = (this.doc.body.clientWidth - this.s.offsetWidth) / 2;\n    var wordWindowHeight = this.doc.documentElement.clientHeight > screen.availHeight ? screen.availHeight : this.doc.documentElement.clientHeight;\n    var workWindowHeight = wordWindowHeight - (41 + 120);\n    var top = 64 + parseInt((workWindowHeight - this.s.offsetHeight) / 2);\n    this.fix(top, left);\n};\nSparrow.prototype.loadComplete = function (callback) {\n    if (this.s.tagName.toUpperCase() === \"IFRAME\") {\n        this.s.onload = function () {\n            callback(this);\n        };\n    } else if (this.s.tagName.toUppperCase() === \"IMG\") {\n        if ($.browser.ie) {\n            this.s.onreadystatechange = function () {\n                if (this.s.readyState === \"complete\"\n                    || this.s.readyState === \"loaded\") {\n                    callback(this);\n                }\n            };\n            return;\n        }\n        this.s.onload = function () {\n            if (this.s.complete === true) {\n                callback(this);\n            }\n        };\n    }\n};\nSparrow.prototype.parent = function () {\n    return $(this.s.parentNode);\n};\nSparrow.prototype.fresh = function (url) {\n    if ($.isNullOrEmpty(this.s.src)) {\n        this.s.src = url;\n    }\n    this.s.src = $.randomUrl(this.s.src);\n};\n\nSparrow.prototype.enter = function (handle) {\n    this.s.onkeydown = function (e) {\n        e = window.event || e;\n        if (e.keyCode !== 13) {\n            return;\n        }\n        if (typeof (handle) === \"string\") {\n            $(handle).onclick(e);\n            return;\n        }\n        handle();\n    };\n};\nvar _hmt = _hmt || [];\n(function () {\n    var hm = document.createElement(\"script\");\n    hm.src = \"https://hm.baidu.com/hm.js?11daae2d559a82e0e8bd4872ad217164\";\n    var s = document.getElementsByTagName(\"script\")[0];\n    s.parentNode.insertBefore(hm, s);\n})();\n\n/*---------------------------------------------JGridView全选和单选---------------------------------------------*/\nSparrow.gridView = {\n    keyType: \"int\",// string\n    id: \"grvManageList\",\n    resultCtrlId: \"hdnGridResult\",\n    getTable: function () {\n        return $(this.id);\n    },\n    init: function () {\n        var hdnGridResult = $(\"#\" + this.resultCtrlId);\n        if (hdnGridResult == null) {\n            return;\n        }\n        if (!$.isNullOrEmpty(hdnGridResult.attr(\"gridViewId\"))) {\n            this.id = hdnGridResult.attr(\"gridViewId\");\n        }\n        if (!$.isNullOrEmpty(hdnGridResult.attr(\"keyType\"))) {\n            this.keyType = hdnGridResult.attr(\"keyType\");\n        }\n    },\n    getCellIndex: function (checkBox) {\n        return checkBox.parentNode.cellIndex;\n    },\n    allCheckClick: function (allCheckBox) {\n        var checkBoxList = $(\"&\" + this.id);\n        for (var i = 0; i < checkBoxList.length; i += 1) {\n            var checkBox = checkBoxList[i];\n            checkBox.checked = allCheckBox.checked;\n        }\n    },\n    recordCheckClick: function (checkBox, allCheckBox) {\n        if (checkBox.checked === false) {\n            $(allCheckBox).checked = false;\n            return;\n        }\n        var isAllCheck = true;\n        var checkBoxList = $(\"&\" + this.id);\n        for (var i = 0; i < checkBoxList.length; i++) {\n            if (checkBoxList[i].checked === false) {\n                isAllCheck = false;\n            }\n        }\n        if (isAllCheck) {\n            $(allCheckBox).checked = true;\n        }\n    },\n    mustSelect: function (confirmMessage) {\n        var selectedId = [];\n        // var gridViewRowCount=this.getTable().rows.length;\n        var checkBoxList = $(\"&\" + this.id);\n        var selectId = null;\n        for (var i = 0; i < checkBoxList.length; i += 1) {\n            var checkBox = checkBoxList[i];\n            if (checkBox.tagName.toLowerCase() === \"input\"\n                && checkBox.checked) {\n                selectId = checkBox.id;\n                if (this.keyType === \"string\") {\n                    selectedId.push(\"'\" + selectId + \"'\");\n                } else {\n                    selectedId.push(selectId);\n                }\n            }\n        }\n        if (selectedId.length === 0) {\n            if (lang.message.noSelectRecord) {\n                $.message(lang.message.noSelectRecord);\n            } else {\n                $.message(\"please define 'lang.message.noSelectRecord'!\");\n            }\n            return false;\n        }\n        if (selectedId.length === 1) {\n            selectedId.pop();\n            selectedId.push(selectId);\n        }\n        if (!confirmMessage) {\n            return selectedId;\n        }\n        if (window.confirm(confirmMessage)) {\n            return selectedId;\n        }\n        return false;\n    },\n    onlyCheckedOne: function (confirmMessage) {\n        var checkCount = 0;\n        var selectedId= null;\n        var checkBoxList = $(\"name.\" + this.id);\n        for (var i = 1; i < checkBoxList.length; i++) {\n            var checkBox = checkBoxList[i];\n            if (checkBox.checked) {\n                checkCount += 1;\n                selectedId = checkBox.id;\n            }\n        }\n\n        if (checkCount === 0) {\n            if (lang.message.noSelectRecord) {\n                $.message(lang.message.noSelectRecord);\n            } else {\n                $.message(\"please define lang.message.noSelectRecord!\");\n            }\n            return false;\n        }\n        if (checkCount !== 1) {\n            if (lang.message.onlySelectOneRecord) {\n                $.message(lang.message.onlySelectOneRecord);\n            } else {\n                $.message(\"please define lang.message.onlySelectOneRecord\");\n            }\n            return false;\n        }\n        if (window.confirm(confirmMessage)) {\n            return selectedId;\n        }\n        return true;\n    },\n    submit: function (postUrl, confirmMessage, isOnlyOne) {\n        var result = isOnlyOne ? this.onlyCheckedOne(confirmMessage) : this\n            .mustSelect(confirmMessage);\n        if (!result) {\n            return;\n        }\n        $(this.resultCtrlId).value = result;\n        if (postUrl === \"return\") {\n            return true;\n        }\n        $.submit(postUrl);\n    }\n};\nSparrow.table = function (id) {\n    if (!(this instanceof Sparrow.table)) {\n        return new Sparrow.table(src);\n    }\n    // Event object\n    if (id) {\n        this.id = id;\n        this.t = $(id);\n        this.body = t.getElementsByTagName(\"tbody\")[0];\n        this.tr = [];\n    }\n};\nSparrow.table.prototype = {\n    _initCell: function (cell, i, j) {\n        cell.style.cssText = this.tr[i].td[j].cssText;\n        cell.className = this.tr[i].td[j].className;\n        cell.align = this.tr[i].td[j].align;\n        cell.innerHTML = this.tr[i].td[j].innerHTML;\n        if (this.tr[i].td[j].colspan) {\n            cell.setAttribute(\"colspan\", this.tr[i].td[j].colspan);\n        }\n    },\n    _initRow: function (row, i) {\n        row.style.cssText = table.tr[i].cssText;\n        if (table.tr[i].className && table.tr[i].className !== \"\") {\n            row.className = table.tr[i].className;\n        }\n        for (var j = 0; j < this.tr[i].td.length; j++) {\n            var cell = row.insertCell(-1);\n            this._initCell(cell, i, j);\n        }\n    },\n    init: function () {\n        for (var i = 0; i < this.tr.length; i++) {\n            this.body.appendChild(this._initRow(i));\n        }\n        $(this.containerId).appendChild(this.t);\n    },\n    appendRow: function () {\n        for (var i = 0; i < this.tr.length; i++) {\n            var row = this.body.insertRow(-1);\n            this._initRow(row, i);\n        }\n    },\n    insertRow: function (rowIndex) {\n        for (var i = 0; i < this.tr.length; i++) {\n            var row = this.body.insertRow(rowIndex);\n            this._initRow(row, i);\n        }\n    },\n    updateRow: function (rowIndex) {\n        for (var i = 0; i < this.tr[0].td.length; i++) {\n            if (this.tr[0].td[i].innerHTML) {\n                this.body.rows[rowIndex].cells[i].innerHTML = this.tr[0].td[i].innerHTML;\n            }\n        }\n    },\n    removeRow: function (rowIndex) {\n        this.body.deleteRow(rowIndex);\n    }\n};\n//document.domain=$.browser.cookie.root_domain; 解决跨域\nSparrow.file = {\n    // 是否显示上传进度\n    isShowProgress: true,\n    // 等待\n    wit: null,\n    // 客户端文件名\n    clientFileName: null,\n    // 上传框架id editorId.path-key 非editor id为null e.g null.forum 表示path-key为forum 的无editor 上传组件\n    uploadFrameId: null,\n    // 上传回调函数\n    uploadCallBack: function (fileInfo, editor, size) {\n        console.info(fileInfo);\n        console.info(size);\n        this.clearStatus();\n    },\n    // 如果图片很小，不会通过getStatus方法，则在回调时主动清除上传状态\n    clearStatus: function () {\n        window.clearInterval(this.wit);\n        window.setTimeout(function () {\n            var divStatus = $('divStatus');\n            if ($.file.isShowProgress && divStatus != null) {\n                document.body.removeChild(divStatus);\n            }\n        },1000);\n    },\n    // 文件序列号\n    fileSerialNumber: null,\n    // 文件上传前的验证方法由 input file 的onchange响应\n    // file控件的onchange方法\n    // file.uploadDelegate(this,pathKey);\n    // upload frame的id与editorId_pathKey要保持一致\n    // path key 对应后台配置的上传策略\n    validateUploadFile: function (f, key, editor) {\n        if ($.file.checkFileType($.file.getFileName(f.value), [\"jpg\",\n            \"jpeg\", \"gif\", \"png\"], \"errorImgForumIco\")) {\n            $.file.uploadDelegate(key, editor);\n        }\n    },\n    callbackValidate: function (uploadProgress) {\n        if ($.isNullOrEmpty(uploadProgress.error)) {\n            return true;\n        }\n        $.alert(uploadProgress.error, \"sad\");\n        $.file.clearStatus();\n        return false;\n    },\n    // 文件上传成功后的重置方法\n    // 因为文件上传完毕之后需要重置上传序列号。所以一定要手动设置该方法\n    reset: function () {\n        var uploadFrame = $(this.uploadFrameId);\n        var tempSrc = uploadFrame.src;\n        uploadFrame.src = \"about:blank\";\n        uploadFrame.src = tempSrc;\n    },\n    getUploadFrame: function () {\n        return this.uploadFrameId ? $(this.uploadFrameId) : $(\"fileUpload\");\n    },\n    // 获取上传的input type=\"file\"控件\n    getUploadFile: function (frame) {\n        if (!frame) {\n            frame = this.getUploadFrame();\n        }\n        return frame.contentWindow.document.getElementById(\"file_upload\");\n    },\n    getUploadFileInfo: function (frame) {\n        if (!frame) {\n            frame = this.getUploadFrame();\n        }\n        return frame.contentWindow.document.getElementById(\"fileInfo\");\n    },\n    // 获取文件序列号\n    getFileSerialNumber: function () {\n        return this.fileSerialNumber;\n    },\n    setFileSerialNumber: function (serialNumber) {\n        this.fileSerialNumber = serialNumber;\n    },\n    // 获取文件的全路径文件名?\n    getFullPath: function (obj) {\n        if (!obj) {\n            return \"\"\n        }\n        if ($.browser.ie) {\n            obj.select();\n            var txt = document.frames[0].document.selection.createRange().text;\n            document.frames[0].document.selection.empty();\n            return txt;\n        }\n        if ($.browser.firefox) {\n            if (obj.files) {\n                return obj.files.item(0).getAsDataURL();\n            }\n            return obj.value;\n        }\n        return obj.value;\n    },\n    // 获文件扩展名\n    getExtension: function (fileName) {\n        fileName = $.browser.getUrlWithoutParameter(fileName);\n        return fileName.substring(fileName.lastIndexOf(\".\"))\n            .toLocaleLowerCase();\n    },\n    // 获取文件名\n    getFileName: function (fileName) {\n        fileName = $.browser.getUrlWithoutParameter(fileName);\n        if (fileName.indexOf(\"\\\\\") !== -1) {\n            return fileName.substring(fileName.lastIndexOf(\"\\\\\") + 1);\n        }\n        if (fileName.indexOf('/') !== -1) {\n            return fileName.substring(fileName.lastIndexOf(\"/\") + 1);\n        }\n        return fileName;\n    },\n    // 验证文件类型\n    checkFileType: function (fileName, rightExtension, errorCtrl) {\n        //这里封装跨域可以复用，因为\n        var fileExtension = this.getExtension(fileName);\n        var result = false;\n        for (var i = 0; i < rightExtension.length; i += 1) {\n            if (rightExtension[i].toLocaleLowerCase() === fileExtension\n                || '.' + rightExtension[i].toLocaleLowerCase() === fileExtension) {\n                result = true;\n                break;\n            }\n        }\n\n        if (result) {\n            $.v.ok(errorCtrl)\n            return result;\n        }\n        var errorLabel = $(\"#\" + errorCtrl);\n        if (errorLabel != null && errorLabel.source() != null) {\n            errorLabel.class(\"error\");\n            errorLabel.html(\"!只支持:\" + rightExtension + \"格式\");\n        }\n        $.message(\"文件格式不正确，只支持以下格式:\\n\" + rightExtension);\n        return result;\n    },\n    // 如果editor为null则表示非编辑器控件\n    uploadDelegate: function (key, editor,\n                              srcElement) {\n        // 如果显示状态并且状态控件已经显示则说明已经有文件正在上传中...\n        if (this.isShowProgress !== false && $(\"divStatus\")) {\n            $.alert(this.clientFileName + \"正在上传中,请稍侯...\", \"sad\");\n            return false;\n        }\n        this.uploadFrameId = (editor ? editor.obj : \"null\") + \".\" + key;\n        var uploadFrame = this.getUploadFrame();\n        // 客户端文件名\n        this.clientFileName = this.getUploadFile(uploadFrame).value;\n        // 如果没有选择上传文件\n        if (this.clientFileName === \"\") {\n            $.message(\"请选择上传文件!\", srcElement);\n            return false;\n        }\n\n        var fileInfo = this.getUploadFileInfo(uploadFrame).value;\n        var fileInfoArray = fileInfo.split(\".\");\n        // 设置当前文件的序列号\n        this.setFileSerialNumber(fileInfoArray[2]);\n        // 如果要显示状态\n        if ($.file.isShowProgress !== false) {\n            // 如果状态控件不存在则创建\n            if (!$(\"divStatus\")) {\n                var sparrowUploadFrame = $(uploadFrame);\n                var divStatus = $(\"+div\");\n                divStatus.s.id = \"divStatus\";\n                divStatus.s.style.cssText = \"width:260px;height:100px;position:absolute;color:#ffffff;background:#000000;font-size:10pt;border:#ccc 1px solid;text-align:left;\";\n                divStatus.html(\"服务器正在加载文件信息...\");\n                document.body.appendChild(divStatus.s);\n                divStatus.s.style.top = (sparrowUploadFrame\n                        .getAbsoluteTop() - 10)\n                    + \"px\";\n                divStatus.s.style.left = (sparrowUploadFrame\n                        .getAbsoluteLeft())\n                    + \"px\";\n                divStatus.opacity(90);\n            }\n            // 设置状态跟踪\n            if (typeof (editor) === \"undefined\" || editor === null) {\n                // 非编辑器控件\n                this.wit = window.setInterval(function (){$.file.getStatus()}, 1000);\n            } else {\n                this.wit = window.setInterval(function (){$.file.getStatus()}, 1000);\n            }\n        }\n        // 提交\n        uploadFrame.contentWindow.document.forms[0].submit();\n    },\n    //只负责显示进度\n    progressCallback: function (uploadProgress) {\n        if (uploadProgress == null) {\n            return;\n        }\n        if (uploadProgress.status === \"loading\") {\n            return;\n        }\n\n        if (!this.callbackValidate(uploadProgress)) {\n            return;\n        }\n        // 正常显示状态\n        var statusString = [];\n        var status = Math\n                .ceil(parseFloat(uploadProgress.readLength)\n                    / parseFloat(uploadProgress.contentLength)\n                    * 1000000)\n            / 10000 + \"%\";\n\n\n        statusString\n            .push(\"正在上传文件<br/><span class='highlight'>《\"\n                + $.file\n                    .getFileName($.file.clientFileName)\n                + \"》</span><br/>\");\n        statusString.push(\"文件大小:\"\n            + uploadProgress.humanReadableContentLength\n            + \"<br/>\");\n        statusString.push(\"上传大小:\"\n            + uploadProgress.humanReadableReadLength\n            + \"<br/>\");\n        statusString.push(\"上传进度:\" + status);\n        $(\"#divStatus\", false).html(statusString.toString());\n        if (status === \"100%\") {\n            $.file.clearStatus();\n        }\n    },\n    getStatus: function () {\n        // 根据当前文件的序列号,实时获取当前文件的上传状态\n        $(\"jsonp\", $.url.upload + \"/file-upload?file-serial-number=\"\n            + this.getFileSerialNumber() + \"&t=\"\n            + Math.random() + \"&callback=progressCallback\", \"uploadProgress\");\n    },\n    /**\n     * @param key path-key\n     * @param pathKeySuffixPair {path-key:suffix}\n     */\n    initImageUploadEvent: function (key, pathKeySuffixPair) {\n        if (!$.url.upload) {\n            console.error(\"please config $.url.upload the default config is $.url.root [\"+$.url.root+\"]\");\n            $.url.upload = $.url.root;\n        }\n        var fileFrame = $(\"null.\" + key);\n        if (fileFrame == null) {\n            return;\n        }\n        document.domain = $.browser.cookie.root_domain;\n        if (!pathKeySuffixPair) pathKeySuffixPair = \"Cover\";\n        fileFrame.src = $.url.upload + \"/file-upload?path-key=\" + key+\"&t=\"+ Math.random();\n        //第一次加载初始化\n        $.file.uploadCallBack = function (fileInfo, editor, size) {\n            console.info(size);\n        };\n        $.file.validateUploadFile = function (f, key, editor) {\n            var suffix = pathKeySuffixPair;\n            if (typeof (pathKeySuffixPair) === \"object\") {\n                suffix = pathKeySuffixPair[key];\n            }\n            if (!$.file.checkFileType($.file.getFileName(f.value), [\"jpg\", \"jpeg\",\n                \"gif\", \"png\"], \"error\" + suffix)) {\n                return;\n            }\n            $.file.uploadCallBack = function (uploadingProgress) {\n                $.file.clearStatus();\n                if (!uploadingProgress.fileUrl) {\n                    return;\n                }\n\n                var divContainer = $(\"#div\" + suffix);\n                if (divContainer != null) {\n                    divContainer.html(\"<a href='\" + uploadingProgress.fileUrl + \"' target='_blank'><img src='\" + uploadingProgress.fileUrl\n                        + \"'/></a>\");\n                }\n                var hdnWebUrl = $(\"#hdn\" + suffix);\n                if (hdnWebUrl != null) {\n                    hdnWebUrl.value(uploadingProgress.fileUrl);\n                }\n                var errorPrompt = $(\"#error\" + suffix);\n                if (errorPrompt != null&&errorPrompt.s!=null) {\n                    errorPrompt.class(\"prompt\");\n                    errorPrompt.html(\"\");\n                }\n            };\n            $.file.uploadDelegate(key, editor);\n        };\n    }\n};\nSparrow.event = function (e) {\n  if (!(this instanceof Sparrow.event)) {\n    return new Sparrow.event(e);\n  }\n  if (e) {\n    this.originalEvent = e;\n    this.type = e.type;\n    this.e = window.event || this.originalEvent;\n    this.srcElement = this.e.srcElement || this.e.target;\n    this.toElement = this.e.toElement || this.e.relatedTarget;\n  }\n};\n\nSparrow.event.prototype = {\n  dragapproved: false,\n  srcElement: null,\n  eventX: null,\n  eventY: null,\n  srcLeftPos: null,\n  srcRightPos: null,\n  cancelBubble: function () {\n    window.event\n      ? (window.event.cancelBubble = true)\n      : this.e.stopPropagation();\n  },\n  preventDefault: function () {\n    if (this.e.preventDefault) {\n      this.e.preventDefault();\n    }\n    if (window.event) window.event.returnValue = false;\n  },\n  getAbsoluteTop: function () {\n    return this.e.pageY\n      ? this.e.pageY\n      : this.e.clientY\n      ? this.e.clientY +\n        (document.documentElement.scrollTop\n          ? document.documentElement.scrollTop\n          : document.body.scrollTop)\n      : null;\n  },\n  getAbsoluteLeft: function () {\n    return this.e.pageX\n      ? this.e.pageX\n      : this.e.clientX\n      ? this.e.clientX +\n        (document.documentElement.scrollLeft\n          ? document.documentElement.scrollLeft\n          : document.body.scrollLeft)\n      : null;\n  },\n  move: function () {\n    if (this.dragapproved && this.srcElement != null) {\n      this.srcElement.style.left = this.srcLeftPos + this.clientX - this.eventX;\n      this.srcElement.style.top = this.srcRightPos + this.clientY - this.eventY;\n      return;\n    }\n    return true;\n  },\n  move_end: function () {\n    this.dragapproved = false;\n    this.srcElement.onmousemove = null;\n  },\n  drags: function () {\n    try {\n      if (this.srcElement.className.indexOf(\"drag\") !== -1) {\n        if (this.srcElement.className === \"drag-p\") {\n          this.srcElement = this.srcElement.parentNode;\n        } else if (this.srcElement.className === \"drag-pp\") {\n          this.srcElement = this.srcElement.parentNode.parentNode;\n        } else {\n          this.srcElement = null;\n        }\n        var sparrowElement = $(this.srcElement);\n        this.dragapproved = true;\n        this.srcLeftPos = sparrowElement.getAbsoluteLeft();\n        this.srcRightPos = sparrowElement.getAbsoluteTop();\n        this.eventX = e.clientX;\n        this.eventY = e.clientY;\n        this.srcElement.onmousemove = this.move;\n      } else {\n        this.srcElement = null;\n        this.dragapproved = false;\n        this.srcElement.onmousemove = null;\n      }\n    } catch (err) {}\n  },\n};\n\nSparrow.prototype.progressbar = function (callback, config) {\n    var bar = $(\"+div\");\n    document.body.appendChild(bar.s);\n    if (config.style) {\n        bar.s.style.cssText = config.style;\n    }\n    var progress = $(\"+div\");\n    bar.s.appendChild(progress.s);\n    if (config.progressStyle) {\n        progress.s.style.cssText = config.progressStyle;\n    }\n    progress.s.style.width = \"0px\";\n    progress.it = window.setInterval(function () {\n        callback(progress);\n    }, 100);\n    progress.end = function () {\n        window.clearInterval(progress.it);\n    };\n    progress.remove = function () {\n        document.body.removeChild(progress.s.parentNode);\n    };\n};\nSparrow.treeNode = function (id,\n                             pid,\n                             name,\n                             url,\n                             title,\n                             target,\n                             childCount,\n                             showCtrl,\n                             businessEntity,\n                             icon) {\n\n    this.id = id;\n    this.pid = pid;\n    this.name = name;\n    this.url = url;\n    this.title = title;\n    this.target = target;\n    this.showCtrl = showCtrl ? showCtrl : true;\n    this.businessEntity = businessEntity;\n    this.childCount = childCount ? childCount : 0;\n    this.icon = icon;\n    this.iconOpen = icon;\n    this._isOpened = false;\n    this._isSelected = false;\n    this._lastOfSameLevel = false;\n    this._addressIndex = 0;\n    this._parentNode;\n    //延迟加载时，由后台提供\n    this._hasChild = childCount > 0;\n};\n\n\nSparrow.tree = function (objName, parentName) {\n    this.config = {\n        target: \"_self\",\n        useFolderLinks: true,//是否显示文件夹\n        useSelection: true,//是否支持选中\n        useCookies: true,//是否支持cookie 记忆\n        useLines: true,//是否使用链接线\n        useIcons: true,//是否使用icon 图标\n        useRootIcon: true, //是否显示root 图标\n        usePlusMinusIcons: true,//是否使用+-号图标\n        //class name 包含tree-id\n        useTreeIdInNodeClass: false,\n        useLevelInNodeClass: false,\n        useRadio: false,\n        useCheckbox: false,//是否显示复选框\n        treeNodeClass: null,//节点class\n        //根据旧权构建\n        reBuildTree: null,//是否支持旧树重建\n        //重新查库构建\n        loadFloatTree: null,//是否支持浮动树构建\n        floatTreeId: null,//浮动树id\n        descHiddenId: null,//选中后ID显示对象\n        descTextBoxId: null,//选中后文本显示对象\n        validate: null,//自定义验证事件\n        validateConfig: null,//自定义验证config\n        isdelay: false,\n        isclientDelay: false,\n        closeSameLevel: false,//自动关闭同级节点\n        inOrder: false,//\n        showRootIco: true,//是否显示根icon\n        showOrder: false,//是否显示排序\n        orderURL: null,//排序url\n        treeFrameId: null,//树显示的div\n        loadingString: \"londing .....\",\n        imageDir: $.url.resource + \"/images/treeimg\",\n        // prompt:\"1系统菜单 2系统页面 3控件\"\n        RESOURCE_TYPE: {\n            \"1\": \"[系统菜单]\",\n            \"2\": \"[系统页面]\",\n            \"3\": \"[控件事件]\"\n        }\n    };\n    this.icon = {\n        root: this.config.imageDir + '/base.gif',\n        folder: this.config.imageDir + '/folder.gif',\n        folderOpen: this.config.imageDir + '/folderopen.gif',\n        node: this.config.imageDir + '/page.gif',\n        nolineNode: this.config.imageDir + '/nolinepage.gif',\n        empty: this.config.imageDir + '/empty.gif',\n        line: this.config.imageDir + '/line.gif',\n        join: this.config.imageDir + '/join.gif',\n        joinBottom: this.config.imageDir + '/joinbottom.gif',\n        plus: this.config.imageDir + '/plus.gif',\n        plusBottom: this.config.imageDir + '/plusbottom.gif',\n        minus: this.config.imageDir + '/minus.gif',\n        minusBottom: this.config.imageDir + '/minusbottom.gif',\n        nlPlus: this.config.imageDir + '/nolines_plus.gif',\n        nlMinus: this.config.imageDir + '/nolines_minus.gif'\n    };\n    this.interval = null;\n    this.currentSelectId = {};\n    this.floatTreeFrameId = null;// read only\n    this.obj = objName;\n    this.parentName = parentName;\n    this.fullObjName = parentName ? (parentName + \".\" + objName) : objName;\n    this.aNodes = [];\n    this.aIndent = [];\n    this.root = new Sparrow.treeNode(-1);\n    this.selectedNodeIndex = null;\n    this.selectedFound = false;\n    this.completed = false;\n};\nSparrow.tree.prototype = {\n    resetIcon: function () {\n        this.icon.root = this.config.imageDir + '/base.gif';\n        this.icon.nolineroot = this.config.imageDir + '/nolinebase.gif';\n        this.icon.folder = this.config.imageDir + '/folder.gif';\n        this.icon.folderOpen = this.config.imageDir + '/folderopen.gif';\n        this.icon.node = this.config.imageDir + '/page.gif';\n        this.icon.nolineNode = this.config.imageDir + '/nolinepage.gif';\n        this.icon.empty = this.config.imageDir + '/empty.gif';\n        this.icon.line = this.config.imageDir + '/line.gif';\n        this.icon.join = this.config.imageDir + '/join.gif';\n        this.icon.joinBottom = this.config.imageDir + '/joinbottom.gif';\n        this.icon.plus = this.config.imageDir + '/plus.gif';\n        this.icon.plusBottom = this.config.imageDir + '/plusbottom.gif';\n        this.icon.minus = this.config.imageDir + '/minus.gif';\n        this.icon.minusBottom = this.config.imageDir + '/minusbottom.gif';\n        this.icon.nlPlus = this.config.imageDir + '/nolines_plus.gif';\n        this.icon.nlMinus = this.config.imageDir + '/nolines_minus.gif';\n    },\n    addBusinessEntity: function (id, pid, name, url, title, businessEntity) {\n        this.aNodes[this.aNodes.length] = new Sparrow.treeNode(id, pid, name, url, title,\n            \"_self\", undefined, true, businessEntity);\n    },\n    add: function (id, pid, name, url, title, target, childCount,\n                   showCtrl, businessEntity, icon) {\n        this.aNodes[this.aNodes.length] = new Sparrow.treeNode(id, pid, name, url, title,\n            target, childCount, showCtrl, businessEntity, icon);\n    },\n    openAll: function () {\n        this.oAll(true);\n    },\n    closeAll: function () {\n        this.oAll(false);\n    },\n    toString: function () {\n        var str = '<div class=\"sparrow-tree\">';\n        if (document.getElementById) {\n            if (this.config.useCookies) {\n                this.selectedNodeIndex = this.getSelectedAi();\n            }\n            str += this.addNode(this.root);\n        } else {\n            str += 'Browser not supported.</div>';\n        }\n        if (!this.selectedFound) {\n            this.selectedNodeIndex = null;\n        }\n        this.completed = true;\n        return str;\n    },\n    deleteClick: function () {\n        alert('deleteClick not defined!');\n    },\n    removeNode: function (currentNode) {\n        if (!currentNode) {\n            currentNode = this.aNodes[this.getSelectedAi()];\n        }\n        this.aNodes.splice(currentNode._addressIndex, 1);\n        this.clearSelectedNode();\n        $(this.config.treeFrameId).innerHTML = this.toString();\n        this.clearFloatFrame();\n    },\n    appendNode: function (newNode) {\n        this.aNodes.push(newNode);\n        $(this.config.treeFrameId).innerHTML = this.toString();\n    },\n    updateNode: function (newNode, currentNode) {\n        if (!currentNode) {\n            currentNode = this.aNodes[this.getSelectedAi()];\n        }\n        if (currentNode.pid !== newNode.pid) {\n            this.removeNode(currentNode);\n            this.appendNode(newNode);\n        } else {\n            this.aNodes[this.getSelectedAi()] = newNode;\n        }\n        $(this.config.treeFrameId).innerHTML = this.toString();\n    },\n    showOrder: function (e) {\n        if (!this.config.showOrder) {\n            return;\n        }\n        var orderDiv = $(\"orderDiv\");\n        if (orderDiv) {\n            document.body.removeChild(orderDiv);\n        }\n        var srcObject = $.event(e).srcElement;\n        //remove old label,because it's in container cache !!important\n        //$.remove(\"#\"+srcObject.id);\n        var sparrowElement = $(srcObject, false);\n        var addressIndex = srcObject.id.substring(this.obj.length + 1);\n        var currentNode = this.aNodes[addressIndex];\n        if (currentNode.pid === -1) {\n            this.clearFloatFrame();\n            return;\n        }\n\n        orderDiv = $(\"+div.orderDiv\");\n        document.body.appendChild(orderDiv.s);\n        orderDiv.class(\"pure-menu pure-order-menu\");\n        orderDiv.css(\"position\", \"absolute\");\n        orderDiv.html(('<span class=\"pure-menu-heading pure-menu-link pure-order-menu-heading\" onclick=\"{0}.delete_click({1});{0}.clearFloatFrame();\" >删除</span>'\n            + '<ul class=\"pure-menu-list\">'\n            + '<li class=\"pure-menu-item\"><a href=\"#\" class=\"pure-menu-link\">当前第<span id=\"currentOrderNo\"></span>位</a></li>'\n            + '<li class=\"pure-menu-item pure-menu-has-children\">'\n            + '<a  id=\"hyperJump\" class=\"pure-menu-link\">你可以跳转至</a>'\n            + ' <ul id=\"ulChildrenList\" class=\"pure-menu-children\"></ul></li></ul>').format(this.fullObjName, addressIndex));\n\n        orderDiv.bind(\"onclick\", function (e) {\n            $.event(e).cancelBubble();\n        });\n        $(\"#hyperJump\", false).bind(\"onmouseover\", function () {\n            $(\"#ulChildrenList\", false).css(\"display\", \"block\");\n        });\n        orderDiv.css(\"left\", (sparrowElement.getAbsoluteLeft() + srcObject.offsetWidth) + \"px\");\n        orderDiv.css(\"top\", (sparrowElement.getAbsoluteTop() + srcObject.offsetHeight) + \"px\");\n\n        var pNode = currentNode._parentNode;\n        var index = 0;\n        var currentIndex = 0;\n        var listHTML = \"\";\n        for (var i = 0; i < this.aNodes.length; i++) {\n            if (this.aNodes[i].pid !== pNode.id) {\n                continue;\n            }\n            if (this.aNodes[i].id === currentNode.id) {\n                currentIndex = ++index;\n                continue;\n            }\n            index++;\n            listHTML += '<li class=\"pure-menu-item\" onclick=\"{0}.order({1},{2})\"><a href=\"#\" class=\"pure-menu-link\">第<span>{2}</span>位</a></li>'.format(this.fullObjName, addressIndex, index);\n            if (this.aNodes[i]._lastOfSameLevel) {\n                break;\n            }\n        }\n        //without cache\n        $(\"#ulChildrenList\", false).html(listHTML);\n        $(\"#currentOrderNo\", false).html(currentIndex);\n    },\n    order: function (srcAddressIndex, sort) {\n        var srcNode = this.aNodes[srcAddressIndex];\n        var data = \"id=\" + srcNode.id + \"&target=\" + sort;\n        var tree = this;\n        var nodes = this.aNodes;\n        $.ajax.json(this.config.orderURL, data, function (json) {\n            srcNode = nodes[srcAddressIndex];\n            var destNode = null;\n            var srcParentNode = srcNode._parentNode;\n            var childNo = 0;\n            var destIndex = 0;\n            //find dest node\n            for (var i = 0; i < nodes.length; i++) {\n                if (nodes[i].pid !== srcParentNode.id) {\n                    continue;\n                }\n                childNo++;\n                if (childNo === sort) {\n                    destIndex = i;\n                    destNode = nodes[i];\n                    break;\n                }\n            }\n            //delete src index\n            nodes.splice(srcAddressIndex, 1);\n            //insert new at dest insert\n            nodes.splice(destIndex, 0, srcNode);\n            $(\"#\" + tree.config.treeFrameId).html(tree);\n            tree.clearFloatFrame();\n        });\n    }, addNode: function (pNode) {\n        var str = '';\n        var n = 0;\n        //如果数据有序，则不需要从头遍历\n        if (this.config.inOrder) {\n            n = pNode._addressIndex;\n        }\n        for (n; n < this.aNodes.length; n++) {\n            var cn = this.aNodes[n];\n            if (!cn || cn.pid !== pNode.id) {\n                continue;\n            }\n            cn._parentNode = pNode;\n            pNode.childCount++;\n            cn._addressIndex = n;\n            this.setCS(cn);\n            if (!cn.target && this.config.target) {\n                cn.target = this.config.target;\n            }\n            if (cn._hasChild && !cn._io && this.config.useCookies) {\n                cn._isOpened = this.isOpen(cn.id);\n            }\n            if (!this.config.useFolderLinks && cn._hasChild) {\n                cn.url = null;\n            }\n            if (this.config.useSelection && cn.id === this.getSelectedId()) {\n                cn._isSelected = true;\n                this.selectedNodeIndex = n;\n                this.selectedFound = true;\n            }\n            // 因node中调用addNode()函数则为递归。\n            if (this.config.showRootIco) {\n                str += this.node(cn, n);\n            } else {\n                this.node(cn, n);\n            }\n            // 如果当前节点是当前父节点的最后一个儿子节点则退出遁环\n            if (cn._lastOfSameLevel)\n                break;\n        }\n        return str;\n    }, select: function (srcElement, className) {\n        if (this.current != null) {\n            this.current.className = $(this.current).attr(\"old\");\n        }\n        $(srcElement).attr(\"old\", srcElement.className);\n        srcElement.className = \"iTreeNodeSelect\" + className;\n        this.current = srcElement;\n    }, node: function (node, nodeId) {\n        // 获得缩进字符串\n        var classNum = \"\";\n        if (this.config.treeNodeClass) {\n            classNum += this.config.treeNodeClass;\n        } else if (this.config.useTreeIdInNodeClass) {\n            classNum += this.obj.substring(0, 1).toUpperCase()\n                + this.obj.substring(1);\n        }\n        if (this.config.useLevelInNodeClass) {\n            classNum += (this.aIndent.length > 1 ? 3 : (this.aIndent.length + 1));\n        }\n        var str = '<div onclick=\"' + this.fullObjName + '.select(this,\\'' + classNum + '\\');\"';\n        if (this.config.useRootIcon || node.pid !== this.root.id) {\n            str += ' class=\"iTreeNode' + classNum + '\"';\n        }\n        str += 'id=\"node' + this.obj + nodeId + '\"  >' + this.indent(node, nodeId);\n        if (this.config.useIcons) {\n            if (this.config.useLines) {\n                node.icon = (this.root.id === node.pid) ? this.icon.root\n                    : ((node._hasChild) ? this.icon.folder : this.icon.node);\n                node.iconOpen = (this.root.id === node.pid) ? this.icon.root\n                    : (node._hasChild) ? this.icon.folderOpen : this.icon.node;\n            } else if (!node.icon) {\n                node.iconOpen = node.icon = node._hasChild ? this.icon.nolinefolder\n                    : this.icon.nolinenode;\n            }\n            if (this.config.useRootIcon || node.pid !== this.root.id) {\n                str += '<img '\n                    + (this.config.showOrder ? ' onmouseover=\"' + this.fullObjName\n                        + '.showOrder(event)\"' : '') + ' id=\"i' + this.obj\n                    + nodeId + '\" src=\"'\n                    + ((node._isOpened) ? node.iconOpen : node.icon)\n                    + '\" alt=\"\" align=\"absMiddle\"/>';\n            }\n            if ((node.showCtrl && node.pid !== -1)\n                || (node.pid === -1 && this.userRootIcon === true)) {\n                if (this.config.useRadio) {\n                    str += '<input style=\"line-height:15px;height:15px;border:0;\" type=\"radio\" name=\"iTreerdb\" id=\"r{1}{0}\" onclick=\"{1}.getRadioSelected({0});{1}.s({0});\" value=\"{2}\"/>'.format(nodeId, this.fullObjName, node.id);\n                }\n                if (this.config.useCheckbox === true) {\n                    str += '<input style=\"line-height:15px;height:15px;border:0;\" type=\"checkbox\" name=\"iTreecbx\" id=\"c{1}{0}\" onclick=\"{1}.selectCheckbox({0});\" value=\"{2}\"/>'.format(nodeId, this.fullObjName, node.id);\n                }\n            }\n        }\n        if (node.url) {\n            str += '<a ondblclick=\"javascript:'\n                + this.fullObjName\n                + '.dbs('\n                + nodeId\n                + ');\" id=\"s'\n                + this.obj\n                + nodeId\n                + '\" class=\"'\n                + ((this.config.useSelection) ? ((node._isSelected ? 'nodeSel'\n                    : 'node')) : 'node') + '\" href=\"' + node.url + '\"';\n\n            if (node.title) {\n                str += ' title=\"' + node.title + '\"';\n            }\n            if (node.target) {\n                str += ' target=\"' + node.target + '\"';\n            }\n\n            if (this.config.useSelection\n                && ((node._hasChild && this.config.useFolderLinks) || !node._hasChild)) {\n                str += ' onclick=\"javascript: ' + this.fullObjName + '.s(' + nodeId + ');';\n            }\n            str += (this.config.usePlusMinusIcons ? ''\n                : (node._hasChild && node._parentNode.id !== -1 ? (this.fullObjName\n                    + '.o(' + nodeId + ')') : ''))\n                + '\">';\n        } else if ((!this.config.useFolderLinks || !node.url) && node._hasChild\n            && node.pid !== this.root.id) {\n            str += '<a href=\"javascript: ' + this.fullObjName + '.o(' + nodeId\n                + ');\" class=\"node\">';\n        }\n\n        str += '<span id=\"ntext' + this.obj + nodeId + '\">' + node.name + '</span>';\n\n        if (node.url\n            || ((!this.config.useFolderLinks || !node.url) && node._hasChild)) {\n            str += '</a>';\n        }\n        str += '</div>';\n        if (node._hasChild) {\n            str += '<div id=\"d'\n                + this.obj\n                + nodeId\n                + '\" class=\"clip\" style=\"display:'\n                + ((this.root.id === node.pid || node._isOpened) ? 'block'\n                    : 'none') + ';\">';\n            // 如果不是动态加载\n            if (!this.config.isdelay && !this.config.isclientDelay) {\n                str += this.addNode(node);\n            }\n                // 延迟加载子节点(前一条件针对打开的所有非顶级节点，后一条件针对根节点)\n            // 是否打开在缓存中取\n            else if ((node._isOpened && node.pid != -1) || (node.pid == -1)) {\n                str += this.addNode(node);\n            }\n            str += '</div>';\n        }\n        this.aIndent.pop();\n        return str;\n    },\n\n// 生成缩进图片\n    indent: function (node, nodeId) {\n        var str = '';\n        if (this.root.id === node.pid) {\n            return str;\n        }\n        for (var n = 0; n < this.aIndent.length; n++) {\n            str += '<img src=\"'\n                + ((this.aIndent[n] === 1 && this.config.useLines) ? this.icon.line\n                    : this.icon.empty) + '\" alt=\"\" />';\n        }\n        // 因为是递归填加节点，所以用堆栈。先将节点的缩进状态压入栈，等节点填加完成后再弹出栈。\n        // 所以当树的层次为多层时，栈中也同样有相同层次的状态信息。如果为是普通节点则画|如果是同父节点的最小兄弟节点则画空格\n        node._lastOfSameLevel ? this.aIndent.push(0) : this.aIndent.push(1);\n        if (!this.config.usePlusMinusIcons) {\n            str += '<img style=\"width:0;height:0;\" id=\"j' + this.obj\n                + nodeId + '\"/>';\n            return str;\n        }\n\n        if (node._hasChild) {\n            str += '<a href=\"javascript: ' + this.fullObjName + '.o(' + nodeId\n                + ');\"><img id=\"j' + this.obj + nodeId + '\" src=\"';\n            if (!this.config.useLines) {\n                str += (node._isOpened) ? this.icon.nlMinus\n                    : this.icon.nlPlus;\n            } else {\n                str += ((node._isOpened) ? ((node._lastOfSameLevel && this.config.useLines) ? this.icon.minusBottom\n                    : this.icon.minus)\n                    : ((node._lastOfSameLevel && this.config.useLines) ? this.icon.plusBottom\n                        : this.icon.plus));\n            }\n            str += '\"/></a>';\n            return str;\n        }\n        str += '<img id=\"j'\n            + this.obj\n            + nodeId\n            + '\" src=\"'\n            + ((this.config.useLines) ? ((node._lastOfSameLevel) ? this.icon.joinBottom\n                : this.icon.join)\n                : this.icon.empty) + '\" alt=\"\" />';\n        return str;\n    },\n// 设置当前节点状态_hc和ls\n    setCS: function (node) {\n        var lastId = null;\n        node._hasChild = false;\n        node._lastOfSameLevel = false;\n        for (var n = 0; n < this.aNodes.length; n++) {\n            // 如果不是动态的则判断是否有子节点,如果是延迟加载由后台提供s\n            if (this.config.isdelay === false) {\n                if (this.aNodes[n] != null && this.aNodes[n].pid == node.id) {\n                    node._hasChild = true;\n                }\n            }\n            if (this.aNodes[n] != null && this.aNodes[n].pid == node.pid)\n                lastId = this.aNodes[n].id;\n        }\n        if (lastId === node.id) {\n            node._lastOfSameLevel = true;\n        }\n    },\n    getAllNameOfNode: function (cn, splitChar) {\n        if (!cn) {\n            cn = this.aNodes[this.getSelectedAi()];\n        }\n        var nameArray = [];\n        while (cn.id !== -1 && !$.isNullOrEmpty(cn.name)) {\n            if (cn.name.indexOf(':') !== -1) {\n                nameArray.push(cn.name.split(':')[1]);\n            } else {\n                nameArray.push(cn.name);\n            }\n            if (cn._parentNode) {\n                cn = cn._parentNode;// 如果cn_p存在，即是静加载因为是动态加载只有addNode后才有该节点信息\n            } else {\n                cn = this.aNodes[this.getAiById(cn.pid)];\n            }\n        }\n        splitChar = splitChar ? splitChar : \"  \";\n        nameArray.reverse();\n        return nameArray.join(splitChar);\n    },\n// 获取当前选中的节点地址索引只有一个\n    getSelectedAi: function () {\n        return this.getAiById(this.getSelectedId());\n    },\n// 获取当前选中的节点ID只有一个\n    getSelectedId: function () {\n        var sn;\n        if (this.config.useCookies === true) {\n            sn = this.getCookie('currentSelect' + this.obj);\n        } else {\n            sn = this.currentSelectId[\"currentSelect\" + this.obj];\n        }\n        return (sn) ? sn : null;\n    },\n// 清除当前选中节点\n    clearSelectedNode: function () {\n        var now = new Date();\n        var yesterday = new Date(now.getTime() - 1000 * 60 * 60 * 24);\n        this.setCookie('cs' + this.obj, 'cookieValue', yesterday);\n        this.currentSelectId[\"currentSelect\" + this.obj] = null;\n    },\n// 设置当前选中的节点\n    setCurrentSelectNode: function (cn) {\n        if (this.config.useCookies) {\n            this.setCookie('currentSelect' + this.obj, cn.id);\n        } else {\n            this.currentSelectId[\"currentSelect\" + this.obj] = cn.id;\n        }\n    },\n// 选择事件\n    s: function (id) {\n        if (!this.config.useSelection) {\n            return;\n        }\n        var cn = this.aNodes[id];\n        if (cn._hasChild && !this.config.useFolderLinks) {\n            return;\n        }\n        if (this.selectedNodeIndex !== id) {\n            if (this.selectedNodeIndex || this.selectedNodeIndex === 0) {\n                // 将之前的选中节点置为普通结点状态\n                eOld = document.getElementById(\"s\" + this.obj\n                    + this.selectedNodeIndex);\n                this.aNodes[this.selectedNodeIndex]._isSelected = false;\n\n                if (eOld) {\n                    eOld.className = \"node\";\n                }\n            }\n            eNew = document.getElementById(\"s\" + this.obj + id);\n            eNew.className = \"nodeSel\";\n            this.selectedNodeIndex = id;\n            cn._isSelected = true;\n            this.setCurrentSelectNode(cn);\n        }\n        if (document.getElementById(\"r\" + this.obj + id)) {\n            document.getElementById(\"r\" + this.obj + id).checked = true;\n            this.getRadioSelected(id);\n        }\n        if (document.getElementById(\"c\" + this.obj + id)) {\n            var currentcbk = document.getElementById(\"c\" + this.obj + id);\n            currentcbk.checked = !currentcbk.checked;\n            this.selectCheckbox(id);\n        }\n        if (this.config.closeSameLevel)\n            this.closeLevel(cn);\n    },\n    /**\n     * 把折叠状态节点的子节点加载到子节点面板中<br>\n     *\n     * @param node\n     *            节点对象;\n     */\n    delayOpen: function (node) {\n        var currentTree = this;\n        var cn = node;\n        var id = node._addressIndex;\n        // 延迟加载折叠状态节点的子节点\n        if (cn._isOpened) {\n            return true;\n        }\n        // 获取展示子节点的div\n        var childrenDIV = document.getElementById('d' + this.obj + id);\n        // 该结点从未展开过\n        if (childrenDIV != null && childrenDIV.innerHTML == \"\") {\n            var postStr = \"ay=true&nodeId=\" + cn.id;\n            if ($(\"exceptid\").value) {\n                postStr += \"&exceptid=\" + $(\"exceptid\").value;\n            }\n            $.ajax.json(this.config.ajaxURL, postStr,\n                function (result) {\n                    alert(result);\n                    // alert(xmlHttpRequest.responseText);\n                    var nodeListJson = xmlHttpRequest.responseText\n                        .json();\n                    openNodeCallBack(nodeListJson);\n                    // 将从当前节点到次级根节点之前所有父节点是否是同级节点的最后一个的标志压栈\n                    var nodeTemp = cn;\n                    var indentArray = [];\n                    // 循环到次级根节点之前\n                    while (nodeTemp.pid != -1) {\n                        indentArray[indentArray.length] = (nodeTemp._lastOfSameLevel) ? 0\n                            : 1;\n                        nodeTemp = nodeTemp._parentNode;\n                    }\n                    // 反向压栈\n                    for (var i = indentArray.length - 1; i >= 0; i--) {\n                        currentTree.aIndent\n                            .push(indentArray[i]);\n                    }\n                    // 初始化下下级所有结点，并得到所有下一级子节点的html字符串，并将一层孩子写入到页面中\n                    childrenDIV.innerHTML = currentTree\n                        .addNode(cn);\n                    // 清除临时深度\n                    for (var i = 0; i < indentArray.length; i++) {\n                        currentTree.aIndent.pop();\n                    }\n                });\n        }\n    },\n    clientDelayOpen: function (node, isFresh) {\n        var cn = node;\n        var id = node._addressIndex;\n        var needLoad = cn._isOpened == false || isFresh;\n        // 延迟加载折叠状态节点的子节点\n        if (!needLoad) {\n            return;\n        }\n        // 获取展示子节点的div\n        var childrenDIV = document.getElementById('d' + this.obj + id);\n\n        // 该结点从未展开过\n        if (childrenDIV != null && childrenDIV.innerHTML == \"\" || isFresh) {\n            // 将从当前节点到次级根节点之前所有父节点是否是同级节点的最后一个的标志压栈\n            var nodeTemp = cn;\n            var indentArray = [];\n\n            // 循环到次级根节点之前\n            while (nodeTemp._parentNode.id != this.root.id) {\n                indentArray[indentArray.length] = (nodeTemp._lastOfSameLevel) ? 0\n                    : 1;\n                nodeTemp = nodeTemp._parentNode;\n            }\n            // 反向压栈\n            for (var i = indentArray.length - 1; i >= 0; i--) {\n                this.aIndent.push(indentArray[i]);\n            }\n            // 初始化下下级所有结点，并得到所有下一级子节点的html字符串，并将一层孩子写入到页面中\n            childrenDIV.innerHTML = this.addNode(cn);\n\n            // 清除临时深度\n            for (var i = 0; i < indentArray.length; i++) {\n                this.aIndent.pop();\n            }\n        }\n    },\n// 当含有子节点的父节点打开\n    o: function (id) {\n        var cn = this.aNodes[id];\n        if (this.config.isdelay) {\n            this.delayOpen(cn);\n        }\n        if (this.config.isclientDelay) {\n            this.clientDelayOpen(cn);\n        }\n        this.nodeStatus(!cn._isOpened, id, cn._lastOfSameLevel);\n\n        cn._isOpened = !cn._isOpened;\n\n        if (this.config.closeSameLevel)\n            this.closeLevel(cn);\n        if (this.config.useCookies)\n            this.updateCookie();\n    },\n    oAll: function (status) {\n        for (var n = 0; n < this.aNodes.length; n++) {\n            if (this.aNodes[n] != null && this.aNodes[n]._hasChild\n                && this.aNodes[n].pid != this.root.id) {\n                this.nodeStatus(status, n, this.aNodes[n]._lastOfSameLevel);\n                this.aNodes[n]._isOpened = status;\n            }\n        }\n        if (this.config.useCookies)\n            this.updateCookie();\n    },\n    getAiById: function (id) {\n        for (var n = 0; n < this.aNodes.length; n++) {\n            if (this.aNodes[n] != null && this.aNodes[n].id == id) {\n                return n;\n            }\n        }\n        return null;\n    },\n// openTo打开到某某节点(只支持静态)\n    openTo: function (nId, isAi) {\n        if (!isAi) {\n            nId = this.getAiById(nId);\n        }\n        if (nId === null) {\n            return;\n        }\n        var cn = this.aNodes[nId];\n        if (this.config.delay) {\n            var openNodeArray = [];\n            while (cn._parentNode.pid != -1) {\n                openNodeArray.push(cn);\n                cn = cn._parentNode;\n            }\n            return;\n        }\n        if (cn.pid == this.root.id || !cn._parentNode) {\n            return;\n        }\n        cn._isOpened = true;\n        if (this.completed && cn._hasChild) {\n            this.nodeStatus(true, cn._addressIndex, cn._lastOfSameLevel);\n        }\n        this.openTo(cn._parentNode._addressIndex, true);\n    },\n// 相同父节点中的所有子节点中，关闭除node节点之外的所有兄弟节点\n    closeLevel: function (node) {\n        for (var n = 0; n < this.aNodes.length; n++) {\n            if (this.aNodes[n] != null && this.aNodes[n].pid == node.pid\n                && this.aNodes[n].id != node.id && this.aNodes[n]._hasChild) {\n                this.nodeStatus(false, n, this.aNodes[n]._lastOfSameLevel);\n                this.aNodes[n]._isOpened = false;\n                this.closeAllChildren(this.aNodes[n]);\n            }\n        }\n    },\n// 关闭当前node节点的所有子节点\n    closeAllChildren: function (node) {\n        for (var n = 0; n < this.aNodes.length; n++) {\n            if (this.aNodes[n] != null && this.aNodes[n].pid == node.id\n                && this.aNodes[n]._hasChild) {\n                if (this.aNodes[n]._isOpened)\n                    this.nodeStatus(false, n, this.aNodes[n]._lastOfSameLevel);\n                this.aNodes[n]._isOpened = false;\n                this.closeAllChildren(this.aNodes[n]);\n            }\n        }\n    },\n// 设置当前节点状态\n// status是否打开\n// id当前节点地址索引\n// bottom是否为相同父节点的最后一个子节点\n    nodeStatus: function (isOpen, nodeIndex, isLastNodeOfSameLevel) {\n        eDiv = document.getElementById('d' + this.obj + nodeIndex);\n        eJoin = document.getElementById('j' + this.obj + nodeIndex);\n        if (this.config.usePlusMinusIcons) {\n            eIcon = document.getElementById('i' + this.obj + nodeIndex);\n            if (this.config.useIcons) {\n                eIcon.src = ((isOpen) ? this.aNodes[nodeIndex].iconOpen\n                    : this.aNodes[nodeIndex].icon);\n            }\n            eJoin.src = (this.config.useLines) ?\n                ((isOpen) ? ((isLastNodeOfSameLevel) ? this.icon.minusBottom\n                    : this.icon.minus)\n                    : ((isLastNodeOfSameLevel) ? this.icon.plusBottom\n                        : this.icon.plus)) :\n\n                ((isOpen) ? this.icon.nlMinus : this.icon.nlPlus);\n        } else {\n            eJoin.src = this.icon.empty;\n        }\n        eDiv.style.display = (isOpen) ? 'block' : 'none';\n    },\n    clearCookie: function () {\n        var now = new Date();\n        var yesterday = new Date(now.getTime() - 1000 * 60 * 60 * 24);\n        this.setCookie('co' + this.obj, 'cookieValue', yesterday);\n        this.setCookie('cs' + this.obj, 'cookieValue', yesterday);\n    },\n    setCookie: function (cookieName, cookieValue, expires, path,\n                         domain, secure) {\n        document.cookie =\n            escape(cookieName) + '=' + escape(cookieValue)\n            + (expires ? '; expires=' + expires.toGMTString() : '')\n            + (path ? '; path=' + path : '')\n            + (domain ? '; domain=' + domain : '')\n            + (secure ? '; secure' : '');\n    },\n// iTree有两个cookieName\n// 1、co当前打开的currentOpen\n// 2、cs当前选择的currentSelected\n    getCookie: function (cookieName) {\n        var cookieValue = '';\n        var posName = document.cookie.indexOf(escape(cookieName) + '=');\n        if (posName != -1) {\n            var posValue = posName + (escape(cookieName) + '=').length;\n            var endPos = document.cookie.indexOf(';', posValue);\n            if (endPos != -1)\n                cookieValue = unescape(document.cookie.substring(posValue, endPos));\n            else\n                cookieValue = unescape(document.cookie.substring(posValue));\n        }\n        return (cookieValue);\n    },\n    updateCookie: function () {\n        var str = '';\n        for (var n = 0; n < this.aNodes.length; n++) {\n            if (this.aNodes[n] != null && this.aNodes[n]._isOpened\n                && this.aNodes[n].pid != this.root.id) {\n                if (str)\n                    str += '.';\n                str += this.aNodes[n].id;\n            }\n        }\n        this.setCookie('currentOpen' + this.obj, str);\n    },\n\n// [Cookie] Checks if a node id is in a cookie\n// 判断节点是否为打开状态\n    isOpen: function (id) {\n        var aOpen = this.getCookie('currentOpen' + this.obj).split('.');\n        for (var n = 0; n < aOpen.length; n++)\n            if (aOpen[n] == id) {\n                return true;\n            }\n        return false;\n    },\n    getAllId: function () {\n        var idArray = [];\n        for (var i = 0; i < this.aNodes.length; i++) {\n            idArray.push(this.aNodes[i].id);\n        }\n        return idArray;\n    },\n    getAllParentNode: function () {\n        var cn = this.aNodes[this.getSelectedAi()];\n        var parentNodeIdArray = [];\n        if (cn) {\n            while (cn.id != -1) {\n                parentNodeIdArray.push(cn.id);\n                cn = cn._parentNode;\n            }\n        } else {\n            parentNodeIdArray.push(0);\n        }\n        return parentNodeIdArray;\n    },\n    selectChilds: function (parentIds, currentSelected, length) {\n        pids = [];\n        for (var n = 0; n < length; n++) {\n            if (parentIds.indexOf(this.aNodes[n].pid) != -1) {\n                if (this.aNodes[n].showCtrl != false) {\n                    document.getElementById(\"c\" + this.obj + n).checked = currentSelected;\n                    pids.push(this.aNodes[n].id);\n                }\n            }\n        }\n        if (pids.length != 0) {\n            this.selectChilds(pids, currentSelected, length);\n        }\n    },\n    getRadioSelected: function () {\n        return null;\n    },\n    selectCheckbox: function (nodeId) {\n        var node = this.aNodes[nodeId];\n        var currentSelected = null;\n        if (node.selectChild == undefined || node.selectChild == true) {\n            currentSelected = document.getElementById(\"c\" + this.obj + nodeId).checked;\n            if (currentSelected) {\n                var cn = node;\n                var c;\n                while (cn.id != -1) {\n                    c = document.getElementById(\"c\" + this.obj + cn._addressIndex);\n                    if (c)\n                        c.checked = true;\n                    cn = cn._parentNode;\n                }\n            }\n            var len = this.aNodes.length;\n            var parentIds = [];\n            for (var n = 0; n < len; n++) {\n                if ((n != nodeId)\n                    && (this.aNodes[n] != null && this.aNodes[n].pid == node.id)) {\n                    if (this.aNodes[n].showCtrl != false) {\n                        document.getElementById(\"c\" + this.obj + n).checked = currentSelected;\n                        parentIds.push(this.aNodes[n].id);\n                    }\n                }\n            }\n            if (parentIds.length != 0) {\n                this.selectChilds(parentIds, currentSelected, len);\n            }\n        }\n\n        if (this.checkBoxClick) {\n            this.checkBoxClick(node.id, currentSelected);\n        }\n    },\n// 字符串格式1,2,3\n// Array\n    setChecked: function (checkedId) {\n        if (typeof (checkedId) == \"string\") {\n            checkedId = checkedId.split(\",\");\n        }\n        var checkBoxList = document.getElementsByName(\"iTreecbx\");\n        for (var n = 0; n < checkBoxList.length; n++) {\n            var currentId= parseInt(checkBoxList[n].value,10)\n            if (checkedId.indexOf(currentId) !== -1) {\n                checkBoxList[n].checked = true;\n            }\n        }\n    },\n    getAllCheckedTitle: function () {\n        var nodes = [];\n        var checkBoxList = document.getElementsByName(\"iTreecbx\");\n        for (var i = 0; i < checkBoxList.length; i++) {\n            if (checkBoxList[i].checked === true) {\n                arrayIndex = checkBoxList[i].id.replace('c' + this.obj, '');\n                nodes.push(this.aNodes[arrayIndex].title);\n            }\n        }\n        return nodes;\n    },\n    getAllChecked: function () {\n        var nodes = [];\n        var checkBoxList = document.getElementsByName(\"iTreecbx\");\n        for (var i = 0; i < checkBoxList.length; i++) {\n            if (checkBoxList[i].checked === true) {\n                arrayIndex = checkBoxList[i].id.replace('c' + this.obj, '');\n                nodes.push(this.aNodes[arrayIndex]);\n            }\n        }\n        return nodes;\n    },\n    getAllCheckedId: function () {\n        var nodes = [];\n        var checkBoxList = document.getElementsByName(\"iTreecbx\");\n        for (var i = 0; i < checkBoxList.length; i++) {\n            if (checkBoxList[i].checked === true) {\n                nodes.push(checkBoxList[i].value);\n            }\n        }\n        return nodes.join();\n    },\n    show: function (e, width, maxHeight) {\n        if (this.floatTreeFrameId) {\n            return;\n        }\n        // 根据主树重建用户选择树，未访问数据库\n        if (this.config.reBuildTree)\n            this.config.reBuildTree();\n        // 通过方法loadFloatTree方法建新树\n        if ($(this.config.floatTreeId).innerHTML.trim() == \"\"\n            && typeof (this.config.loadFloatTree) != \"undefined\") {\n            this.config.loadFloatTree();\n        }\n        var srcObject = $.event(e).srcElement;\n        var sparrowElement = $(srcObject);\n        var HTMLObject = document.createElement(\"DIV\");\n        HTMLObject.id = this.config.floatTreeId + \"Frame\";\n        HTMLObject.style.cssText = \"position:absolute;width:\"\n            + width\n            + \"px;height:0px;border:#ccc 1px solid;background:#ffffff; padding:1px;text-align:left;overflow:auto;\";\n        HTMLObject.innerHTML = this.config.loadingString;\n        document.body.appendChild(HTMLObject);\n        HTMLObject.onclick = function (e) {\n            $.event(e).cancelBubble();\n        };\n        HTMLObject.style.left = (sparrowElement.getAbsoluteLeft() + 1)\n            + \"px\";\n        HTMLObject.style.top = (sparrowElement.getAbsoluteTop() + srcObject.offsetHeight)\n            + \"px\";\n        this.interval = window.setInterval(this.fullObjName + \".intervalShow(\"\n            + maxHeight + \")\", 10);\n    },\n    intervalShow: function (maxHeight) {\n        var FrameId = this.config.floatTreeId + \"Frame\";\n        // var divWidth=parseInt($(FrameId).style.width.replace(\"px\",\"\"));\n        var divHeight = $(FrameId).clientHeight + 15;\n        if (divHeight >= maxHeight) {\n            this.floatTreeFrameId = FrameId;\n            if ($(this.config.floatTreeId)\n                && $(this.config.floatTreeId).innerHTML != \"\") {\n                var treeDiv = $(this.config.floatTreeId);\n                $(FrameId).innerHTML = \"\";\n                treeDiv.style.display = \"block\";\n                $(FrameId).appendChild(treeDiv);\n                window.clearInterval(this.interval);\n            }\n        } else {\n            $(FrameId).style.height = (divHeight) + \"px\";\n        }\n    },\n    clearFloatFrame: function () {\n        if (this.floatTreeFrameId) {\n            var TreeFrame = $(this.floatTreeFrameId);\n            // reBuildTree is a function to build floatTree from loaded tree\n            if (!this.config.reBuildTree) {\n                var tree = $(this.config.floatTreeId);\n                tree.style.display = \"none\";\n                document.body.appendChild(tree);\n            }\n            document.body.removeChild(TreeFrame);\n            this.floatTreeFrameId = null;\n            window.clearInterval(this.interval);\n        }\n        if ($(\"orderDiv\")) {\n            document.body.removeChild($(\"orderDiv\"));\n        }\n    },\n    //定义 config.loadFloatTree  树初始化方法\n    initResourceTree: function (resourcePrefix, ajaxUrl) {\n        if (!ajaxUrl) ajaxUrl = $.url.root + \"/resource/load-all\";\n        var treeObject = this;\n        this.config.loadFloatTree = function () {\n            $.ajax.json(ajaxUrl, resourcePrefix, function (result) {\n                var jsonList = result.data || result.message;\n                treeObject.aNodes = [];\n                treeObject.resetIcon();\n                treeObject.config.usePlusMinusIcons = false;\n                treeObject.config.useRootIcon = false;\n                treeObject.add(jsonList[0].parentId, -1, \"\");\n                treeObject.resetIcon();\n                for (var i = 0; i < jsonList.length; i++) {\n                    if ($.isNullOrEmpty(jsonList[i].icoUrl)) {\n                        jsonList[i].icoUrl = $.DEFAULT_RESOURCE_ICO_URL;\n                    }\n                    treeObject.add(jsonList[i].id,\n                        jsonList[i].parentId,\n                        jsonList[i].name,\n                        \"javascript:\" + treeObject.fullObjName\n                        + \".codeNodeClick(\" + (i + 1) + \");\",\n                        jsonList[i].name,\n                        undefined,\n                        undefined,\n                        undefined,\n                        jsonList[i],\n                        jsonList[i].icoUrl);\n                }\n                $(treeObject.config.floatTreeId).innerHTML = treeObject;\n            });\n        };\n    },\n    // 定义this.config.loadFloatTree 码表初始化方法\n    initCodeTooltip: function (codePrefix, ajaxUrl) {\n        var htmlEvents = (\"$('#'+{0}.config.descTextBoxId).bind('onchange',function(){\" +\n            \"if($({0}.config.descTextBoxId).value==''){\" +\n            \"$({0}.config.descHiddenId).value='';\" +\n            \"if(typeof({0}.config.valueTextBoxId)!='undefined')\" +\n            \"{$({0}.config.valueTextBoxId).value='';$({0}.config.valueTextBoxId).readOnly='readonly';}}});\").format(this.fullObjName);\n        eval(htmlEvents);\n        var treeObject = this;\n        if ($(treeObject.config.floatTreeId) == null) {\n            var floatTree = $(\"+div\").s;\n            floatTree.id = treeObject.config.floatTreeId;\n            floatTree.className = \"floatTree\";\n            document.body.appendChild(floatTree);\n        }\n        if (!ajaxUrl) {\n            ajaxUrl = $.url.root + \"/code/load\";\n        }\n        this.dbs = function (nodeIndex) {\n            var businessEntity = this.aNodes[nodeIndex].businessEntity;\n            if (this.config.descHiddenId != null) {\n                $(this.config.descHiddenId).value = businessEntity.id;\n            }\n            if (this.config.descTextBoxId != null) {\n                var descCtrl = $(this.config.descTextBoxId);\n                if (descCtrl.type === \"text\") {\n                    descCtrl.value = this.getAllNameOfNode(this.aNodes[nodeIndex], \"/\");\n                } else {\n                    descCtrl.innerHTML = this.getAllNameOfNode(this.aNodes[nodeIndex], \"/\");\n                }\n            }\n            if (this.config.valueTextBoxId != null) {\n                $(this.config.valueTextBoxId).value = businessEntity.value;\n            }\n            if (this.codeNodeCallBack) {\n                this.codeNodeCallBack(this.aNodes[nodeIndex]);\n            }\n            this.clearFloatFrame();\n            if (this.config.validate) {\n                this.config.validate();\n            } else if (this.config.validateConfig) {\n                $.v.isNull(this.config.validateConfig, descCtrl);\n            }\n        };\n        treeObject.config.loadFloatTree = function () {\n            $.ajax.json(ajaxUrl, \"prefix=\" + codePrefix, function (result) {\n                var jsonList = result.data || result.message;\n                treeObject.aNodes = [];\n                treeObject.resetIcon();\n                treeObject.config.usePlusMinusIcons = false;\n                treeObject.config.useRootIcon = false;\n                treeObject.add(jsonList[0].parentId, -1, \"\");\n                for (var i = 0; i < jsonList.length; i++) {\n                    treeObject.add(jsonList[i].id,\n                        jsonList[i].parentId, jsonList[i].name,\n                        \"javascript:\" + treeObject.fullObjName\n                        + \".codeNodeClick(\" + (i + 1) + \");\",\n                        jsonList[i].code + \"|\" + jsonList[i].name,\n                        undefined, undefined, undefined, jsonList[i]);\n                }\n                $(treeObject.config.floatTreeId).innerHTML = treeObject;\n            });\n        };\n    },\n    //codeNodeClick--> dbs -->codeNodeCallBack\n    codeNodeClick: function (nodeIndex) {\n        if (this.aNodes[nodeIndex].childCount === 0) {\n            this.dbs(nodeIndex);\n        }\n    }\n};\nSparrow.dispatcher = {\n    builder: {\n        id: \"id\",//控件标签 id\n        delegate: \"delegate\",//事件委托\n        api: \"api\",//ajax请求的api\n        strategy: \"strategy\",//策略 控件的 value\n        eventName: \"eventName\"//事件的名称 默认为onclick\n    },\n    commandAdapter: {},\n    ctrlIdEventMap: {},\n    eventRegistry: [],\n    /**\n     *\n     * @param eventConfig\n     * {\n                id: \"btn1\",//控件标签 id\n                delegate: function (e, srcElement) {\n                    alert(srcElement.value);\n                    srcElement.value = \"update\";\n                },//事件委托\n                //api: \"api\",//ajax请求的api\n                strategy: \"insert\",//策略对应控件的Value\n                eventName:\"onclick\"\n       }\n     */\n    register: function (eventConfig) {\n        this.eventRegistry.push(eventConfig);\n    },\n    dispatcher: function (e, srcElement) {\n        //btnInsert+\"新增\"\n        //btnInsert+\"更新\"\n        var commandKey = srcElement.id + \"_\" + srcElement.value;\n        var builder = this.commandAdapter[commandKey];\n\n        var delegate = null;\n        if (builder != null) {\n            delegate = builder.delegate;\n        }\n        if (delegate == null) {\n            builder = this.commandAdapter[srcElement.id];\n            if (builder != null) {\n                delegate = builder.delegate;\n            }\n        }\n\n        if (builder == null || delegate == null) {\n            return\n        }\n        if (builder.api) {\n            $.ajax.json(builder.api, builder.parameter, delegate, srcElement);\n            return;\n        }\n        delegate(e, srcElement);\n    },\n    bind: function () {\n        for (var i = 0; i < this.eventRegistry.length; i++) {\n            var builder = this.eventRegistry[i];\n            var strategy = builder.strategy;\n            var eventName = builder.eventName;\n            var commandKey = builder.id + (strategy ? \"_\" + strategy : \"\");\n            this.commandAdapter[commandKey] = builder;\n            this.ctrlIdEventMap[builder.id] = eventName ? eventName : \"onclick\";\n        }\n        for (ctrlId in this.ctrlIdEventMap) {\n            //bind(event,function(e){});\n            $(\"#\" + ctrlId).bind(this.ctrlIdEventMap[ctrlId], function (e) {\n                Sparrow.dispatcher.dispatcher(e, $.event(e).srcElement)\n            });\n        }\n    }\n};\nSparrow.user = {\n  authorMap: null,\n  author: null,\n  login: {\n    dialog: function (nsOfCallBack, args) {\n      var url =\n        $.url.passport +\n        \"/login-dialog?register=false&callback-ns=\" +\n        nsOfCallBack;\n      if (!$.isNullOrEmpty(args)) {\n        url += \"&parameter=\" + args;\n      }\n      document.domain = $.browser.cookie.root_domain;\n      $.window({ url: url, showHead: false });\n    },\n    ns_callback: {\n      publish: \"thread.publish\",\n      attention: \"user.attention\",\n      cancel_attention: \"user.attention.cancel\",\n      comment: \"thread.comment\",\n      upload: \"upload\",\n      like_thread: \"thread.like\",\n    },\n  },\n  getZone: function (userId) {\n    return $.url.root + \"/zone-\" + userId;\n  },\n  getAvatar: function (avatar) {\n    return avatar ? avatar : $.DEFAULT_AVATOR_URL;\n  },\n  // 是否有编辑权限\n  editable: function (authorId) {\n    var currentUserId = $.browser.getUserId();\n    if (currentUserId <= 0) {\n      return false;\n    }\n    return authorId === currentUserId;\n  },\n  initLoginBar: function () {\n    if (!$(\"divAccount\")) {\n      return;\n    }\n    if ($.browser.isLogin()) {\n      $(\"divAccount\").style.display = \"block\";\n      $(\"divLogin\").style.display = \"none\";\n      var hyperUser = $(\"hyperUser\");\n      $(hyperUser).html($.browser.getUserName());\n      hyperUser.title = $.browser.getUserName();\n      hyperUser.href = $.user.getZone($.browser.getUserId());\n      return;\n    }\n    $(\"divAccount\").style.display = \"none\";\n    $(\"divLogin\").style.display = \"block\";\n  },\n  // 游客的鼠标悬停头象效果\n  popup: function (srcElement, userId) {\n    var userInfo =\n      this.authorMap == null ? this.author : this.authorMap[userId];\n    var divUserInfo = $(\"divUserInfo\");\n    if (divUserInfo == null) {\n      divUserInfo = $(\"+div.divUserInfo\");\n      divUserInfo.s.style.cssText =\n        \"border: #ccc 1px solid; position: absolute; width:300px; height:120px; background: #ffffff;overflow: hidden;\";\n      divUserInfo.s.onmouseover = function (e) {\n        console.log(\"user info  mouse over ...\");\n        $.event(e).cancelBubble();\n      };\n      document.body.appendChild(divUserInfo.s);\n    }\n    $(\"divUserInfo\").style.top = $(srcElement).getAbsoluteTop() - 2 + \"px\";\n    $(\"divUserInfo\").style.left = $(srcElement).getAbsoluteLeft() - 2 + \"px\";\n\n    var POPUP_HTML = [];\n    POPUP_HTML.push(\n      '<table style=\"border: 0;background:#fff;\" cellpadding=\"0\" cellspacing=\"0\">'\n    );\n    POPUP_HTML.push(\"<tr>\");\n    POPUP_HTML.push('<td style=\"border: 0; width:60px;\" valign=\"top\">');\n    POPUP_HTML.push(\n      '<a href=\"{0}\" target=\"_blank\"><img style=\"width:50px; height: 50px; border: 2px #EDEDED solid;\" src=\"{1}\" /></a>'.format(\n        this.getZone(userInfo.id),\n        this.getAvatar(userInfo.avatar)\n      )\n    );\n    POPUP_HTML.push(\"</td>\");\n    POPUP_HTML.push(\n      '<td style=\"border: 0; width: 240px; line-height: 25px;text-align:left;\">'\n    );\n    POPUP_HTML.push(\n      '昵称:<a href=\"{2}\" target=\"_blank\"><span>{0}</span></a>{1}<br />'.format(\n        userInfo.name,\n        \"attention\",\n        this.getZone(userInfo.id)\n      )\n    );\n    POPUP_HTML.push(\"性别:<span>{0}</span><br />\".format(userInfo.gender));\n    if (userInfo.createTime) {\n      POPUP_HTML.push(\n        \"注册日期:<span>{0}</span><br />\".format(userInfo.createTime)\n      );\n    }\n\n    if (userInfo.lastLoginTime) {\n      POPUP_HTML.push(\n        \"最后登陆:<span>{0}</span><br />\".format(userInfo.lastLoginTime)\n      );\n    }\n    if (!$.isNullOrEmpty(userInfo.status)) {\n      POPUP_HTML.push(\"状态：<span>{0}</span><br />\".format(userInfo.status));\n    }\n\n    // if (userInfo.extend && userInfo.extend.COUNT) {\n    //     POPUP_HTML.push('COUNT：<span>{0}</span><br />'.format(userInfo.extend.COUNT));\n    // }\n    $(\"divUserInfo\").innerHTML = POPUP_HTML.join(\"\");\n    $(\"#divUserInfo\").show();\n\n    // 鼠标离开头象效果\n    document.onmouseover = function (e) {\n      $(\"#divUserInfo\").hidden();\n    };\n  },\n  json: function (json) {\n    var jsonHidden = $(json);\n    if (jsonHidden != null) {\n      json = jsonHidden.value.json();\n    }\n    return json;\n  },\n  initAuthor: function (json) {\n    this.author = this.json(json);\n  },\n  initAuthorMap: function (json) {\n    this.authorMap = this.json(json);\n  },\n  attention: function () {\n    return false;\n    /**\n         * // 是否关注过\n         var attention = \"\";\n         if (userInfo.extend.ATTENTION_RELATION != \"NONE\") {\n                    // 当前用户是游客或者未关注该用户\n                    if (!$.browser.isLogin()\n                        || userInfo.extend.ATTENTION_RELATION == \"NULL\" || userInfo.extend.ATTENTION_RELATION == \"FANS\") {\n                        // 需要登录后关注\n                        attention = '<a target=\"_self\" onclick=\"attention(\\''\n                            + userId\n                            + '\\',this);\"'\n                            + 'href=\"javascript:void(0);\">关注</a>';\n                    } else {\n                        // 我关注过该用户\n                        if (userInfo.extend.ATTENTION_RELATION == \"ATTENTION\" || userInfo.extend.ATTENTION_RELATION == \"EACH_OTHER_ATTENTION\") {\n                            attention = '<a target=\"_self\" onclick=\"cancelattention(\\''\n                                + userId\n                                + '\\',this);\"'\n                                + 'href=\"javascript:void(0);\">取消关注</a>';\n                        }\n                    }\n                    userInfo.extend.ATTENTION_RELATION = attention;\n                }\n         else {\n                    userInfo.extend.ATTENTION_RELATION = \"\"\n                }\n         */\n  },\n  getToken: function () {\n    //url 优先\n    var token = Sparrow.request(\"token\");\n    if (!Sparrow.isNullOrEmpty(token)) {\n      localStorage.setItem(\"token\", token);\n      return token;\n    }\n    return localStorage.getItem(\"token\");\n  },\n};\n\n/* 第三方分享实现 */\nSparrow.share = {\n    config: {\n        icon: $.url.resource + '/images/share.png',\n        share: [\n            // 无appkey但有websit配置\n            {\n                url: 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?style=202&width=80&height=31&showcount=1&url={0}&title={1}&pics={2}&desc={3}&summary={4}&site='\n                + encodeURIComponent($.browser.getCookie($.browser.cookie.website_name))\n                + '&otype=share',\n                position: {\n                    left: 160,\n                    top: 0\n                },\n                title: \"分享到QQ空间\"\n            },\n            {\n                url: 'http://service.weibo.com/share/share.php?appkey=318168823&url={0}&title={1}&pic={2}&ralateUid=3199233727',\n                position: {\n                    left: 0,\n                    top: 0\n                },\n                title: \"分享到新浪微博\"\n            }]\n    },\n    init: function () {\n        var shareArray = document.getElementsByName(\"share\");\n        var shareTemplateArray = [];\n        for (var j = 0; j < this.config.share.length; j++) {\n            shareTemplateArray\n                .push('<a target=\"_blank\" style=\"height:32px;width:32px;display:inline-block;background:url({0}) {1}px {2}px;\" title=\"{3}\" href=\"{4}\"></a>'\n                    .format(this.config.icon,\n                        this.config.share[j].position.left,\n                        this.config.share[j].position.top,\n                        this.config.share[j].title,\n                        this.config.share[j].url));\n        }\n        shareTemplate = shareTemplateArray.join(\"\");\n        for (var i = shareArray.length - 1; i >= 0; i--) {\n            var shareData = shareArray[i].value.json();\n            shareArray[i].parentNode.innerHTML = shareTemplate.format(encodeURIComponent(shareData.url),\n                encodeURIComponent(shareData.title),\n                encodeURIComponent(shareData.pic),\n                encodeURIComponent(shareData.comment),\n                encodeURIComponent(shareData.summary));\n        }\n    }\n};\nSparrow.webSocket = function (url, token) {\n  this.url = url;\n  // websocket 连接的 token\n  this.token = token;\n  // 接收到信息后需要执行的事件\n  this.onMsgCallback = null;\n  // 心跳间隔时间 10s\n  this.heartTime = 10000;\n  // 心跳超时时间 12s\n  this.heartTimeout = 20000;\n  // 重连时间 0.5s\n  this.reconnectTime = 500;\n\n  this.timeoutTimer = null;\n\n  this.serverTimeoutTimer = null;\n\n  this.ws = null;\n\n  this.lastHeartTime = 0;\n\n  this.reconnectionAlarmTimer = null;\n\n  this.reconnectionAlarmCallback = null;\n\n  this.userId = null;\n};\n\nSparrow.webSocket.prototype.connect = function (resolve, reject) {\n  try {\n    if (\"WebSocket\" in window) {\n      this.ws = new WebSocket(this.url, [this.token]);\n      //resolve 或者reject 必须，如果未执行，会导致后续代码不执行\n      this._onOpen();\n      this._onMsg(resolve, reject);\n      this._onClose(reject);\n      this._onError(reject);\n    }\n  } catch (e) {\n    console.log(e);\n    this.reconnectWebSocket();\n  }\n};\n\nSparrow.webSocket.prototype.close = function () {\n  // 关闭连接\n  this.ws.close();\n};\n\nSparrow.webSocket.prototype.reconnectWebSocket = function () {\n  //如果是服务器关闭的连接，不需要重连\n  if (new Date() - this.lastHeartTime > this.heartTimeout * 2) {\n    console.log(\"发起重连\");\n    this.reconnectionAlarmTimer = setInterval(() => {\n      if (this.reconnectionAlarmCallback) {\n        this.reconnectionAlarmCallback();\n      }\n      console.log(\"连接断开，请刷新浏览器！\");\n    }, 10000);\n    this.closeHeartBeat();\n  } else {\n    console.log(\"服务器顶替逻辑，不重连!\");\n  }\n};\n\nSparrow.webSocket.prototype._onOpen = function () {\n  this.ws.onopen = (e) => {\n    console.log(e.currentTarget.protocol);\n    console.log(\"连接成功\" + e);\n    this.closeHeartBeat();\n    // 启动心跳\n    this.startHeartBeat();\n  };\n};\n\nSparrow.webSocket.prototype._onMsg = function (resolve) {\n  this.ws.onmessage = (e) => {\n    console.log(\"收到消息\" + e.data);\n    // 加个判断,如果是PONG，说明当前是后端返回的心跳包 停止下面的代码执行\n    if (typeof e.data === \"string\") {\n      if (e.data === \"PONG\") {\n        this.lastHeartTime = new Date().getTime();\n        return;\n      }\n\n      if (e.data === \"offline\") {\n        this.lastHeartTime = new Date().getTime();\n        if (this.onMsgCallback) {\n          this.onMsgCallback({ offline: true });\n        }\n        return;\n      }\n\n      var userIndex = e.data.indexOf(\"USER.\");\n      if (userIndex > -1) {\n        this.userInfo = e.data.substring(5);\n        resolve(this.userInfo);\n        return;\n      }\n    }\n    this.onMsgCallback(e.data);\n  };\n};\n\nSparrow.webSocket.prototype._onClose = function (reject) {\n  this.ws.onclose = (e) => {\n    console.log(\"close 事件\");\n    if (e.wasClean) {\n      // 干净的关闭，客户端主动关闭 不需要发起重连,关闭上一个心跳\n      console.log(\"不重连\");\n    } else {\n      // 异常关闭 需要发起重连\n      this.reconnectWebSocket();\n    }\n    reject(e);\n  };\n};\n\nSparrow.webSocket.prototype._onError = function (reject) {\n  this.onerror = (e) => {\n    // 如果出现连接、处理、接收、发送数据失败的时候触发onerror事件\n    console.log(\"连接出错\" + e);\n    this.reconnectWebSocket();\n    reject(e);\n  };\n};\n\n// 心跳机制 --启动心跳\nSparrow.webSocket.prototype.startHeartBeat = function () {\n  this.timeoutTimer = setInterval(() => {\n    // 开启一个心跳\n    try {\n      this.ws.send(\"PING\");\n    } catch (e) {\n      console.log(\"heart beat error:\" + e);\n    }\n    console.log(\n      \"heart beat: \" +\n        new Date().getSeconds() +\n        \" timer id:\" +\n        this.timeoutTimer\n    );\n  }, this.heartTime);\n\n  // 检测当前开启的这个心跳是否超时\n  this.serverTimeoutTimer = setInterval(() => {\n    // 如果超过两个周期未拿到心跳，说明超时\n    if (new Date().getTime() - this.lastHeartTime > this.heartTime * 2) {\n      this.reconnectWebSocket();\n    }\n  }, this.heartTimeout);\n};\n\n// 关闭心跳\nSparrow.webSocket.prototype.closeHeartBeat = function () {\n  clearTimeout(this.timeoutTimer);\n  clearTimeout(this.serverTimeoutTimer);\n};\n//发送消息\nSparrow.webSocket.prototype.sendMessage = function (data) {\n  // 发送到服务器\n  this.ws.send(data.toBytes());\n};\n\nexport  {Sparrow}\n","import { Sparrow } from \"../../source/scripts/sparrow_es.js\";\nimport { Initialization } from \"./Initialization\";\n\nconsole.log(process.env);\nconst SPARROW_BASE_URL = process.env.VUE_APP_SPARROW_BASE_URL;\nconst CONSUMER_BASE_URL = process.env.VUE_APP_CONSUMER_BASE_URL;\nconsole.log(CONSUMER_BASE_URL);\nconsole.log(SPARROW_BASE_URL);\n\nvar tokenConfig = {};\ntokenConfig[SPARROW_BASE_URL] = {\n  \"login-token\": function () {\n    return localStorage.getItem(\"token\");\n  },\n};\ntokenConfig[CONSUMER_BASE_URL] = {\n  \"X-Sugar-Token\": function () {\n    return localStorage.getItem(\"token\");\n  },\n};\n\nSparrow.ajax.tokenConfig = tokenConfig;\n\nconst ChatApi = {\n  getSession: function getSession() {\n    return Sparrow.http.post(SPARROW_BASE_URL + \"/sessions\");\n  },\n  getUserId: async function getSession() {\n    return await Sparrow.http.post(SPARROW_BASE_URL + \"/get-user-id\").then(\n      (res) => {\n        return res.data;\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  },\n  getContacts: async function getFrinedList() {\n    return await Sparrow.http.post(SPARROW_BASE_URL + \"/contacts\");\n  },\n  setRead: function setRead(session, vue) {\n    const params = {\n      sessionKey: session.key,\n    };\n    return Sparrow.http.post(SPARROW_BASE_URL + \"/session/read\", params).then(\n      (res) => {\n        if (res.code == 0) {\n          session.lastReadTime = new Date();\n          Initialization.assembleLastMessage(session);\n          Initialization.resortSessions(vue);\n        }\n        return res.data;\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  },\n  cancelMsg: async function cancelMsg(params) {\n    return await Sparrow.http.post(SPARROW_BASE_URL + \"/cancel\", params).then(\n      (res) => {\n        return res.data;\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  },\n\n  login: function (code, mobile, password) {\n    const params = {\n      code: code,\n      mobile: mobile,\n      password: password,\n      areaCode: \"\",\n    };\n    return Sparrow.http.post(\n      CONSUMER_BASE_URL + \"/app/authMember/loginByCode\",\n      params\n    );\n  },\n  getUserByPhone: function (mobile) {\n    const params = \"mobile=\" + mobile;\n    return Sparrow.http.get(\n      CONSUMER_BASE_URL + \"/app/message/userDetail?\" + params\n    );\n  },\n  getUserById: async function (id, userMap) {\n    if (userMap != null && userMap[id] != null) {\n      return userMap[id];\n    }\n    const params = \"id=\" + id;\n    return await Sparrow.http\n      .get(CONSUMER_BASE_URL + \"/app/message/findById?\" + params)\n      .then(function (res) {\n        return res.data;\n      });\n  },\n  getUserMapByIds: async function (idArr, localUserCache) {\n    //如果idArr为空，直接返回空对象\n    if (!Array.isArray(idArr) || idArr.length === 0) {\n      return {};\n    }\n\n    var userId = -1;\n    var i = 0;\n    try {\n      var userResultMap = {};\n      var needRemoteFetchIdArr = [];\n      //先从本地缓存中获取,并且将本地缓存中没有的id放入needRemoteFetchIdArr\n      for (i = 0; i < idArr.length; i++) {\n        userId = idArr[i];\n        if (localUserCache[userId] != null) {\n          userResultMap[userId] = localUserCache[userId];\n        } else {\n          needRemoteFetchIdArr.push(userId);\n        }\n      }\n      //needRemoteFetchIdArr = [7, 69];\n      //如果本地缓存中已经包含了所有的id，则直接返回\n      if (needRemoteFetchIdArr.length === 0) {\n        return userResultMap;\n      }\n      //如果本地缓存中没有，则从远程获取\n      const remoteUsers = await Sparrow.http\n        .post(\n          CONSUMER_BASE_URL + \"/app/message/userDetailList\",\n          needRemoteFetchIdArr\n        )\n        .then(\n          function (res) {\n            return res.data;\n          },\n          function (error) {\n            return { error };\n          }\n        );\n      if (remoteUsers == null || remoteUsers.length === 0) {\n        return userResultMap;\n      }\n      for (i = 0; i < remoteUsers.length; i++) {\n        userId = remoteUsers[i].id;\n        var user = remoteUsers[i];\n        user.platform = !!user.isCustomer;\n        //将远程获取的用户信息放入本地缓存\n        localUserCache[userId] = remoteUsers[i];\n        //将远程获取的用户信息放入返回结果\n        userResultMap[userId] = remoteUsers[i];\n      }\n      return userResultMap;\n    } catch (e) {\n      console.error(e);\n      return {};\n    }\n  },\n  addFriendById: function (id) {\n    const params = \"id=\" + id;\n    return Sparrow.http.post(\n      CONSUMER_BASE_URL + \"/app/message/addFriend\",\n      params\n    );\n  },\n  removeFriend: function (id) {\n    const params = \"id=\" + id;\n    return Sparrow.http.post(\n      CONSUMER_BASE_URL + \"/app/message/removeFriend\",\n      params\n    );\n  },\n  newFriendList: function (id) {\n    const params = \"id=\" + id;\n    return Sparrow.http.get(\n      CONSUMER_BASE_URL + \"/app/message/newFriend?\" + params\n    );\n  },\n  auditFriend: function (id, status) {\n    const params = \"id=\" + id + \"&status=\" + status;\n    return Sparrow.http.post(\n      CONSUMER_BASE_URL + \"/app/message/userFriendAudit\",\n      params\n    );\n  },\n  existGroup: function (id) {\n    const params = \"groupId=\" + id;\n    return Sparrow.http.post(\n      CONSUMER_BASE_URL + \"/app/message/quitGroup\",\n      params\n    );\n  },\n  modifyGroup: function (id, name, avatar) {\n    const params = \"groupId=\" + id + \"&name=\" + name + \"&avatar=\" + avatar;\n    return Sparrow.http.post(\n      CONSUMER_BASE_URL + \"/app/message/changeGroup\",\n      params\n    );\n  },\n  systemNotice: function () {\n    return Sparrow.http.get(CONSUMER_BASE_URL + \"/app/message/systemInform\");\n  },\n  platformServices: function () {\n    return Sparrow.http.get(CONSUMER_BASE_URL + \"/app/message/customList\");\n  },\n};\nexport { ChatApi };\n","import { ChatApi } from \"./Chat\";\nimport { ImProtocol } from \"../../source/scripts/ImProtocol\";\n\nvar Initialization = {\n  initPlatformService: async function (Vue) {\n    var res = await ChatApi.platformServices();\n    if (res.code === 200) {\n      Vue.prototype.$platformServers = res.rows;\n      res.rows.forEach((user) => {\n        user.platform = true;\n        Vue.prototype.$userMap[user.userId] = user;\n      });\n    }\n    console.log(\"res\", res);\n  },\n  initContact: async function (Vue, vue) {\n    var res = await ChatApi.getContacts();\n    Vue.prototype.$contact = res.data;\n    console.log(\"res\", res);\n    var userMap = {};\n    res.data.users.forEach((user) => {\n      userMap[user.userId] = user;\n    });\n    Vue.prototype.$userMap = userMap;\n    var qunMap = {};\n    res.data.quns.forEach((qun) => {\n      qunMap[qun.qunId] = qun;\n    });\n    Vue.prototype.$qunMap = qunMap;\n    console.log(\"userMap\", userMap);\n  },\n  _oppositeUser: function (session, vue) {\n    return ImProtocol.getOppositeUser(\n      session.chatSession.sessionKey,\n      vue.$getUserId()\n    );\n  },\n  fetchUserIds: function (sessions) {\n    var userIds = [];\n    sessions.forEach((session) => {\n      //考虑接收方和发送方的 消息拉取逻辑\n      if (userIds.indexOf(session.chatSession.sender) < 0) {\n        userIds.push(session.chatSession.sender);\n      }\n      if (\n        session.chatSession.receiver > 0 &&\n        userIds.indexOf(session.chatSession.receiver) < 0\n      ) {\n        userIds.push(session.chatSession.receiver);\n      }\n      session.messages.forEach((message) => {\n        if (userIds.indexOf(message.sender) < 0) {\n          userIds.push(message.sender);\n        }\n      });\n    });\n    return userIds;\n  },\n  assembleSessions: function (sessions, userMap, vue) {\n    var sessionList = [];\n    //组装会话列表\n    sessions.forEach((session) => {\n      var chatSession = session.chatSession;\n      const chatType = chatSession.chatType; //1群 0单聊\n      const sessionKey = chatSession.sessionKey; //唯一id，1 2 N群ID\n      var newSession = null;\n      if (chatType === vue.$protocol.CHAT_TYPE_1_2_1) {\n        //获取对方用户信息\n        var oppositeUserId = this._oppositeUser(session, vue);\n        var oppositeUser = userMap[oppositeUserId];\n        // 普通用户\n        if (!oppositeUser) {\n          return null;\n        }\n        newSession = {\n          key: sessionKey,\n          //session 类型\n          type: chatType,\n          //session 头象\n          icon: oppositeUser.avatar,\n          lastReadTime: session.lastReadTime,\n          flag: oppositeUser.flagUrl, //session 名称 对方的昵称\n          title: oppositeUser.userName, //对方ID\n          oppositeUserId: oppositeUser.userId, //消息列表\n          messages: session.messages,\n        };\n      }\n      if (chatType === vue.$protocol.CHAT_TYPE_1_2_N) {\n        var qun = vue.$qunMap[sessionKey];\n        newSession = {\n          key: sessionKey,\n          type: chatType,\n          title: qun.qunName,\n          messages: session.messages,\n          icon: qun.unitIcon,\n          lastReadTime: session.lastReadTime,\n        };\n      }\n      this.assembleLastMessage(newSession, vue);\n      sessionList.push(newSession);\n    });\n    return sessionList;\n  },\n  resortSessions: function (vue) {\n    vue.$sessions = vue.$sessions.sort(function (a, b) {\n      if (b.lastReadTime === a.lastReadTime) {\n        return 0;\n      }\n      return b.lastReadTime > a.lastReadTime ? 1 : -1;\n    });\n  },\n  initActiveSession: function (vue) {\n    var currentUsrId = vue.$getUserId();\n    var key = vue.$route.query.key;\n    if (key == null) {\n      //如果没有指定session key 则默认取第一个,即最近的聊天\n      vue.activeSession = vue.sessionList[0];\n      return;\n    }\n    //如果指定了session key 则取指定的session\n    //说明是一对一单聊\n    if (key.indexOf(\"_\")) {\n      var oppositeId = vue.$protocol.getOppositeUser(key, currentUsrId);\n      var oppositeUser = vue.$userMap[oppositeId];\n      this.get121Session(oppositeUser, vue);\n    } else {\n      var qun = vue.$qunMap[key];\n      this.getQunSession(qun, vue);\n    }\n    vue.activeSession = vue.$sessionMap[key];\n  },\n\n  rebuild: function (protocol, vue) {\n    var sender = vue.$userMap[protocol.sender];\n    var imgUrl = null;\n    if (protocol.msgType === vue.$protocol.IMAGE_MESSAGE) {\n      var fileBlob = new Blob([protocol.msg]);\n      imgUrl = window.URL.createObjectURL(fileBlob);\n    }\n\n    var message = {\n      id: protocol.clientSendTime,\n      chatType: protocol.chatType,\n      sender: protocol.sender,\n      clientSendTime: protocol.clientSendTime,\n      messageType: protocol.msgType,\n      content: protocol.msg,\n      imgUrl: imgUrl,\n      isMe: protocol.sender === vue.$getUserId(),\n      userName: sender.userName,\n      avatar: sender.avatar,\n      time: new Date(protocol.clientSendTime).format(\"MM/dd hh:mm:ss\"),\n      isText: protocol.msgType === vue.$protocol.TEXT_MESSAGE,\n      session:\n        protocol.chatType === vue.$protocol.CHAT_TYPE_1_2_N\n          ? protocol.sessionKey\n          : ImProtocol.generate121SessionKey(\n              protocol.sender,\n              protocol.receiver\n            ),\n    };\n\n    var session = vue.$sessionMap[message.session];\n    session.messages.push(message);\n    this.assembleLastMessage(session, vue);\n  }, //组装1对1会话 和具体业务相关\n  get121Session: function (friend, vue) {\n    var currentUserId = vue.$getUserId();\n    //通讯录好友聊天，一定存在对方用户\n    var sessionKey = vue.$protocol.generate121SessionKey(\n      friend.userId,\n      currentUserId\n    );\n    var session = vue.$sessionMap[sessionKey];\n    if (session != null) {\n      return sessionKey;\n    }\n\n    session = {\n      platform: !!friend.platform, //1对1的key\n      key: sessionKey, //发送方ID\n      type: ImProtocol.CHAT_TYPE_1_2_1, //session 头象\n      icon: friend.avatar,\n      flag: friend.flagUrl, //session 名称 对方的昵称\n      title: friend.userName,\n      //消息列表\n      messages: [],\n      oppositeUserId: friend.userId,\n      lastReadTime: 0,\n    };\n    vue.$sessions.push(session);\n    vue.$sessionMap[session.key] = session;\n    return session.key;\n  },\n  getQunSession: function (qun, vue) {\n    //通讯录好友聊天，一定存在对方用户\n    var sessionKey = qun.id;\n    var session = vue.$sessionMap[sessionKey];\n    if (session != null) {\n      return sessionKey;\n    }\n    session = {\n      key: sessionKey, //发送方ID\n      type: ImProtocol.CHAT_TYPE_1_2_N,\n      //session 头象\n      icon: qun.avatar,\n      title: qun.title,\n      //消息列表\n      messages: [],\n      lastReadTime: 0,\n    };\n    vue.$sessions.push(session);\n    vue.$sessionMap[session.key] = session;\n    return session.key;\n  },\n  assembleLastMessage(session, vue) {\n    if (session.messages == null || session.messages.length === 0) {\n      return;\n    }\n    var lastMessage = null;\n    var lastMessageTime = null;\n    var lastMessageContent = null;\n\n    lastMessage = session.messages[session.messages.length - 1]; //最后收到的一条消息\n    lastMessageTime = lastMessage.clientSendTime; //最后一条消息的发送时间\n    lastMessageContent =\n      lastMessage.messageType === 1 ? \"/图片/\" : lastMessage.content;\n    const unReadCount = session.messages.filter(\n      (message) => message.serverTime >= session.lastReadTime\n    ).length;\n\n    //最后一条消息的发送时间\n    session.lastMessageTime = lastMessageTime;\n    session.time = new Date(lastMessageTime).format(\"MM/dd hh:mm:ss\");\n    session.lastMessageContent = lastMessageContent;\n    session.unReadCount = unReadCount;\n  },\n  initSessions: async function (Vue, vue) {\n    //获取当前用户的所有会话\n    var sessions = await ChatApi.getSession().then(\n      (res) => {\n        return res.data;\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n    //根据会话获取用户Id 列表(包括消息的发送者)\n    var userIds = this.fetchUserIds(sessions);\n\n    //获取用户实例信息\n    const userMap = await ChatApi.getUserMapByIds(userIds, vue.$userMap);\n    //组装会话列表\n    var sessionList = this.assembleSessions(sessions, userMap, vue);\n    sessionList.forEach((session) => {\n      session.messages.forEach((message) => {\n        message.isMe = message.sender === vue.$getUserId();\n        var user = userMap[message.sender];\n        message.userName = user.userName;\n        message.avatar = user.avatar;\n        message.time = new Date(message.serverTime).format(\"MM/dd hh:mm:ss\");\n        message.isText = message.messageType === vue.$protocol.TEXT_MESSAGE;\n        if (!message.isText) {\n          message.imgUrl = message.content;\n        }\n      });\n    });\n    var sessionMap = {};\n    sessionList.forEach((item) => {\n      sessionMap[item.key] = item;\n    });\n    Vue.prototype.$sessions = sessionList;\n    this.resortSessions(vue);\n    Vue.prototype.$sessionMap = sessionMap; // 全局会话\n  },\n  initWebSocket: async function (Vue, vue) {\n    return await new Promise((resolve, reject) => {\n      var webSocket = new vue.$sparrow.webSocket(\n        \"ws://chat.sparrowzoo.com/websocket\",\n        vue.$token\n      );\n      webSocket.reconnectionAlarmCallback = function () {\n        console.log(\"reconnection AlarmCallback\");\n      };\n\n      webSocket.onMsgCallback = function (data) {\n        if (data.offline) {\n          console.log(\"消息已发送，对方不在线，稍后会收到消息\");\n          return;\n        }\n        ImProtocol.parse(data, function (protocol) {\n          Initialization.rebuild(protocol, vue);\n          console.log(\"parse protocol:\" + protocol);\n        });\n      };\n\n      webSocket.connect(resolve, reject);\n      Vue.prototype.$webSocket = webSocket;\n    }).then((userInfo) => {\n      var userInfoArray = userInfo.split(\",\");\n      if (userInfoArray.length !== 2) {\n        throw new Error(\"用户信息错误\");\n      }\n      vue.$webSocket.userId = parseInt(userInfoArray[0], 10);\n      vue.$webSocket.platform = userInfoArray[1] === \"true\";\n    });\n  },\n};\n\nexport { Initialization };\n","import Vue from \"vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nimport app from \"@/App\"; // 引入主组件\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport \"@/assets/style/base.less\";\nimport \"@/assets/style/font.css\";\nimport { Sparrow } from \"../../../source/scripts/sparrow_es.js\";\nimport { ImProtocol } from \"../../../source/scripts/ImProtocol\";\nimport { Initialization } from \"../../api/Initialization\";\n\nVue.config.productionTip = false;\nVue.use(ElementUI);\n\nconst vue = new Vue({\n  // 创建vue实例\n  router,\n  store,\n  render: (h) => h(app), // 渲染主组件\n});\nVue.prototype.$sparrow = Sparrow;\nVue.prototype.$protocol = ImProtocol;\nVue.prototype.$getUserId = function () {\n  if (this.$webSocket != null && this.$webSocket.userId != null) {\n    return this.$webSocket.userId;\n  }\n\n  console.log(\"兜底获取用户id\");\n  // this.$webSocket.userId = await ChatApi.getUserId(this.$token()).then(res => {\n  //     return res;\n  // }, err => {\n  //     console.log(err);\n  // });\n  //return this.$webSocket.userId;\n  return null;\n};\nVue.prototype.$init = async function () {\n  Vue.prototype.$token = Sparrow.user.getToken();\n  //router.token = Vue.prototype.$token;\n  await Initialization.initWebSocket(Vue, vue);\n\n  //初始化用户联系人信息\n  await Initialization.initContact(Vue, vue);\n  //初始化平台客服信息\n  if (!vue.$webSocket.platform) {\n    await Initialization.initPlatformService(Vue);\n  }\n  await Initialization.initSessions(Vue, vue);\n};\n//非登录页面，则初始化用户信息\n//刷新页面时执行\nif (window.location.href.indexOf(\"/login\") < 0) {\n  await vue.$init();\n}\nvue.$mount(\"#app\");\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n// import store from \"../store\";\n// import Login from \"../views/login.vue\"; \"../views/login.vue\"\nconst Login = () => import(\"@/views/Login\");\nconst Main = () => import(\"@/views/layout/Layout\");\nconst ContactMenu = () => import(\"@/views/layout/ContactMenu\");\nconst Contact = () => import(\"@/views/Contact.vue\");\nconst NewFriend = () => import(\"@/views/NewFriend\");\nconst Qun = () => import(\"@/views/Qun\");\n\nconst PlatformService = () => import(\"@/views/PlatformService\");\n\nconst Session = () => import(\"@/views/Session\");\nconst SystemNotice = () => import(\"@/views/SystemNotice\");\n\nVue.use(VueRouter);\n// 解决重复push同一路径报错问题\nconst originalPush = VueRouter.prototype.push;\n// 修改原型对象中的push方法\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch((err) => err);\n};\n\nconst router = new VueRouter({\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: \"/login\",\n      name: \"login\",\n      component: Login,\n    },\n    {\n      path: \"/\",\n      name: \"main\",\n      component: Main,\n      children: [\n        {\n          path: \"/contact\",\n          name: \"contact-menu\",\n          component: ContactMenu,\n          children: [\n            {\n              path: \"/\",\n              name: \"contact\",\n              component: Contact,\n            },\n            {\n              path: \"new\",\n              name: \"new-friend\",\n              component: NewFriend,\n            },\n            {\n              path: \"qun\",\n              name: \"qun\",\n              component: Qun,\n            },\n          ],\n        },\n        {\n          path: \"session\",\n          name: \"session\",\n          component: Session,\n        },\n        {\n          path: \"notice\",\n          name: \"notice\",\n          component: SystemNotice,\n        },\n        {\n          path: \"platform-service\",\n          name: \"platform-service\",\n          component: PlatformService,\n        },\n      ],\n    },\n  ],\n});\n\n// router.beforeEach((to, from, next) => {\n//   console.log(to, \"to\");\n//   console.log(from, \"from\");\n//   console.log(store.state);\n//   next();\n// });\n\nexport default router;\n","import Vuex from \"vuex\";\nimport Vue from \"vue\";\n\nVue.use(Vuex);\n\n// 创建一个新的 store 实例\nexport default new Vuex.Store({\n  state() {\n    return {\n      menuId: 1, //菜单ID\n    };\n  },\n  mutations: {\n    // 设置索引\n    activeMenu(state, menuId) {\n      state.menuId = menuId;\n    },\n  },\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = function(queue) {\n\tif(queue && !queue.d) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach(function(fn) { fn.r--; });\n\t\tqueue.forEach(function(fn) { fn.r-- ? fn.r++ : fn(); });\n\t}\n}\nvar wrapDeps = function(deps) { return deps.map(function(dep) {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then(function(r) {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, function(e) {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = function(fn) { fn(queue); };\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = function() {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}); };\n__webpack_require__.a = function(module, body, hasAwait) {\n\tvar queue;\n\thasAwait && ((queue = []).d = 1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise(function(resolve, rej) {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = function(fn) { queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](function() {}); };\n\tmodule.exports = promise;\n\tbody(function(deps) {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = function() { return currentDeps.map(function(d) {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}); }\n\t\tvar promise = new Promise(function(resolve) {\n\t\t\tfn = function() { resolve(getResult); };\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = function(q) { q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))); };\n\t\t\tcurrentDeps.map(function(dep) { dep[webpackQueues](fnQueue); });\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, function(err) { (err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue); });\n\tqueue && (queue.d = 0);\n};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"106\":\"7a09f30c\",\"193\":\"ddd5aff4\",\"228\":\"55bc932b\",\"240\":\"af4ec684\",\"419\":\"83cf416a\",\"799\":\"669eefa0\",\"822\":\"f350cd38\",\"868\":\"d579dce5\",\"928\":\"f6e599b7\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/css/\" + chunkId + \".\" + {\"106\":\"27e7fd58\",\"193\":\"b245a5f1\",\"228\":\"7bfd0373\",\"240\":\"619c74cd\",\"419\":\"b245a5f1\",\"799\":\"56cbbf68\",\"822\":\"4f48f42c\",\"868\":\"072c3838\",\"928\":\"21336f54\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"chat-pc:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"106\":1,\"193\":1,\"228\":1,\"240\":1,\"419\":1,\"799\":1,\"822\":1,\"868\":1,\"928\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat_pc\"] = self[\"webpackChunkchat_pc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8647); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","script","component","ImProtocol","chatType","msgType","sender","receiver","sessionKey","msg","clientSendTime","TEXT_MESSAGE","IMAGE_MESSAGE","CHAT_TYPE_1_2_1","CHAT_TYPE_1_2_N","CHAT_TYPE_CANCEL","CHAT_TYPE_LENGTH","MSG_TYPE_LENGTH","prototype","toBytes","currentUserId","parseInt","currentUserIdBytes","currentUserIdLength","length","sessionKeyBytes","sessionKeyBytesLength","sessionKeyLengthBytes","sessionKeyLengthLength","receiverBytes","receiverLength","toArrayBuffer","contentBytes","msgLength","byteLength","msgLengthBytes","msgLengthLength","sendTimeBytes","sendTimeLength","totalLength","result","Uint8Array","offset","set","cancel","dataView","buf","callback","console","log","sessionKeyLength","getInt32","sessionKeyBuffer","slice","toString","clientSendTimeLength","clientSendTimeBuffer","parse","async","blob","arrayBuffer","DataView","getUint8","text","msgBuffer","generate121SessionKey","chars","getOppositeUser","Sparrow","isNullOrEmpty","sessionArray","split","userId1","userId2","userId","String","trim","replace","ltrim","rtrim","json","indexOf","decodeSplitKey","eval","err","firstCharToAscii","charCodeAt","leftAlignWithChar","c","charArray","charCount","i","push","join","getCountByChar","getByteLength","subString","len","hasDot","newLength","newStr","chineseRegex","singleChar","strLength","charAt","match","str","decodeHtml","html","format","arguments","re","r","exec","placeHolder","property","value","$","reg","RegExp","filterHTML","newString","search","firstCharUpperCase","substr","toUpperCase","bytes","array","Int8Array","Array","clear","pop","val","remove","index","splice","toUint8Array","lastElement","Math","max","buffer","ints","_arr","one","v","bytesLength","store","st","fromCharCode","Number","number","Date","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","floor","S","getMilliseconds","k","test","$1","getFullYear","selector","parent","doc","cache","sparrowContainerKey","window","args","call","apply","document","createElement","type","language","src","id","oldScript","getElementById","head","removeChild","appendChild","random","global","beginSelector","substring","elements","switch_char","selectorArray","getElementsByTagName","getElementsByName","body","childs","children","parentNode","s","labelList","attributes","selectedTag","tagArray","attribute","checked","interval","browser","url","manage","logout_url","cookie","permission","call_back_url","website_name","themes","root_domain","location","host","domain","ie","navigator","userAgent","opera","firefox","google","version","addFavorite","title","all","external","AddFavorite","sidebar","addPanel","alert","setHome","anchorLabel","style","behavior","setHomePage","e","netscape","security","PrivilegeManager","enablePrivilege","prefs","Components","classes","getService","interfaces","nsIPrefBranch","setCharPref","copy","clipboardData","setData","clip","createInstance","nsIClipboard","trans","nsITransferable","addDataFlavor","supportsString","nsISupportsString","data","setTransferData","clipid","kGlobalClipboard","setCookie","cookieName","cookieValue","expireseconds","path","secure","expires","setTime","getTime","encodeURIComponent","toGMTString","getCookie","posName","escape","posValue","endPos","decodeURIComponent","showModalDialog","width","height","randomUrl","open","config","win","target","parameters","close","opener","getUrlWithoutParameter","currentLocation","href","locationIndex","getUserId","getUserName","isLogin","logout","logoutUrl","defaultUrl","ajax","root","permissionKey","getClientHeight","clientHeight","documentElement","min","getScrollHeight","scrollHeight","linkClick","condition","message","container","key","obj","_resource","scripts","sparrowPath","brk","forEach","j","p","startIndex","name","resource","passport","website","css","menu","frame","ul","li","SIDE","HORIZONTAL","VERTICAL","DEFAULT_AVATOR_URL","DEFAULT_RESOURCE_ICO_URL","indexedDB","support","instance","localStorage","getItem","initSuccess","$initDB","init","request","Promise","resolve","reject","onsuccess","event","flush","$dbInit","onupgradeneeded","_initTables","onerror","_createTable","tableName","createObjectStore","keyPath","tableNames","_getTableInstance","transaction","objectStore","put","item","fail","get","delete","then","catch","getAll","getAllKeys","count","openCursor","openKeyCursor","tokenConfig","_objPool","referWindow","srcElement","SUCCESS","_bindReadyStateChange","objXMLHttp","onreadystatechange","readyState","status","responseText","inFrame","lang","accessDenied","_getInstance","_createObj","http_request","XMLHttpRequest","overrideMimeType","ActiveXObject","_callback","code","gourl","_findToken","token","baseUrl","req","getOrPost","postStr","setRequestHeader","send","JSON","stringify","post","http","background_color","empty_string","right_message","reset","getErrorLabel","validate","errorCtrlId","initPlaceholder","ctrl","placeholder","prompt","_setBackground","color","parentLevel","background","tagName","className","errorCtrl","showMessage","innerHTML","ok","errorLabel","backgroundColor","defaultValue","errorInfo","setError","_validate","srcElementValue","multiple","options","allowNull","undefined","maxLength","minLength","lengthError","nullError","isUserNameRule","nameRuleError","isEmail","emailError","isTel","telError","isMobile","mobileError","isIdCard","idCardError","isNull","isChineseCharacters","chineseCharactersError","isEqual","otherCtrlId","noEqualError","allowInputOption","isDigital","isNaN","digitalError","floatValue","parseFloat","defMin","minValue","defMax","maxValue","isImgSize","size","isFileLength","updateTxtCount","showCtrl","keyCode","allowInputLength","getValidateResult","action","wrongInfo","error","submit","actionUrl","attr","validation","bind","innerInfo","maxCharLengthControlId","maxAllowCharLength","allowCharLengthShowControlId","page","toTargetPage","pageCount","pageFormat","consumerPageIndex","currentPageIndex","consumerAction","pageIndex","formIndex","next","elementArray","nextLink","unescape","$2","sourceString","countDown","end","current","element","t","d","h","m","callee","setTimeout","getBeforeTime","updateTime","valueOf","currentTime","beforeDateConfig","timeSplit","depth","forms","jsonKeys","jsonKeyArray","clearForm","validateJson","inputArray","input","getFormData","inputIdArray","waitRedirect","timerId","period","queryString","timer","setInterval","time","clearInterval","txt","compress","indentChar","description","draw","last","This","line","nodeCount","maxDepth","notify","isLast","indent","formObj","tab","constructor","MethodArray","x","each","method","l","getAttribute","setAttribute","check","opacity","n","filter","eventName","eventHandle","attachEvent","addEventListener","getAbsoluteTop","srcObj","returnValue","offsetTop","offsetParent","getAbsoluteLeft","offsetLeft","source","class","add","abs","ceil","command","change_check_box_class","classNameArray","class_split","contains","htmlElement","fix","top","left","weight","offsetWidth","backgroundImage","backgroundAttachment","position","center","clientWidth","wordWindowHeight","screen","availHeight","workWindowHeight","offsetHeight","loadComplete","onload","toUppperCase","complete","fresh","enter","handle","onkeydown","onclick","_hmt","hm","insertBefore","gridView","keyType","resultCtrlId","getTable","hdnGridResult","getCellIndex","checkBox","cellIndex","allCheckClick","allCheckBox","checkBoxList","recordCheckClick","isAllCheck","mustSelect","confirmMessage","selectedId","selectId","toLowerCase","noSelectRecord","confirm","onlyCheckedOne","checkCount","onlySelectOneRecord","postUrl","isOnlyOne","table","tr","_initCell","cell","cssText","td","align","colspan","_initRow","row","insertCell","containerId","appendRow","insertRow","rowIndex","updateRow","rows","cells","removeRow","deleteRow","file","isShowProgress","wit","clientFileName","uploadFrameId","uploadCallBack","fileInfo","editor","info","clearStatus","divStatus","fileSerialNumber","validateUploadFile","f","checkFileType","getFileName","uploadDelegate","callbackValidate","uploadProgress","uploadFrame","tempSrc","getUploadFrame","getUploadFile","contentWindow","getUploadFileInfo","getFileSerialNumber","setFileSerialNumber","serialNumber","getFullPath","select","frames","selection","createRange","empty","files","getAsDataURL","getExtension","fileName","lastIndexOf","toLocaleLowerCase","rightExtension","fileExtension","fileInfoArray","sparrowUploadFrame","getStatus","progressCallback","statusString","readLength","contentLength","humanReadableContentLength","humanReadableReadLength","upload","initImageUploadEvent","pathKeySuffixPair","fileFrame","suffix","uploadingProgress","fileUrl","divContainer","hdnWebUrl","errorPrompt","originalEvent","toElement","relatedTarget","dragapproved","eventX","eventY","srcLeftPos","srcRightPos","cancelBubble","stopPropagation","preventDefault","pageY","clientY","scrollTop","pageX","clientX","scrollLeft","move","move_end","onmousemove","drags","sparrowElement","progressbar","bar","progress","progressStyle","it","treeNode","pid","childCount","businessEntity","icon","iconOpen","_isOpened","_isSelected","_lastOfSameLevel","_addressIndex","_parentNode","_hasChild","tree","objName","parentName","useFolderLinks","useSelection","useCookies","useLines","useIcons","useRootIcon","usePlusMinusIcons","useTreeIdInNodeClass","useLevelInNodeClass","useRadio","useCheckbox","treeNodeClass","reBuildTree","loadFloatTree","floatTreeId","descHiddenId","descTextBoxId","validateConfig","isdelay","isclientDelay","closeSameLevel","inOrder","showRootIco","showOrder","orderURL","treeFrameId","loadingString","imageDir","RESOURCE_TYPE","folder","folderOpen","node","nolineNode","joinBottom","plus","plusBottom","minus","minusBottom","nlPlus","nlMinus","currentSelectId","floatTreeFrameId","fullObjName","aNodes","aIndent","selectedNodeIndex","selectedFound","completed","resetIcon","nolineroot","addBusinessEntity","openAll","oAll","closeAll","getSelectedAi","addNode","deleteClick","removeNode","currentNode","clearSelectedNode","clearFloatFrame","appendNode","newNode","updateNode","orderDiv","srcObject","addressIndex","pNode","currentIndex","listHTML","order","srcAddressIndex","sort","srcNode","nodes","srcParentNode","childNo","destIndex","cn","setCS","_io","isOpen","getSelectedId","nodeId","classNum","nolinefolder","nolinenode","userRootIcon","lastId","getAllNameOfNode","splitChar","nameArray","getAiById","reverse","sn","now","yesterday","setCurrentSelectNode","eOld","eNew","getRadioSelected","currentcbk","selectCheckbox","closeLevel","delayOpen","currentTree","childrenDIV","ajaxURL","nodeListJson","xmlHttpRequest","openNodeCallBack","nodeTemp","indentArray","clientDelayOpen","isFresh","needLoad","nodeStatus","updateCookie","openTo","nId","isAi","delay","openNodeArray","closeAllChildren","nodeIndex","isLastNodeOfSameLevel","eDiv","eJoin","eIcon","display","clearCookie","aOpen","getAllId","idArray","getAllParentNode","parentNodeIdArray","selectChilds","parentIds","currentSelected","pids","selectChild","checkBoxClick","setChecked","checkedId","currentId","getAllCheckedTitle","arrayIndex","getAllChecked","getAllCheckedId","show","maxHeight","HTMLObject","intervalShow","FrameId","divHeight","treeDiv","TreeFrame","initResourceTree","resourcePrefix","ajaxUrl","treeObject","jsonList","parentId","icoUrl","initCodeTooltip","codePrefix","htmlEvents","floatTree","dbs","descCtrl","valueTextBoxId","codeNodeCallBack","codeNodeClick","dispatcher","builder","delegate","api","strategy","commandAdapter","ctrlIdEventMap","eventRegistry","register","eventConfig","commandKey","parameter","ctrlId","user","authorMap","author","login","dialog","nsOfCallBack","showHead","ns_callback","publish","attention","cancel_attention","comment","like_thread","getZone","getAvatar","avatar","editable","authorId","initLoginBar","hyperUser","popup","userInfo","divUserInfo","onmouseover","POPUP_HTML","gender","createTime","lastLoginTime","hidden","jsonHidden","initAuthor","initAuthorMap","getToken","setItem","share","shareArray","shareTemplateArray","shareTemplate","shareData","pic","summary","webSocket","onMsgCallback","heartTime","heartTimeout","reconnectTime","timeoutTimer","serverTimeoutTimer","ws","lastHeartTime","reconnectionAlarmTimer","reconnectionAlarmCallback","connect","WebSocket","_onOpen","_onMsg","_onClose","_onError","reconnectWebSocket","closeHeartBeat","onopen","currentTarget","protocol","startHeartBeat","onmessage","offline","userIndex","onclose","wasClean","clearTimeout","sendMessage","process","SPARROW_BASE_URL","VUE_APP_SPARROW_BASE_URL","CONSUMER_BASE_URL","VUE_APP_CONSUMER_BASE_URL","ChatApi","getSession","res","getContacts","setRead","session","vue","params","lastReadTime","Initialization","cancelMsg","mobile","password","areaCode","getUserByPhone","getUserById","userMap","getUserMapByIds","idArr","localUserCache","isArray","userResultMap","needRemoteFetchIdArr","remoteUsers","platform","isCustomer","addFriendById","removeFriend","newFriendList","auditFriend","existGroup","modifyGroup","systemNotice","platformServices","initPlatformService","Vue","$platformServers","$userMap","initContact","$contact","users","qunMap","quns","qun","qunId","$qunMap","_oppositeUser","chatSession","$getUserId","fetchUserIds","sessions","userIds","messages","assembleSessions","sessionList","newSession","$protocol","oppositeUserId","oppositeUser","flag","flagUrl","userName","qunName","unitIcon","assembleLastMessage","resortSessions","$sessions","a","b","initActiveSession","currentUsrId","$route","query","oppositeId","get121Session","getQunSession","activeSession","$sessionMap","rebuild","imgUrl","fileBlob","Blob","URL","createObjectURL","messageType","content","isMe","isText","friend","lastMessage","lastMessageTime","lastMessageContent","unReadCount","serverTime","initSessions","sessionMap","initWebSocket","$sparrow","$token","$webSocket","userInfoArray","Error","ElementUI","router","app","$init","$mount","Login","Main","ContactMenu","Contact","NewFriend","Qun","PlatformService","Session","SystemNotice","VueRouter","originalPush","base","routes","Vuex","state","menuId","mutations","activeMenu","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","amdO","webpackQueues","Symbol","webpackExports","webpackError","resolveQueue","queue","fn","wrapDeps","deps","map","dep","ret","hasAwait","currentDeps","outerResolve","depQueues","Set","promise","rej","getResult","fnQueue","q","has","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","getter","__esModule","definition","defineProperty","enumerable","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","done","needAttach","charset","timeout","nc","onScriptComplete","prev","doneFns","toStringTag","nmd","paths","createStylesheet","fullhref","oldTag","linkTag","rel","onLinkComplete","errorType","realHref","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}