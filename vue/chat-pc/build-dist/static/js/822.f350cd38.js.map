{"version":3,"file":"static/js/822.f350cd38.js","mappings":"0JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,UAAU,CAACG,IAAI,OAAOC,MAAM,CAAC,MAAQN,EAAIO,MAAM,cAAc,SAAS,CAACL,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,UAAU,CAACJ,EAAG,WAAW,CAACM,MAAM,CAACC,MAAOT,EAAIO,MAAMG,MAAOC,SAAS,SAAUC,GAAMZ,EAAIa,KAAKb,EAAIO,MAAO,QAASK,EAAI,EAAEE,WAAW,kBAAkB,GAAGZ,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACM,MAAM,CAACC,MAAOT,EAAIO,MAAMQ,SAAUJ,SAAS,SAAUC,GAAMZ,EAAIa,KAAKb,EAAIO,MAAO,WAAYK,EAAI,EAAEE,WAAW,qBAAqB,GAAGZ,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACJ,EAAG,WAAW,CAACM,MAAM,CAACC,MAAOT,EAAIO,MAAMS,KAAML,SAAS,SAAUC,GAAMZ,EAAIa,KAAKb,EAAIO,MAAO,OAAQK,EAAI,EAAEE,WAAW,iBAAiB,GAAGZ,EAAG,eAAe,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWW,GAAG,CAAC,MAAQjB,EAAIkB,WAAW,CAAClB,EAAImB,GAAG,QAAQjB,EAAG,YAAY,CAACe,GAAG,CAAC,MAAQjB,EAAIoB,SAAS,CAACpB,EAAImB,GAAG,SAAS,IAAI,IAAI,EACz6B,EACIE,EAAkB,G,oBCqBtB,GACAC,OACA,OACAf,MAAA,CACAG,MAAA,GACAK,SAAA,GACAC,KAAA,IAGA,EACAO,QAAA,CACAL,WAEA,UAAAX,MAAAG,OACA,UAAAH,MAAAQ,UACA,UAAAR,MAAAS,KAKAQ,EAAAA,EAAAA,MACA,KAAAjB,MAAAS,KACA,KAAAT,MAAAG,MACA,KAAAH,MAAAQ,UACAU,MACA,UACA,MAAAC,EAAAV,MACAW,QAAAC,IAAAF,EAAAJ,KAAAO,OACAF,QAAAC,IAAAF,EAAAJ,KAAAQ,WAAAC,IACAC,aAAAC,QAAA,SAAAP,EAAAJ,KAAAQ,WAAAC,IACAC,aAAAC,QAAA,QAAAP,EAAAJ,KAAAO,OACA,KAAAK,SAAA,cACA,KAAAC,cAEA,KAAAC,QAAAC,KAAA,aAEA,KAAAH,SAAA,QAAAR,EAAAY,IACA,IAEAC,IACAZ,QAAAC,IAAA,SAAAW,EAAA,IAvBA,KAAAL,SAAA,UA0BA,EACAd,SACAO,QAAAC,IAAA,UACA,KAAAY,MAAAC,KAAAC,aACA,ICtEqP,I,UCQjPC,GAAY,OACd,EACA5C,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://chat-pc/./src/views/Login.vue","webpack://chat-pc/src/views/Login.vue","webpack://chat-pc/./src/views/Login.vue?7d1c","webpack://chat-pc/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.login,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}},[_c('el-input',{model:{value:(_vm.login.phone),callback:function ($$v) {_vm.$set(_vm.login, \"phone\", $$v)},expression:\"login.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.login.password),callback:function ($$v) {_vm.$set(_vm.login, \"password\", $$v)},expression:\"login.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"code\"}},[_c('el-input',{model:{value:(_vm.login.code),callback:function ($$v) {_vm.$set(_vm.login, \"code\", $$v)},expression:\"login.code\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"登录\")]),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <el-form ref=\"form\" :model=\"login\" label-width=\"80px\">\n      <el-form-item label=\"手机号\" prop=\"phone\">\n        <el-input v-model=\"login.phone\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input v-model=\"login.password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"验证码\" prop=\"code\">\n        <el-input v-model=\"login.code\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">登录</el-button>\n        <el-button @click=\"cancel\">取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { ChatApi } from \"../../../api/Chat\";\n\nexport default {\n  data() {\n    return {\n      login: {\n        phone: \"\",\n        password: \"\",\n        code: \"\",\n      },\n    };\n  },\n  methods: {\n    onSubmit() {\n      if (\n        this.login.phone === \"\" ||\n        this.login.password === \"\" ||\n        this.login.code === \"\"\n      ) {\n        this.$message(\"请填写完整信息\");\n        return;\n      }\n      ChatApi.login(\n        this.login.code,\n        this.login.phone,\n        this.login.password\n      ).then(\n        async (res) => {\n          if (res.code === 200) {\n            console.log(res.data.token);\n            console.log(res.data.memberInfo.id);\n            localStorage.setItem(\"userId\", res.data.memberInfo.id);\n            localStorage.setItem(\"token\", res.data.token); // memberInfo\n            this.$message(\"登录成功\");\n            await this.$init();\n            // 这里先发送登录请求 获取到 当前用户的信息 然后跳转 路由\n            await this.$router.push(\"/contact\");\n          } else {\n            this.$message(\"登录失败-\" + res.msg);\n          }\n        },\n        (err) => {\n          console.log(\"error:\" + err);\n        }\n      );\n    },\n    cancel() {\n      console.log(\"cancel\");\n      this.$refs.form.resetFields();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n  background-color: #eee;\n  padding: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b4303e46&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=b4303e46&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b4303e46\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","login","model","value","phone","callback","$$v","$set","expression","password","code","on","onSubmit","_v","cancel","staticRenderFns","data","methods","ChatApi","then","res","console","log","token","memberInfo","id","localStorage","setItem","$message","$init","$router","push","msg","err","$refs","form","resetFields","component"],"sourceRoot":""}