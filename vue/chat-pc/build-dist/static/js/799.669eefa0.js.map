{"version":3,"file":"static/js/799.669eefa0.js","mappings":"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","sources":["webpack://chat-pc/./src/views/Qun.vue","webpack://chat-pc/./src/components/QunItem.vue","webpack://chat-pc/src/components/QunItem.vue","webpack://chat-pc/./src/components/QunItem.vue?2c35","webpack://chat-pc/./src/components/QunItem.vue?3de3","webpack://chat-pc/src/views/Qun.vue","webpack://chat-pc/./src/views/Qun.vue?244b","webpack://chat-pc/./src/views/Qun.vue?ba92"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},[_c('QunItem',{attrs:{\"qun-list\":_vm.qunList},on:{\"chat\":_vm.onChat,\"remove\":_vm.onRemove}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.qunList),function(item){return _c('div',{key:item.id,staticClass:\"user-item\"},[_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":item.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"user-name\"},[_c('span',[_vm._v(_vm._s(item.title))]),_c('span',[_vm._v(_vm._s(item.lastMessageContent))]),_c('span',[_vm._v(_vm._s(item.lastMessageTime))])])]),_c('div',{staticClass:\"operate\"},[_c('button',{on:{\"click\":function($event){return _vm.remove(item)}}},[_vm._v(\" \"+_vm._s(\"退出群聊\")+\" \")]),_c('button',{staticClass:\"chat\",on:{\"click\":function($event){return _vm.chat(item)}}},[_vm._v(\"聊一下\")])])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-for=\"item of qunList\" :key=\"item.id\" class=\"user-item\">\n      <div class=\"user-info\">\n        <div class=\"avatar\">\n          <img :src=\"item.avatar\" alt=\"\" />\n        </div>\n        <div class=\"user-name\">\n          <span>{{ item.title }}</span>\n          <span>{{ item.lastMessageContent }}</span>\n          <span>{{ item.lastMessageTime }}</span>\n        </div>\n      </div>\n      <div class=\"operate\">\n        <button @click=\"remove(item)\">\n          {{ \"退出群聊\" }}\n        </button>\n        <button class=\"chat\" @click=\"chat(item)\">聊一下</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    qunList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  data() {\n    return {};\n  },\n  methods: {\n    remove(item) {\n      // console.log(item);\n      this.$emit(\"remove\", item);\n    },\n    chat(item) {\n      // console.log(item);\n      this.$emit(\"chat\", item);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.user-item {\n  width: 100%;\n  height: 100px;\n  padding: 5px 0;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .user-info {\n    width: 200px;\n    display: flex;\n    align-items: center;\n\n    .avatar {\n      width: 60px;\n      height: 60px;\n      position: relative;\n\n      img {\n        border-radius: 5px;\n        width: 100%;\n        height: 100%;\n      }\n\n      .img-flag {\n        position: absolute;\n        bottom: -3px;\n        left: -3px;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        border: 1px solid #fff;\n      }\n    }\n\n    .user-name {\n      margin-left: 10px;\n      display: flex;\n      flex-direction: column;\n      justify-content: start;\n\n      span {\n        &:last-child {\n          color: @text-gray-color;\n          font-size: 14px;\n          padding-top: 5px;\n        }\n      }\n    }\n  }\n\n  .operate {\n    width: 70%;\n    text-align: end;\n\n    button {\n      min-width: 80px;\n      width: 15%;\n      padding: 10px 0;\n      background-color: @theme-color;\n      border: 2px solid @text-color;\n      color: @text-color;\n      cursor: pointer;\n      font-size: 14px;\n    }\n\n    .chat {\n      margin-left: 5px;\n      background-color: @text-color;\n      color: #fff;\n    }\n  }\n\n  .operate-res {\n    color: @text-gray-color;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QunItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QunItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QunItem.vue?vue&type=template&id=dc75c3c4&scoped=true&\"\nimport script from \"./QunItem.vue?vue&type=script&lang=js&\"\nexport * from \"./QunItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QunItem.vue?vue&type=style&index=0&id=dc75c3c4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dc75c3c4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"\">\n    <QunItem :qun-list=\"qunList\" @chat=\"onChat\" @remove=\"onRemove\"></QunItem>\n  </div>\n</template>\n\n<script>\nimport QunItem from \"@/components/QunItem.vue\";\n\nexport default {\n  components: { QunItem },\n  data() {\n    return {};\n  },\n  computed: {\n    qunList() {\n      return this.$contact.quns\n        .map((qun) => {\n          const title = qun.qunName;\n          const qunId = qun.qunId; //唯一id，可以作为群名\n          var session = this.$sessions ? this.$sessions[qun.qunId] : null;\n          var messages = session ? session.messages : null;\n          const lastMessage =\n            messages != null && messages.length > 0\n              ? messages[messages.length - 1]\n              : null; //最后收到的一条消息\n          const lastMessageTime = lastMessage ? lastMessage.time : null; //最后一条消息的发送时间\n          const lastMessageContent = lastMessage\n            ? lastMessage.messageType === 1\n              ? \"/图片/\"\n              : lastMessage.content\n            : null;\n          const unReadCount = lastMessage\n            ? session.messages.filter(\n                (message) => message.serverTime >= session.lastReadTime\n              ).length\n            : 0;\n          return {\n            id: qunId,\n            title: title,\n            lastMessageTime: lastMessageTime,\n            lastMessageContent: lastMessageContent,\n            unReadCount: unReadCount,\n            avatar: qun.unitIcon,\n          };\n        })\n        .sort((s1, s2) => s2.lastMessageTime - s1.lastMessageTime);\n    },\n  },\n  methods: {\n    onRemove(data) {\n      console.log(data);\n    },\n    onChat(qun) {\n      this.$router.push({\n        name: \"session\",\n        query: { key: qun.id },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Qun.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Qun.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Qun.vue?vue&type=template&id=0ea24d92&scoped=true&\"\nimport script from \"./Qun.vue?vue&type=script&lang=js&\"\nexport * from \"./Qun.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ea24d92\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","qunList","on","onChat","onRemove","staticRenderFns","_l","item","key","id","staticClass","avatar","_v","_s","title","lastMessageContent","lastMessageTime","$event","remove","chat","props","type","Array","default","data","methods","$emit","component","components","QunItem","computed","$contact","quns","map","qun","qunName","qunId","session","$sessions","messages","lastMessage","length","time","messageType","content","unReadCount","filter","message","serverTime","lastReadTime","unitIcon","sort","s1","s2","console","log","$router","push","name","query"],"sourceRoot":""}