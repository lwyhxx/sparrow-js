{"version":3,"file":"static/js/240.af4ec684.js","mappings":"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","sources":["webpack://chat-pc/./src/views/Session.vue","webpack://chat-pc/./src/components/ChatPart.vue","webpack://chat-pc/./src/components/MoreDetail.vue","webpack://chat-pc/src/components/MoreDetail.vue","webpack://chat-pc/./src/components/MoreDetail.vue?7943","webpack://chat-pc/./src/components/MoreDetail.vue?0d27","webpack://chat-pc/./src/components/ChartItem.vue","webpack://chat-pc/src/components/ChartItem.vue","webpack://chat-pc/./src/components/ChartItem.vue?8cc0","webpack://chat-pc/./src/components/ChartItem.vue?0006","webpack://chat-pc/src/components/ChatPart.vue","webpack://chat-pc/./src/components/ChatPart.vue?0189","webpack://chat-pc/./src/components/ChatPart.vue?28ac","webpack://chat-pc/src/views/Session.vue","webpack://chat-pc/./src/views/Session.vue?d4cf","webpack://chat-pc/./src/views/Session.vue?78cd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat\"},[_c('div',{staticClass:\"msg-part\"},[_vm._m(0),_c('div',{staticClass:\"msg-list\"},_vm._l((_vm.sessionList),function(item){return _c('div',{key:item.key,staticClass:\"msg-item\",class:item.key === _vm.activeSession.key ? 'session-active' : '',on:{\"click\":function($event){return _vm.switchSession(item)}}},[_c('div',{staticClass:\"avatar\"},[_c('img',{staticClass:\"avatar-img\",attrs:{\"src\":item.icon,\"alt\":\"用户头像\"}}),(item.type === _vm.$protocol.CHAT_TYPE_1_2_1)?_c('img',{staticClass:\"nation\",attrs:{\"src\":item.flag,\"alt\":\"国籍\"}}):_vm._e(),(item.unReadCount > 0)?_c('span',{staticClass:\"unread\"},[_vm._v(_vm._s(item.unReadCount))]):_vm._e()]),_c('div',{staticClass:\"msg-user-time\"},[_c('div',{staticClass:\"msg-user\"},[_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(item.title))]),_c('span',{staticClass:\"msg-time\"},[_vm._v(_vm._s(item.time))])]),_c('span',{staticClass:\"msg-last\"},[_vm._v(_vm._s(item.lastMessageContent))])])])}),0)]),_c('div',{staticClass:\"msg-content\"},[_c('ChatPart',{attrs:{\"session\":_vm.activeSession}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-part\"},[_c('div',{staticClass:\"search-icon\"},[_c('i',{staticClass:\"iconfont icon-search\"})]),_c('div',{staticClass:\"search-add iconfont icon-add-user\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},[_c('div',{staticClass:\"msg-recall\",staticStyle:{\"display\":\"none\"}},[_vm._v(\"撤回\")]),_c('div',{staticClass:\"msg-content\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"user\"},[_vm._v(_vm._s(_vm.session.title)+\" \"+_vm._s(_vm.session.platform ? \"[平台]\" : \"\"))]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.session.type === _vm.$protocol.CHAT_TYPE_1_2_N),expression:\"session.type === $protocol.CHAT_TYPE_1_2_N\"}],staticClass:\"iconfont icon-more show-more-icon\",on:{\"click\":_vm.showMore}})]),_c('div',{staticClass:\"msg-detail\"},[_vm._l((_vm.session.messages),function(item){return [_c('div',{key:item.id},[(item.messageType === 'recall')?_c('div',[(item.isMe)?_c('div',{staticClass:\"show-recall-mime recall\"},[_vm._m(0,true)]):_c('div',{staticClass:\"show-recall-other recall\"},[_c('p',[_c('span',{staticClass:\"recall-user\"},[_vm._v(_vm._s(_vm.session.title))]),_vm._v(\"撤回了一条消息 \")])])]):_c('div',[(item.isMe)?_c('ChatItem',{attrs:{\"message-item\":item}}):_c('ChatItem',{attrs:{\"message-item\":item}})],1)])]})],2),_c('div',{staticClass:\"input-part\"},[_c('div',{staticClass:\"conver-button\"},[_c('span',[_vm._v(\"英\")]),_c('span',{staticClass:\"active-lang\"},[_vm._v(\"中\")]),_c('div',{staticClass:\"upload-part\"},[_vm._m(1),_c('input',{staticClass:\"upload-img\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"upload\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.sendImage($event.target.files[0])}}})])]),_c('div',{staticClass:\"input-message\"},[_c('div',{staticClass:\"text\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"input-content\",domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.content=$event.target.value}}})]),_c('button',{staticClass:\"send-btn\",on:{\"click\":_vm.sendText}},[_vm._v(\"发送\")])])]),_c('MoreDetail',{ref:\"showMore\"})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"你撤回了一条消息\"),_c('span',{staticClass:\"reset\"},[_vm._v(\" 重新编辑\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"upload\"}},[_c('i',{staticClass:\"iconfont icon-img\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetailFlag),expression:\"showDetailFlag\"}],ref:\"detail-ref\",staticClass:\"more-message\"},[_vm._m(0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"group-more-part\"},[_c('div',{staticClass:\"more-search\"},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_c('input',{staticClass:\"search-member\",attrs:{\"placeholder\":\"搜索\",\"type\":\"text\"}})]),_c('div',{staticClass:\"group-more-content\"},[_c('div',{staticClass:\"user-list\"},[_c('div',{staticClass:\"more-user\"},[_c('img',{attrs:{\"alt\":\"\",\"src\":\"https://img1.imgtp.com/2023/01/29/odnUWlDQ.jpg\"}}),_c('span',[_vm._v(\"用名\")])]),_c('div',{staticClass:\"more-icon\"},[_c('div',{staticClass:\"search-add\"},[_vm._v(\"+\")]),_c('span',[_vm._v(\"添加\")])])]),_c('div',{staticClass:\"look-more-user\"},[_c('span',[_vm._v(\"查看更多\")]),_c('i',{staticClass:\"iconfont icon-down-more\"})]),_c('div',{staticClass:\"more-common\"},[_c('p',[_vm._v(\"群聊名称\")]),_c('span',{staticClass:\"qun-name\"}),_c('p',[_vm._v(\"群公告\")]),_c('span',{staticClass:\"qun-announcement\"})])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-show=\"showDetailFlag\" ref=\"detail-ref\" class=\"more-message\">\n    <div class=\"group-more-part\">\n      <div class=\"more-search\">\n        <i class=\"iconfont icon-sousuo\"></i>\n        <input class=\"search-member\" placeholder=\"搜索\" type=\"text\" />\n      </div>\n      <div class=\"group-more-content\">\n        <!-- 群成员 -->\n        <div class=\"user-list\">\n          <div class=\"more-user\">\n            <img alt=\"\" src=\"https://img1.imgtp.com/2023/01/29/odnUWlDQ.jpg\" />\n            <span>用名</span>\n          </div>\n          <div class=\"more-icon\">\n            <div class=\"search-add\">+</div>\n            <span>添加</span>\n          </div>\n        </div>\n        <div class=\"look-more-user\">\n          <span>查看更多</span>\n          <i class=\"iconfont icon-down-more\"></i>\n        </div>\n        <div class=\"more-common\">\n          <p>群聊名称</p>\n          <span class=\"qun-name\"></span>\n          <p>群公告</p>\n          <span class=\"qun-announcement\"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  destroyed() {\n    console.log(\"销毁\");\n  },\n  data() {\n    return {\n      showDetailFlag: false,\n    };\n  },\n  methods: {\n    showDetail() {\n      this.showDetailFlag = true;\n      this.detailRegister();\n    },\n    // 给展示详细信息的区域注册点击事件\n    detailRegister() {\n      this.$refs[\"detail-ref\"].addEventListener(\"click\", this.showFn);\n      this.windowRegister();\n    },\n    // 展示弹层事件\n    showFn(e) {\n      // 阻止冒泡，防止触发 window的click事件\n      e.stopPropagation();\n    },\n    // 给全局注册点击事件\n    windowRegister() {\n      window.addEventListener(\"click\", this.closeDetail);\n    },\n    // 关闭详细区域\n    closeDetail() {\n      this.showDetailFlag = false;\n      window.removeEventListener(\"click\", this.closeDetail);\n      this.$refs[\"detail-ref\"].removeEventListener(\"click\", this.closeDetail);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.more-message {\n  position: absolute;\n  top: -1px;\n  bottom: -1px;\n  right: 0;\n  width: 230px;\n  padding: 15px;\n  box-sizing: border-box;\n  // transform: translateX(100%);\n  background-color: @theme-color;\n  border: 1px solid @border-color;\n\n  .group-more-part {\n    .more-search {\n      position: relative;\n      margin-bottom: 25px;\n      .input();\n\n      .iconfont {\n        position: absolute;\n        top: 8px;\n        left: 5px;\n        font-size: 18px;\n      }\n    }\n\n    .group-more-content {\n      overflow-y: auto;\n      height: 650px;\n\n      // 隐藏滚动条\n      scrollbar-width: none; /* Firefox */\n      -ms-overflow-style: none; /* IE 10+ */\n\n      &::-webkit-scrollbar {\n        display: none; /* Chrome Safari */\n      }\n\n      .user-list {\n        display: flex;\n        flex-wrap: wrap;\n        // justify-content: space-between;\n        margin: 5px 0;\n\n        & > div {\n          margin-bottom: 15px;\n\n          &:nth-child(4n + 2) {\n            margin-left: 12px;\n            margin-right: 12px;\n          }\n\n          &:nth-child(4n + 3) {\n            margin-right: 12px;\n          }\n        }\n\n        span {\n          width: 100%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          font-size: 14px;\n          text-align: center;\n          margin-top: 6px;\n        }\n\n        .more-user {\n          display: flex;\n          flex-direction: column;\n          width: 40px;\n\n          img {\n            width: 100%;\n            height: 40px;\n            border-radius: 2px;\n          }\n        }\n\n        .more-icon {\n          text-align: center;\n\n          .search-add {\n            box-sizing: border-box;\n            width: 40px;\n            height: 40px;\n            line-height: 35px;\n            font-size: 18px;\n            font-weight: 600;\n            color: @text-gray-color;\n            text-align: center;\n            border: 1px solid #e7e7e8;\n            cursor: pointer;\n          }\n        }\n      }\n\n      .look-more-user {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 14px;\n        color: @text-gray-color;\n        cursor: pointer;\n      }\n\n      .more-common {\n        margin-top: 20px;\n        border-top: 1px solid @border-color;\n        font-size: 14px;\n\n        p {\n          margin-top: 20px;\n          margin-bottom: 0;\n          color: @text-color;\n        }\n\n        span {\n          color: @text-gray-color;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoreDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoreDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoreDetail.vue?vue&type=template&id=c5d4edcc&scoped=true&\"\nimport script from \"./MoreDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MoreDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoreDetail.vue?vue&type=style&index=0&id=c5d4edcc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5d4edcc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message\",class:_vm.messageItem.isMe ? 'right' : 'left'},[(_vm.messageItem.time)?_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(_vm.messageItem.time)+\" \")]):_vm._e(),_c('div',{staticClass:\"user-msg\"},[_c('img',{staticClass:\"avatar-user\",attrs:{\"src\":_vm.messageItem.avatar,\"alt\":\"\"}}),(_vm.messageItem.isText)?_c('div',{staticClass:\"message-detail\",on:{\"contextmenu\":function($event){return _vm.rightClick(_vm.messageItem, $event)}}},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.messageItem.userName))]),_c('span',{staticClass:\"block\"}),_c('span',{staticClass:\"message-text\"},[_vm._v(_vm._s(_vm.messageItem.content))])]):_c('div',{staticClass:\"msg-picture-detail\",on:{\"contextmenu\":_vm.rightClick}},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.messageItem.userName))]),_c('img',{staticClass:\"msg-picture\",attrs:{\"src\":_vm.messageItem.imgUrl,\"alt\":\"\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"messageItem.isMe ? 'right' : 'left'\" class=\"message\">\n    <!-- 根据条件展示聊天时间 -->\n    <div v-if=\"messageItem.time\" class=\"time\">\n      {{ messageItem.time }}\n    </div>\n    <div class=\"user-msg\">\n      <img :src=\"messageItem.avatar\" alt=\"\" class=\"avatar-user\" />\n      <!-- 文本信息和图片信息 动态显示 -->\n\n      <div\n        v-if=\"messageItem.isText\"\n        class=\"message-detail\"\n        v-on:contextmenu=\"rightClick(messageItem, $event)\"\n      >\n        <div class=\"user-name\">{{ messageItem.userName }}</div>\n        <span class=\"block\"></span>\n        <span class=\"message-text\">{{ messageItem.content }}</span>\n      </div>\n      <!-- 图片类型 -->\n      <div v-else class=\"msg-picture-detail\" v-on:contextmenu=\"rightClick\">\n        <div class=\"user-name\">{{ messageItem.userName }}</div>\n        <img :src=\"messageItem.imgUrl\" alt=\"\" class=\"msg-picture\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    messageItem: {\n      type: Object,\n      require: true,\n    },\n  },\n  methods: {\n    // 表格右击的功能\n    rightClick(item, e) {\n      console.log(item);\n      // 阻止默认的菜单弹出事件\n      e.preventDefault();\n      var sparrowEvent = this.$sparrow.event(e);\n      let menu = document.querySelector(\".msg-recall\");\n      // 根据事件对象中鼠标点击的位置，进行定位\n      menu.style.display = \"block\";\n      menu.style.top = sparrowEvent.getAbsoluteTop() + \"px\";\n      menu.style.left = sparrowEvent.getAbsoluteLeft() + \"px\";\n      menu.style.zIndex = 1000;\n    },\n  },\n  data() {\n    return {\n      //右键菜单栏\n      menus: [{ name: \"菜单四\", operType: 4, icon: \"el-icon-folder-remove\" }],\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.message {\n  margin: 20px;\n\n  .time {\n    color: #666;\n    font-size: 14px;\n    text-align: center;\n    padding: 10px 0;\n  }\n\n  .user-msg {\n    display: flex;\n    padding: 10px 0;\n\n    .avatar-user {\n      width: 35px;\n      height: 35px;\n      border-radius: 5px;\n    }\n\n    .message-detail {\n      max-width: 50%;\n      margin: 0 20px 0 25px;\n      padding: 12px 10px;\n      border-radius: 5px;\n      overflow-wrap: break-word;\n\n      .message-text {\n        white-space: pre-wrap;\n      }\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    .msg-picture-detail {\n      position: relative;\n      margin: 0 20px;\n\n      .msg-picture {\n        border-radius: 5px;\n        max-width: 150px;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .recall {\n    text-align: center;\n    color: #666;\n\n    .reset {\n      color: #607298;\n      cursor: pointer;\n    }\n  }\n}\n\n.left {\n  .user-msg {\n    flex-direction: row;\n\n    .user-name {\n      position: absolute;\n      top: 0;\n      left: 0;\n      transform: translateY(-110%);\n      width: 100px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      color: #999;\n    }\n\n    .message-detail {\n      background-color: #fff;\n      color: #000;\n      position: relative;\n\n      .block {\n        // display: inline-block;\n        border: 10px solid transparent;\n        border-right-color: #fff;\n        position: absolute;\n        top: 8px;\n        left: -20px;\n      }\n    }\n  }\n}\n\n.right {\n  .user-msg {\n    flex-direction: row-reverse;\n\n    .user-name {\n      display: none !important;\n    }\n\n    .message-detail {\n      background-color: @text-color;\n      color: #eee;\n      position: relative;\n\n      .block {\n        // display: inline-block;\n        border: 10px solid transparent;\n        border-left-color: @text-color;\n        position: absolute;\n        top: 8px;\n        right: -20px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChartItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartItem.vue?vue&type=template&id=474de8ef&scoped=true&\"\nimport script from \"./ChartItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartItem.vue?vue&type=style&index=0&id=474de8ef&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"474de8ef\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"\">\n    <div class=\"msg-recall\" style=\"display: none\">撤回</div>\n    <div class=\"msg-content\">\n      <!-- 聊天头部信息 -->\n      <div class=\"title\">\n        <span class=\"user\"\n          >{{ session.title }} {{ session.platform ? \"[平台]\" : \"\" }}</span\n        >\n        <i\n          v-show=\"session.type === $protocol.CHAT_TYPE_1_2_N\"\n          class=\"iconfont icon-more show-more-icon\"\n          @click=\"showMore\"\n        ></i>\n      </div>\n      <div class=\"msg-detail\">\n        <!-- 渲染聊天记录 -->\n\n        <template v-for=\"item of session.messages\">\n          <div :key=\"item.id\">\n            <!-- 首先判断是否为 撤回的消息 -->\n            <div v-if=\"item.messageType === 'recall'\">\n              <div v-if=\"item.isMe\" class=\"show-recall-mime recall\">\n                <p>你撤回了一条消息<span class=\"reset\"> 重新编辑</span></p>\n              </div>\n              <div v-else class=\"show-recall-other recall\">\n                <p>\n                  <span class=\"recall-user\">{{ session.title }}</span\n                  >撤回了一条消息\n                </p>\n              </div>\n            </div>\n            <!-- 普通的消息 -->\n            <div v-else>\n              <ChatItem v-if=\"item.isMe\" :message-item=\"item\"></ChatItem>\n              <ChatItem v-else :message-item=\"item\"></ChatItem>\n            </div>\n          </div>\n        </template>\n      </div>\n      <div class=\"input-part\">\n        <div class=\"conver-button\">\n          <span>英</span>\n          <span class=\"active-lang\">中</span>\n          <div class=\"upload-part\">\n            <label for=\"upload\">\n              <i class=\"iconfont icon-img\"></i>\n            </label>\n            <input\n              id=\"upload\"\n              class=\"upload-img\"\n              style=\"display: none\"\n              type=\"file\"\n              @change=\"sendImage($event.target.files[0])\"\n            />\n          </div>\n        </div>\n        <div class=\"input-message\">\n          <div class=\"text\">\n            <textarea v-model=\"content\" class=\"input-content\"></textarea>\n          </div>\n          <button class=\"send-btn\" @click=\"sendText\">发送</button>\n        </div>\n      </div>\n      <!-- 群聊的详细信息 -->\n      <MoreDetail ref=\"showMore\"></MoreDetail>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MoreDetail from \"./MoreDetail.vue\";\nimport ChatItem from \"./ChartItem.vue\";\nimport { ImProtocol } from \"../../../../source/scripts/ImProtocol\";\nimport { Initialization } from \"../../../api/Initialization\";\n\nexport default {\n  components: { MoreDetail, ChatItem },\n  props: {\n    // 当前聊天对象 / 群 的信息\n    session: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  mounted() {\n    console.log(\"session:\" + JSON.stringify(this.session));\n  },\n  data() {\n    return {\n      // 当前聊天的内容\n      content: \"\",\n    };\n  },\n  methods: {\n    showMore(e) {\n      // 阻止冒泡，防止触发window 的click 事件\n      e.stopPropagation();\n      // 展开详细信息\n      this.$refs[\"showMore\"].showDetail();\n    },\n    async sendImage(file) {\n      const fileReader = new FileReader();\n      var that = this;\n      fileReader.onload = function () {\n        const result = fileReader.result;\n        console.log(result);\n        var content = new Uint8Array(result);\n        var time = new Date().getTime();\n        //如果是1对1聊天，则传过来的key=对方用户ID\n        var chatType = parseInt(that.$route.query.chatType, 10);\n        var protocol = new that.$protocol(\n          chatType,\n          that.$protocol.IMAGE_MESSAGE,\n          that.$getUserId(),\n          that.session.oppositeUserId,\n          that.session.key,\n          content,\n          time\n        );\n        that.$webSocket.sendMessage(protocol);\n        this.content = \"\";\n        Initialization.rebuild(protocol, that);\n        Initialization.resortSessions(that);\n      };\n      fileReader.readAsArrayBuffer(file);\n      this.handleScrollBottom();\n    },\n    sendText() {\n      if (!this.content) {\n        this.$message(\"嘿！你还没有输入内容哦！\");\n        return;\n      }\n      var time = new Date().getTime();\n      var chatType = parseInt(this.session.type, 10);\n      //如果是1对1聊天，则传过来的key=对方用户ID\n      var protocol = new ImProtocol(\n        chatType,\n        ImProtocol.TEXT_MESSAGE,\n        this.$getUserId(),\n        this.session.oppositeUserId,\n        this.session.key,\n        this.content,\n        time\n      );\n      this.$webSocket.sendMessage(protocol);\n      this.content = \"\";\n      Initialization.rebuild(protocol, this);\n      Initialization.resortSessions(this);\n      console.log(\"parse protocol:\" + protocol);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.msg-recall {\n  position: absolute;\n  //left: 0;\n  //top: 0;\n  //color: red;\n  //background-color: #fff;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.msg-recall ul {\n  //list-style-type: none;\n  //padding: 0;\n  //margin: 0;\n}\n\n.msg-recall ul li {\n  //padding: 5px 15px;\n  //cursor: pointer;\n}\n\n.msg-recall ul li:hover {\n  //background: rgba(0, 0, 0, 0.1);\n}\n\n.msg-content {\n  // float: right;\n  width: 100%;\n  min-width: 400px;\n  border: 1px solid @border-color;\n  border-left: none;\n  position: relative;\n\n  .title {\n    height: 75px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #f5f3f3;\n    border-bottom: 1px solid @border-color;\n    padding: 0 20px;\n\n    .user {\n      line-height: 60px;\n      font-size: 20px;\n      font-weight: 500;\n    }\n\n    .iconfont {\n      font-size: 30px;\n      cursor: pointer;\n    }\n  }\n\n  .msg-detail {\n    width: 100%;\n    height: 450px;\n    background-color: #f8f8f8;\n    overflow: auto;\n\n    // 隐藏滚动条\n    scrollbar-width: none; /* Firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n\n    &::-webkit-scrollbar {\n      display: none; /* Chrome Safari */\n    }\n\n    .recall {\n      text-align: center;\n      color: #666;\n\n      .reset {\n        color: #607298;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .input-part {\n    width: 100%;\n    border-top: 1px solid @border-color;\n    background-color: @theme-color;\n\n    .conver-button {\n      height: 60px;\n      line-height: 60px;\n      display: flex;\n      align-items: center;\n      background-color: #f5f3f3;\n      padding-left: 15px;\n\n      span {\n        text-align: center;\n        height: 26px;\n        width: 26px;\n        line-height: 26px;\n        border: 2px solid @text-color;\n        color: @text-color;\n        background-color: #fff;\n        cursor: pointer;\n      }\n\n      .upload-part {\n        height: 100%;\n\n        .iconfont {\n          font-size: 28px;\n          margin-left: 10px;\n          cursor: pointer;\n        }\n      }\n    }\n\n    .input-message {\n      background-color: @theme-color;\n      padding-left: 15px;\n      position: relative;\n\n      .text {\n        height: 134px;\n        margin-right: 20px;\n        margin-top: 10px;\n\n        .input-content {\n          width: 100%;\n          height: 70px;\n          font-size: 20px;\n          outline: none;\n          border: none;\n          resize: none;\n          background-color: @theme-color;\n        }\n      }\n\n      .send-btn {\n        position: absolute;\n        bottom: 10px;\n        right: 10px;\n        width: 110px;\n        height: 40px;\n        background-color: #f3f0f0;\n        border: none;\n        font-size: 18px;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .active-lang {\n    color: #fff !important;\n    background-color: @text-color !important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatPart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatPart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatPart.vue?vue&type=template&id=fa13a560&scoped=true&\"\nimport script from \"./ChatPart.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatPart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatPart.vue?vue&type=style&index=0&id=fa13a560&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa13a560\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"chat\">\n    <!-- 左侧消息列表 -->\n    <div class=\"msg-part\">\n      <!-- 搜索框 -->\n      <div class=\"search-part\">\n        <div class=\"search-icon\">\n          <i class=\"iconfont icon-search\"></i>\n          <!--          <input class=\"search-input\" placeholder=\"搜索\" type=\"text\" />-->\n        </div>\n        <div class=\"search-add iconfont icon-add-user\"></div>\n      </div>\n      <!-- 消息列表 -->\n      <div class=\"msg-list\">\n        <div\n          v-for=\"item of sessionList\"\n          :key=\"item.key\"\n          :class=\"item.key === activeSession.key ? 'session-active' : ''\"\n          class=\"msg-item\"\n          @click=\"switchSession(item)\"\n        >\n          <div class=\"avatar\">\n            <img :src=\"item.icon\" alt=\"用户头像\" class=\"avatar-img\" />\n            <img\n              v-if=\"item.type === $protocol.CHAT_TYPE_1_2_1\"\n              :src=\"item.flag\"\n              alt=\"国籍\"\n              class=\"nation\"\n            />\n            <span v-if=\"item.unReadCount > 0\" class=\"unread\">{{\n              item.unReadCount\n            }}</span>\n          </div>\n          <div class=\"msg-user-time\">\n            <div class=\"msg-user\">\n              <span class=\"user-name\">{{ item.title }}</span>\n              <span class=\"msg-time\">{{ item.time }}</span>\n            </div>\n            <span class=\"msg-last\">{{ item.lastMessageContent }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 右侧聊天框 -->\n    <div class=\"msg-content\">\n      <ChatPart :session=\"activeSession\"></ChatPart>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ChatPart from \"@/components/ChatPart.vue\";\nimport { ChatApi } from \"../../../api/Chat\";\nimport { Initialization } from \"../../../api/Initialization\";\n\nexport default {\n  components: { ChatPart },\n  data() {\n    return {\n      sessionList: this.$sessions,\n      //一定要添加初始化数据，否则会报错\n      activeSession: { key: -1 },\n    };\n  },\n  computed: {},\n  mounted() {\n    this.$store.commit(\"activeMenu\", 2);\n    Initialization.initActiveSession(this);\n    ChatApi.setRead(this.activeSession, this);\n  },\n  methods: {\n    // 切换聊天用户\n    switchSession(session) {\n      this.activeSession = session;\n      ChatApi.setRead(this.activeSession, this);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.chat {\n  width: 95%;\n  height: 100%;\n  display: flex;\n}\n\n.msg-part {\n  width: 32%;\n  min-width: 250px;\n  background-color: @theme-color;\n  border: 1px solid @border-color;\n\n  .search-part {\n    height: 75px;\n    padding: 0 15px;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    background-color: #f3f0f0;\n    border-bottom: 1px solid #fff;\n    position: relative;\n\n    .search-icon {\n      position: relative;\n      margin-right: 15px;\n      flex: 1;\n\n      input {\n        box-sizing: border-box;\n        width: 100%;\n        height: 35px;\n        border: none;\n        outline: none;\n        padding-left: 27px;\n      }\n\n      .iconfont {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        left: 5px;\n        color: #a3a3a3;\n        font-size: 18px;\n      }\n    }\n\n    .search-add {\n      width: 35px;\n      height: 35px;\n      line-height: 35px;\n      font-size: 18px;\n      font-weight: 600;\n      color: @text-gray-color;\n      text-align: center;\n      background-color: #fff;\n      cursor: pointer;\n    }\n  }\n\n  .msg-list {\n    overflow: auto;\n    height: 657px;\n    // 隐藏滚动条\n    scrollbar-width: none; /* Firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n\n    &::-webkit-scrollbar {\n      display: none; /* Chrome Safari */\n    }\n\n    .msg-item {\n      width: 100%;\n      padding: 20px 15px;\n      box-sizing: border-box;\n      display: flex;\n      background-color: @theme-color;\n      cursor: pointer;\n\n      .avatar {\n        width: 60px;\n        height: 60px;\n        position: relative;\n        border-radius: 5px;\n        margin-right: 10px;\n\n        .nation {\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          position: absolute;\n          bottom: -5px;\n          left: -1px;\n        }\n\n        .avatar-img {\n          width: 100%;\n          height: 100%;\n          border-radius: 5px;\n        }\n\n        span {\n          position: absolute;\n          top: 0;\n          right: 0;\n          transform: translate(40%, -40%);\n          display: inline-block;\n          width: 20px;\n          height: 20px;\n          background-color: red;\n          border-radius: 50%;\n          text-align: center;\n          line-height: 20px;\n          color: #fff;\n        }\n      }\n\n      .msg-user-time {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n\n        .msg-user {\n          display: flex;\n          justify-content: space-between;\n\n          .user-name {\n            max-width: 85px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n          }\n\n          .msg-time {\n            color: #8c8c8c;\n            font-size: 14px;\n          }\n        }\n\n        .msg-last {\n          color: #8c8c8c;\n          font-size: 14px;\n          max-width: 130px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n      }\n    }\n  }\n}\n\n.session-active {\n  background-color: #f3f0f0 !important;\n}\n\n.msg-content {\n  width: 68%;\n  min-width: 400px;\n  border: 1px solid @border-color;\n  border-left: none;\n  position: relative;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Session.vue?vue&type=template&id=0801cdf0&scoped=true&\"\nimport script from \"./Session.vue?vue&type=script&lang=js&\"\nexport * from \"./Session.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Session.vue?vue&type=style&index=0&id=0801cdf0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0801cdf0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","_l","sessionList","item","key","class","activeSession","on","$event","switchSession","attrs","icon","type","$protocol","CHAT_TYPE_1_2_1","flag","_e","unReadCount","_v","_s","title","time","lastMessageContent","staticRenderFns","staticStyle","session","platform","directives","name","rawName","value","CHAT_TYPE_1_2_N","expression","showMore","messages","id","messageType","isMe","sendImage","target","files","content","domProps","composing","sendText","ref","showDetailFlag","destroyed","console","log","data","methods","showDetail","detailRegister","$refs","addEventListener","showFn","windowRegister","e","stopPropagation","window","closeDetail","removeEventListener","component","messageItem","avatar","isText","rightClick","userName","imgUrl","props","Object","require","preventDefault","sparrowEvent","$sparrow","event","menu","document","querySelector","style","display","top","getAbsoluteTop","left","getAbsoluteLeft","zIndex","menus","operType","components","MoreDetail","ChatItem","default","mounted","JSON","stringify","file","fileReader","FileReader","that","onload","result","Uint8Array","Date","getTime","chatType","parseInt","$route","query","protocol","IMAGE_MESSAGE","$getUserId","oppositeUserId","$webSocket","sendMessage","Initialization","readAsArrayBuffer","handleScrollBottom","ImProtocol","$message","ChatPart","$sessions","computed","$store","commit","ChatApi"],"sourceRoot":""}