"use strict";(self["webpackChunkchat_pc"]=self["webpackChunkchat_pc"]||[]).push([[822],{7822:function(e,o,t){t.r(o),t.d(o,{default:function(){return p}});var l=function(){var e=this,o=e._self._c;return o("div",{staticClass:"login"},[o("el-form",{ref:"form",attrs:{model:e.login,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[o("el-input",{model:{value:e.login.phone,callback:function(o){e.$set(e.login,"phone",o)},expression:"login.phone"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{model:{value:e.login.password,callback:function(o){e.$set(e.login,"password",o)},expression:"login.password"}})],1),o("el-form-item",{attrs:{label:"验证码",prop:"code"}},[o("el-input",{model:{value:e.login.code,callback:function(o){e.$set(e.login,"code",o)},expression:"login.code"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")]),o("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},n=[],s=(t(7658),t(4804)),i={data(){return{login:{phone:"",password:"",code:""}}},methods:{onSubmit(){""!==this.login.phone&&""!==this.login.password&&""!==this.login.code?s.W.login(this.login.code,this.login.phone,this.login.password).then((async e=>{200===e.code?(console.log(e.data.token),console.log(e.data.memberInfo.id),localStorage.setItem("userId",e.data.memberInfo.id),localStorage.setItem("token",e.data.token),this.$message("登录成功"),await this.$init(),await this.$router.push("/contact")):this.$message("登录失败-"+e.msg)}),(e=>{console.log("error:"+e)})):this.$message("请填写完整信息")},cancel(){console.log("cancel"),this.$refs.form.resetFields()}}},a=i,r=t(1001),c=(0,r.Z)(a,l,n,!1,null,"b4303e46",null),p=c.exports}}]);
//# sourceMappingURL=822.f350cd38.js.map