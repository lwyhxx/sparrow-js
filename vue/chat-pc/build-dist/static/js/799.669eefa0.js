"use strict";(self["webpackChunkchat_pc"]=self["webpackChunkchat_pc"]||[]).push([[799],{1799:function(t,s,e){e.r(s),e.d(s,{default:function(){return p}});var n=function(){var t=this,s=t._self._c;return s("div",{},[s("QunItem",{attrs:{"qun-list":t.qunList},on:{chat:t.onChat,remove:t.onRemove}})],1)},a=[],i=(e(7658),function(){var t=this,s=t._self._c;return s("div",t._l(t.qunList,(function(e){return s("div",{key:e.id,staticClass:"user-item"},[s("div",{staticClass:"user-info"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:e.avatar,alt:""}})]),s("div",{staticClass:"user-name"},[s("span",[t._v(t._s(e.title))]),s("span",[t._v(t._s(e.lastMessageContent))]),s("span",[t._v(t._s(e.lastMessageTime))])])]),s("div",{staticClass:"operate"},[s("button",{on:{click:function(s){return t.remove(e)}}},[t._v(" "+t._s("退出群聊")+" ")]),s("button",{staticClass:"chat",on:{click:function(s){return t.chat(e)}}},[t._v("聊一下")])])])})),0)}),u=[],l={props:{qunList:{type:Array,default:()=>[]}},data(){return{}},methods:{remove(t){this.$emit("remove",t)},chat(t){this.$emit("chat",t)}}},r=l,o=e(1001),c=(0,o.Z)(r,i,u,!1,null,"dc75c3c4",null),m=c.exports,h={components:{QunItem:m},data(){return{}},computed:{qunList(){return this.$contact.quns.map((t=>{const s=t.qunName,e=t.qunId;var n=this.$sessions?this.$sessions[t.qunId]:null,a=n?n.messages:null;const i=null!=a&&a.length>0?a[a.length-1]:null,u=i?i.time:null,l=i?1===i.messageType?"/图片/":i.content:null,r=i?n.messages.filter((t=>t.serverTime>=n.lastReadTime)).length:0;return{id:e,title:s,lastMessageTime:u,lastMessageContent:l,unReadCount:r,avatar:t.unitIcon}})).sort(((t,s)=>s.lastMessageTime-t.lastMessageTime))}},methods:{onRemove(t){console.log(t)},onChat(t){this.$router.push({name:"session",query:{key:t.id}})}}},v=h,d=(0,o.Z)(v,n,a,!1,null,"0ea24d92",null),p=d.exports}}]);
//# sourceMappingURL=799.669eefa0.js.map